<h1 id="writing-logic-in-css">Writing Logic in CSS<a aria-hidden="true" class="anchor-heading icon-link" href="#writing-logic-in-css"></a></h1>
<p><a href="https://iamschulz.com/writing-logic-in-css/">https://iamschulz.com/writing-logic-in-css/</a></p>
<h1 id="control-structures">Control Structures<a aria-hidden="true" class="anchor-heading icon-link" href="#control-structures"></a></h1>
<h2 id="variables">Variables<a aria-hidden="true" class="anchor-heading icon-link" href="#variables"></a></h2>
<pre class="language-css"><code class="language-css"><span class="token selector"><span class="token pseudo-class">:root</span></span> <span class="token punctuation">{</span>
  <span class="token variable">--color</span><span class="token punctuation">:</span> <span class="token color">red</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">span</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--color</span><span class="token punctuation">,</span> <span class="token color">blue</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="conditions">Conditions<a aria-hidden="true" class="anchor-heading icon-link" href="#conditions"></a></h2>
<h3 id="attribute-selectors">Attribute Selectors:<a aria-hidden="true" class="anchor-heading icon-link" href="#attribute-selectors"></a></h3>
<pre class="language-css"><code class="language-css"><span class="token selector"><span class="token attribute"><span class="token punctuation">[</span><span class="token attr-name">data-attr</span><span class="token operator">=</span><span class="token attr-value">"true"</span><span class="token punctuation">]</span></span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* if */</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token attribute"><span class="token punctuation">[</span><span class="token attr-name">data-attr</span><span class="token operator">=</span><span class="token attr-value">"false"</span><span class="token punctuation">]</span></span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* elseif */</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token pseudo-class">:not</span><span class="token punctuation">(</span><span class="token attribute"><span class="token punctuation">[</span><span class="token attr-name">data-attr</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* else */</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="pseudo-classes">Pseudo Classes:<a aria-hidden="true" class="anchor-heading icon-link" href="#pseudo-classes"></a></h3>
<pre class="language-css"><code class="language-css"><span class="token selector"><span class="token pseudo-class">:checked</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* if */</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token pseudo-class">:not</span><span class="token punctuation">(</span><span class="token pseudo-class">:checked</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* else */</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="media-queries">Media Queries:<a aria-hidden="true" class="anchor-heading icon-link" href="#media-queries"></a></h3>
<pre class="language-css"><code class="language-css"><span class="token selector"><span class="token pseudo-class">:root</span></span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span><span class="token punctuation">;</span> <span class="token comment">/* else */</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span>min-width > <span class="token number">600</span><span class="token unit">px</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token pseudo-class">:root</span></span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">blue</span><span class="token punctuation">;</span> <span class="token comment">/* if */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="loops">Loops<a aria-hidden="true" class="anchor-heading icon-link" href="#loops"></a></h2>
<pre class="language-css"><code class="language-css"><span class="token selector">main</span> <span class="token punctuation">{</span>
  <span class="token property">counter-reset</span><span class="token punctuation">:</span> section<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">section</span> <span class="token punctuation">{</span>
  <span class="token property">counter-increment</span><span class="token punctuation">:</span> section<span class="token punctuation">;</span>
  <span class="token property">counter-reset</span><span class="token punctuation">:</span> section<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">section <span class="token combinator">></span> h2<span class="token pseudo-element">::before</span></span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">"Headline "</span> <span class="token function">counter</span><span class="token punctuation">(</span>section<span class="token punctuation">)</span> <span class="token string">": "</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-css"><code class="language-css"><span class="token selector"><span class="token class">.grid</span></span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>auto-fill<span class="token punctuation">,</span> <span class="token function">minmax</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token unit">fr</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-css"><code class="language-css"><span class="token selector">section<span class="token pseudo-class">:nth-child</span><span class="token punctuation">(</span><span class="token n-th"><span class="token number">2n</span></span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* selects every even element */</span>
<span class="token punctuation">}</span>

<span class="token selector">section<span class="token pseudo-class">:nth-child</span><span class="token punctuation">(</span><span class="token n-th"><span class="token number">4n</span> <span class="token operator">+</span> <span class="token number">2</span></span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* selects every fourth, starting from the 2nd */</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-css"><code class="language-css"><span class="token selector">section<span class="token pseudo-class">:nth-child</span><span class="token punctuation">(</span><span class="token n-th"><span class="token number">3n</span></span><span class="token punctuation">)</span><span class="token pseudo-class">:not</span><span class="token punctuation">(</span><span class="token pseudo-class">:nth-child</span><span class="token punctuation">(</span><span class="token n-th"><span class="token number">6</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* selects every 3rd element, but not the 6th */</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 id="logic-gates"><a href="https://css-tricks.com/logical-operations-with-css-variables/">Logic Gates</a><a aria-hidden="true" class="anchor-heading icon-link" href="#logic-gates"></a></h1>
<h1 id="techniques">Techniques<a aria-hidden="true" class="anchor-heading icon-link" href="#techniques"></a></h1>
<h2 id="the-owl-selector">The Owl Selector<a aria-hidden="true" class="anchor-heading icon-link" href="#the-owl-selector"></a></h2>
<pre class="language-css"><code class="language-css"><span class="token selector">* <span class="token combinator">+</span> *</span> <span class="token punctuation">{</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">rem</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="conditional-styling">Conditional Styling<a aria-hidden="true" class="anchor-heading icon-link" href="#conditional-styling"></a></h2>
<pre class="language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span></span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">rem</span> <span class="token number">1</span><span class="token unit">rem</span> <span class="token number">1</span><span class="token unit">rem</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token unit">rem</span> <span class="token operator">+</span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--s</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token unit">rem</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--s</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--s</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--s</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">)</span> solid <span class="token function">hsl</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--s</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.icon</span></span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--s</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--s</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="automatic-contrast-colors">Automatic contrast colors<a aria-hidden="true" class="anchor-heading icon-link" href="#automatic-contrast-colors"></a></h2>
<pre class="language-css"><code class="language-css"><span class="token selector"><span class="token pseudo-class">:root</span></span> <span class="token punctuation">{</span>
  <span class="token variable">--theme-hue</span><span class="token punctuation">:</span> <span class="token number">210</span><span class="token unit">deg</span><span class="token punctuation">;</span>
  <span class="token variable">--theme-sat</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token unit">%</span><span class="token punctuation">;</span>
  <span class="token variable">--theme-lit</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">%</span><span class="token punctuation">;</span>
  <span class="token variable">--theme-font-threshold</span><span class="token punctuation">:</span> <span class="token number">51</span><span class="token unit">%</span><span class="token punctuation">;</span>

  <span class="token variable">--background-color</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--theme-hue</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--theme-sat</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--theme-lit</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token variable">--font-color</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>
    <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--theme-hue</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--theme-sat</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">clamp</span><span class="token punctuation">(</span>
      <span class="token number">10</span><span class="token unit">%</span><span class="token punctuation">,</span>
      <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token unit">%</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--theme-lit</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">var</span><span class="token punctuation">(</span>theme-font-threshold<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token number">95</span><span class="token unit">%</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="setting-variables-in-javascript">Setting Variables in JavaScript<a aria-hidden="true" class="anchor-heading icon-link" href="#setting-variables-in-javascript"></a></h2>
<pre class="language-javascript"><code class="language-javascript">	<span class="token comment">// set --s on :root</span>
	<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">documentElement</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token method function property-access">setProperty</span><span class="token punctuation">(</span><span class="token string">'--s'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// set --s scoped to #myID</span>
	<span class="token keyword">const</span> el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'#myID'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	el<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token method function property-access">setProperty</span><span class="token punctuation">(</span><span class="token string">'--s'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// read variables from an alement</span>
	<span class="token keyword">const</span> <span class="token keyword control-flow">switch</span> <span class="token operator">=</span> <span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">getPropertyValue</span><span class="token punctuation">(</span><span class="token string">'--s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>