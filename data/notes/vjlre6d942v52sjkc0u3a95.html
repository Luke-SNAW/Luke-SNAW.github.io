<h1 id="snippets">Snippets<a aria-hidden="true" class="anchor-heading icon-link" href="#snippets"></a></h1>
<h2 id="conditionally-add-properties-in-the-object-from-11-useful-modern-javascript-tips">Conditionally add properties💡 in the object from <a href="https://medium.com/dhiwise/11-useful-modern-javascript-tips-9736962ed2cd">11 Useful Modern JavaScript Tips</a><a aria-hidden="true" class="anchor-heading icon-link" href="#conditionally-add-properties-in-the-object-from-11-useful-modern-javascript-tips"></a></h2>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> isValid <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">18</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"Krina"</span><span class="token punctuation">,</span>
  <span class="token spread operator">...</span><span class="token punctuation">(</span>isValid <span class="token operator">&#x26;&#x26;</span> <span class="token punctuation">{</span> isActive<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token spread operator">...</span><span class="token punctuation">(</span>age <span class="token operator">>=</span> <span class="token number">18</span> <span class="token operator">||</span> <span class="token punctuation">(</span>isValid <span class="token operator">&#x26;&#x26;</span> <span class="token punctuation">{</span> card<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="58-javascript-tips-and-tricks-for-web-developers"><a href="https://blog.bitsrc.io/common-js-development-skills-5053f0a74ced">58 JavaScript Tips and Tricks for Web Developers</a><a aria-hidden="true" class="anchor-heading icon-link" href="#58-javascript-tips-and-tricks-for-web-developers"></a></h2>
<h2 id="loop-array">Loop array<a aria-hidden="true" class="anchor-heading icon-link" href="#loop-array"></a></h2>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span>

<span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="copy-text-to-clipboard">Copy text to clipboard<a aria-hidden="true" class="anchor-heading icon-link" href="#copy-text-to-clipboard"></a></h2>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> copyTextarea <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">"#urlToShare"</span><span class="token punctuation">)</span>
copyTextarea<span class="token punctuation">.</span><span class="token method function property-access">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
copyTextarea<span class="token punctuation">.</span><span class="token method function property-access">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
  <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">execCommand</span><span class="token punctuation">(</span><span class="token string">"copy"</span><span class="token punctuation">)</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">$t</span><span class="token punctuation">(</span><span class="token string">"URL이 복사되었습니다. 원하는 곳에 붙여넣기 하세요."</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">$t</span><span class="token punctuation">(</span><span class="token string">"복사가 실패했습니다. 직접 복사하세요."</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="throttling-requests">Throttling requests<a aria-hidden="true" class="anchor-heading icon-link" href="#throttling-requests"></a></h2>
<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> cRequest <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">preventDOSsuspiciousAction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  cRequest<span class="token operator">++</span>
  <span class="token keyword control-flow">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
      cRequest <span class="token operator">=</span> <span class="token number">0</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> cRequest <span class="token operator">*</span> <span class="token number">300</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//</span>
<span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">promisePost</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token constant">URL</span><span class="token punctuation">,</span> prms<span class="token punctuation">,</span> noToast <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> loadingFor</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">showBusyIndicator</span><span class="token punctuation">(</span>loadingFor<span class="token punctuation">)</span>
  <span class="token keyword control-flow">await</span> <span class="token function">preventDOSsuspiciousAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    $<span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> prms<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">done</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">rsp</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>rsp<span class="token punctuation">.</span><span class="token property-access">success</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>rsp<span class="token punctuation">)</span>
          <span class="token keyword control-flow">return</span>
        <span class="token punctuation">}</span>
        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>noToast<span class="token punctuation">)</span> vueObj<span class="token punctuation">.</span><span class="token property-access">$toast</span><span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span>rsp<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">)</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>rsp<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">fail</span><span class="token punctuation">(</span>reject<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">always</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">hideBusyIndicator</span><span class="token punctuation">(</span>loadingFor<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="deep-copy-in-javascript"><a href="https://web.dev/baseline-features/#deep-copy-in-javascript">Deep copy in JavaScript</a><a aria-hidden="true" class="anchor-heading icon-link" href="#deep-copy-in-javascript"></a></h2>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> original <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Tom"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token comment">/* Old hack */</span>
<span class="token keyword">const</span> deepCopy <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">/* New way */</span>
<span class="token keyword">const</span> deepCopy <span class="token operator">=</span> <span class="token function">structuredClone</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span>
</code></pre>
<hr>
<strong>Children</strong>
<ol>
<li><a href="/notes/sl745tz6bq8rs101g780c0h">Dynamic Include JavaScript, Style</a></li>
</ol>