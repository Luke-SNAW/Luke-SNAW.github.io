{"pageProps":{"note":{"id":"rmfngm9qyklrcbqlsm3jt25","title":"Kobold Letters","desc":"","updated":1712289669134,"created":1712289415338,"custom":{},"fname":"dev.web.security.kobold-letters","type":"note","vault":{"fsPath":"vault"},"contentHash":"ec1b28e69b65e85a2385b323e9404d05","links":[],"anchors":{"kobold-letters":{"type":"header","text":"Kobold letters","value":"kobold-letters","line":18,"column":0,"depth":2},"thunderbird":{"type":"header","text":"Thunderbird","value":"thunderbird","line":28,"column":0,"depth":3},"this-email-may-look-harmless":{"type":"header","text":"This email may look harmless...","value":"this-email-may-look-harmless","line":68,"column":0,"depth":5},"until-it-has-been-forwarded":{"type":"header","text":"...until it has been forwarded.","value":"until-it-has-been-forwarded","line":74,"column":0,"depth":5},"outlook-on-the-web":{"type":"header","text":"Outlook on the web","value":"outlook-on-the-web","line":78,"column":0,"depth":3},"this-email-could-ask-for-a-harmless-favour":{"type":"header","text":"This email could ask for a harmless favour...","value":"this-email-could-ask-for-a-harmless-favour","line":131,"column":0,"depth":4},"or-all-your-money":{"type":"header","text":"...or all your money.","value":"or-all-your-money","line":150,"column":0,"depth":5},"gmail":{"type":"header","text":"Gmail","value":"gmail","line":154,"column":0,"depth":3},"even-while-commenting-on-the-forwarded-message-the-illusion-is-maintained":{"type":"header","text":"Even while commenting on the forwarded message, the illusion is maintained...","value":"even-while-commenting-on-the-forwarded-message-the-illusion-is-maintained","line":189,"column":0,"depth":4},"but-in-the-end-it-will-betray-you":{"type":"header","text":"...but in the end it will betray you.","value":"but-in-the-end-it-will-betray-you","line":195,"column":0,"depth":4},"prior-work":{"type":"header","text":"Prior work","value":"prior-work","line":199,"column":0,"depth":2},"outlook-not-the-software":{"type":"header","text":"Outlook (not the software)","value":"outlook-not-the-software","line":209,"column":0,"depth":2}},"children":[],"parent":"fm8vm79bnyq6fq1gu2oq2zr","data":{}},"body":"<h1 id=\"kobold-letters\">Kobold Letters<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#kobold-letters\"></a></h1>\n<p>Why HTML emails are a risk to your organization</p>\n<blockquote>\n<p><a href=\"https://lutrasecurity.com/en/articles/kobold-letters/\">https://lutrasecurity.com/en/articles/kobold-letters/</a></p>\n</blockquote>\n<p>Anyone who has had to deal with HTML emails on a technical level has probably reached the point where they wanted to quit their job or just set fire to all the mail clients due to their inconsistent implementations. But HTML emails are not just a source of frustration, they can also be a serious security risk.</p>\n<p>Imagine you receive an email forwarded by your manager asking you to wire a large sum of money to a bank account. Of course, you have heard of CEO fraud, so you double-check that the email really comes from your manager. It does, and it may even be cryptographically signed ‚Äì if you do that in your company. However, you are still not convinced, so you call your manager to ensure that the email is legit. He confirms, so you transfer the money.</p>\n<p>Yet this would be the end of the article if this wasn‚Äôt a <em>scam</em>. So what went wrong?</p>\n<h2 id=\"kobold-letters-1\">Kobold letters<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#kobold-letters-1\"></a></h2>\n<p>The email your manager received and forwarded to you was something completely innocent, such as a potential customer asking a few questions. All that email was supposed to achieve was being forwarded to you. However, the moment the email appeared in your inbox, it changed. The innocent pretext disappeared and the real phishing email became visible. A phishing email you <em>had</em> to trust because you knew the sender and they even confirmed that they had forwarded it to you.</p>\n<p>This attack is possible because most email clients allow CSS to be used to style HTML emails. When an email is forwarded, the position of the original email in the DOM usually changes, allowing for CSS rules to be selectively applied only when an email has been forwarded.</p>\n<p>An attacker can use this to include elements in the email that appear or disappear depending on the context in which the email is viewed. Because they are usually invisible, only appear in certain circumstances, and can be used for all sorts of mischief, I‚Äôll refer to these elements as <em>kobold letters</em>, after the elusive sprites of mythology.</p>\n<p>This affects all types of email clients and webmailers that support HTML email. So pretty much all of them. For the moment, however, I‚Äôll focus on selected clients to demonstrate the problem, and leave it to others (or future me) to extend the principle to other clients.</p>\n<h3 id=\"thunderbird\">Thunderbird<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#thunderbird\"></a></h3>\n<hr>\n<p>This issue was reported to Mozilla on 05.03.2024.<br>\nThe planned release date and a draft of the following section were communicated to Mozilla on 20.03.2024.<br>\nPossible mitigations have been discussed but will not be implemented until a later date.</p>\n<hr>\n<p>Exploiting this in Thunderbird is fairly straightforward. Thunderbird wraps emails in <code>&#x3C;div class=\"moz-text-html\" lang=\"x-unicode\">&#x3C;/div></code> and leaves them otherwise unchanged, making it a good example to demonstrate the principle. When forwarding an email, the quoted email will be enclosed in another <code>&#x3C;div>&#x3C;/div></code>, moving it down one level in the DOM.</p>\n<p>Taking this into account leads to the following proof of concept:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&#x3C;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n      <span class=\"token selector\"><span class=\"token class\">.kobold-letter</span></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token selector\"><span class=\"token class\">.moz-text-html</span> <span class=\"token combinator\">></span> div <span class=\"token combinator\">></span> <span class=\"token class\">.kobold-letter</span></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>style</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>head</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span><span class=\"token punctuation\">></span></span>This text is always visible.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>kobold-letter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>This text will only appear after forwarding.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>html</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<p>The email contains two paragraphs, one that has no styling and should always be visible, and one that is hidden with <code>display: none;</code>. This is how it looks when the email is displayed in Thunderbird:</p>\n<p><a href=\"https://lutrasecurity.com/en/articles/kobold-letters/kobold-moz-1.png\">A simple email containing the sentence \"This text is always visible.\"</a></p>\n<h5 id=\"this-email-may-look-harmless\">This email may look harmless...<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#this-email-may-look-harmless\"></a></h5>\n<p>As expected, only the paragraph ‚Äú<em>This text is always visible.</em>‚Äù is shown. However, when we forward the email, the second paragraph becomes suddenly visible. Albeit only to the new recipient ‚Äì the original recipient who forwarded the email remains unaware.</p>\n<p><a href=\"https://lutrasecurity.com/en/articles/kobold-letters/kobold-moz-2.png\">The sentence \"This text will only appear after forwarding.\" is now visible.</a></p>\n<h5 id=\"until-it-has-been-forwarded\">...until it has been forwarded.<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#until-it-has-been-forwarded\"></a></h5>\n<p>Because we know exactly where each element will be in the DOM relative to <code>.moz-text-html</code>, and because we control the CSS, we can easily hide and show any part of the email, changing the content completely. If we style the kobold letter as an overlay, we can not only affect the forwarded email, but also (for example) replace any comments your manager might have had on the original mail, opening up even more opportunities for phishing.</p>\n<h3 id=\"outlook-on-the-web\">Outlook on the web<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#outlook-on-the-web\"></a></h3>\n<hr>\n<p>This issue was reported to Microsoft on 05.03.2024.<br>\nThe planned release date and a draft of the following section were communicated to Microsoft on 20.03.2024.<br>\nThe report was marked as closed by Microsoft on 26.03.204 after deciding not to take any immediate action.</p>\n<hr>\n<p>In <em>Outlook on the web</em> (OWA) the situation is slightly more complicated, as it is a webmailer. Emails are contained in <code>&#x3C;div class=\"rps_78fa\">&#x3C;/div></code>, but the exact class name will change. To prevent the CSS of emails to affect the style of the webmailer, Outlook modifies the email by prefixing all ids and classes with <code>x_</code> and adjust the CSS accordingly.</p>\n<p>Considering all this, we get the following proof of concept:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&#x3C;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n      <span class=\"token selector\"><span class=\"token class\">.kobold-letter</span></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token selector\">body <span class=\"token combinator\">></span> div <span class=\"token combinator\">></span> <span class=\"token class\">.kobold-letter</span></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>style</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>head</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span><span class=\"token punctuation\">></span></span>This text is always visible.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>kobold-letter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>This text will only appear after forwarding.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>html</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<p>When the email is displayed by OWA, the CSS will look like this:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">&#x3C;!--\n  <span class=\"token class\">.rps_78fa</span> <span class=\"token class\">.x_kobold-letter</span></span>\n  \t<span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span>\n  <span class=\"token selector\"><span class=\"token class\">.rps_78fa</span> <span class=\"token combinator\">></span> div <span class=\"token combinator\">></span> div <span class=\"token combinator\">></span> <span class=\"token class\">.x_kobold-letter</span></span>\n  \t<span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>block<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span>\n  -->\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>style</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<p>The email will be displayed as expected:</p>\n<p><a href=\"https://lutrasecurity.com/en/articles/kobold-letters/kobold-owa-1.png\">A simple email containing the sentence \"This text is always visible.\"</a></p>\n<h4 id=\"this-email-could-ask-for-a-harmless-favour\">This email could ask for a harmless favour...<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#this-email-could-ask-for-a-harmless-favour\"></a></h4>\n<p>After forwarding, the kobold letter will be enclosed by another <code>&#x3C;div></code> and the CSS will be updated again:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">&#x3C;!--\n  <span class=\"token class\">.rps_78fa</span> <span class=\"token class\">.x_x_kobold-letter</span></span>\n  \t<span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span>\n  <span class=\"token selector\"><span class=\"token class\">.rps_78fa</span> div <span class=\"token combinator\">></span> div <span class=\"token combinator\">></span> <span class=\"token class\">.x_x_kobold-letter</span></span>\n  \t<span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>block<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span>\n  -->\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>style</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<p>Note that in the second rule, the <code>></code> between <code>.rps_78fa</code> and <code>div</code> has been dropped. This must be taken into account when creating more complicated selectors. Our proof of concept works as intended:</p>\n<p><a href=\"https://lutrasecurity.com/en/articles/kobold-letters/kobold-owa-2.png\">The sentence \"This text will only appear after forwarding.\" is now visible.</a></p>\n<h5 id=\"or-all-your-money\">...or all your money.<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#or-all-your-money\"></a></h5>\n<p>The adjustments that OWA applies to the email do not interfere with the attack, but need to be considered when crafting a kobold letter. As we don‚Äôt have an easily recognizable anchor point, this can become a nuisance when trying to create a kobold letter that works for multiple clients at the same time.</p>\n<h3 id=\"gmail\">Gmail<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#gmail\"></a></h3>\n<hr>\n<p>This issue was reported to Google on 05.03.2024.<br>\nThe planned release date and a draft of the following section were communicated to Google on 20.03.2024.</p>\n<hr>\n<p>So far, we could define kobold letters as elements that use CSS selectors to be shown or hidden depending on the context in which the email is displayed. By this definition, Gmail is technically not vulnerable to kobold letters because it strips all styling from the email when forwarding it.</p>\n<p>This allows for an even simpler ‚Äì albeit more limited ‚Äì attack: It is now sufficient to hide the kobold letter with CSS, and it will automatically appear when forwarded. However, this does not allow the opposite behaviour, where the kobold letter is visible in the original email and invisible in the forwarded email.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&#x3C;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n      <span class=\"token selector\"><span class=\"token class\">.kobold-letter</span></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>style</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>head</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span><span class=\"token punctuation\">></span></span>This text is always visible.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>kobold-letter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>This text will only appear after forwarding.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>html</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<p>This is aided by the fact that when the email is forwarded, the CSS is not removed until after it has been sent:</p>\n<p><a href=\"https://lutrasecurity.com/en/articles/kobold-letters/kobold-gmail-1.png\">A simple email containing the sentence \"This text is always visible.\"</a></p>\n<h4 id=\"even-while-commenting-on-the-forwarded-message-the-illusion-is-maintained\">Even while commenting on the forwarded message, the illusion is maintained...<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#even-while-commenting-on-the-forwarded-message-the-illusion-is-maintained\"></a></h4>\n<p>While the second paragraph was clearly not visible in the editor, it is in the resulting email:</p>\n<p><a href=\"https://lutrasecurity.com/en/articles/kobold-letters/kobold-gmail-2.png\">The sentence \"This text will only appear after forwarding.\" is now visible.</a></p>\n<h4 id=\"but-in-the-end-it-will-betray-you\">...but in the end it will betray you.<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#but-in-the-end-it-will-betray-you\"></a></h4>\n<p>While it is difficult to fix kobold letters in general without breaking too much, Google could mitigate the problem by removing the CSS already in the editor. This would at least allow the sender to detect the attack before forwarding the email.</p>\n<h2 id=\"prior-work\">Prior work<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#prior-work\"></a></h2>\n<p>The fact that this is possible in one way or another is neither surprising nor new. Therefore similar issues have been reported in the past:</p>\n<ul>\n<li><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1796180\">Thunderbird - Modification of replied mail content without knowledge of replier of the mail using CSS</a></li>\n<li><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1836276\">Treat OpenPGP/SMIME email messages with certain CSS elements as unsigned</a></li>\n<li><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1731198\">Composition should use inline styling so that styles from quotes don‚Äôt leak into the message</a></li>\n</ul>\n<p>The novelty of kobold letters lies in the focus on a specific attack scenario, while looking at multiple email clients. This hopefully will help raise awareness of the risks associated with HTML emails and contribute to the discussion of what trade-offs are acceptable to mitigate these risks.</p>\n<h2 id=\"outlook-not-the-software\">Outlook (not the software)<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#outlook-not-the-software\"></a></h2>\n<p>Users can mitigate kobold letters by disabling HTML email altogether or viewing it in a restricted mode (e.g. ‚Äúplain HTML‚Äù in Thunderbird). For email clients, it is more difficult to implement a mitigation, as preventing the use of <code>&#x3C;style></code><sup><a href=\"https://www.caniemail.com/features/html-style/\">1</a></sup> would fix this, but would also break a lot of existing solutions in the email ecosystem. An implementation like the one Google already uses for Gmail could be a compromise that allows for stylized corporate newsletters while limiting the risks of HTML email.</p>\n<p>Unfortunately, for the foreseeable future, it is sadly not realistic to expect email clients to implement robust mitigation. This means that it is up to the users to be aware of the dangers of HTML emails and to take the necessary precautions.</p>","noteIndex":{"id":"Iy0MoL0KnL55Br3AfTS2C","title":"Luke","desc":"","updated":1766965759366,"created":1644449449778,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"a724de3efd251cf89fe82a5860d9008b","links":[{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"life-tips","position":{"start":{"line":43,"column":5,"offset":2710},"end":{"line":43,"column":29,"offset":2734},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"life-tips","anchorHeader":"wodenokoto"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2026.articles","alias":"What I read in 2026","position":{"start":{"line":72,"column":3,"offset":4440},"end":{"line":72,"column":45,"offset":4482},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2026.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2025.articles","alias":"2025","position":{"start":{"line":73,"column":5,"offset":4487},"end":{"line":73,"column":32,"offset":4514},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2025.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2024.articles","alias":"2024","position":{"start":{"line":74,"column":5,"offset":4519},"end":{"line":74,"column":32,"offset":4546},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2024.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2023.articles","alias":"2023","position":{"start":{"line":75,"column":5,"offset":4551},"end":{"line":75,"column":32,"offset":4578},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2023.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2022.articles","alias":"2022","position":{"start":{"line":76,"column":5,"offset":4583},"end":{"line":76,"column":32,"offset":4610},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2022.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-struggled-brag-in","position":{"start":{"line":82,"column":3,"offset":4746},"end":{"line":82,"column":39,"offset":4782},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-struggled-brag-in"}}],"anchors":{"what-i-read-in-past":{"type":"header","text":"What I read in past","value":"what-i-read-in-past","line":76,"column":0,"depth":2}},"children":["zd4mq442jike0pr0wba1u3m","6hzeqsofq67gdk88flxlkhp","778ijii93yu5uwnrwmn5zi4","g1fngdjl25nes6fs3lip602","ZbdkdApFqLdks4Moq92R9","uoc5hhki3o4py15cesddu8q","9qf7j06jtdkm6rnx9ymvwb0","5zn10cvj7ajy2gh2is5nqmg","4qo9ma0z0yu1czns6pxl7y5","ok0e729ho7o09xetujkxc0m","GR5x8HnNFEN6fU2UBSEIK","yirtnlj8q24yutcf3ss1xqy","eq0wc6t7wl2wv221yb68ro4","7x2fnv4j6gxts08qk0jguny","ettkt3iClONnxpbGwBVLl","7l4knev6v613tbuoskvmbdg","hvh5bud6yp7dc89tuh95tr9","4fvoqrplw0cweo554usbjos","f8qsfql0a9v8thpeo82udfa","1swsbrhqi9jk41v9eodyi5q","SQqYupi6EFddTerBA8RRD","hjNeNc1F2JUh0lTWanH4h","qf0l4wbrc9jgooyzexmbq5v","o7xruzrah5wzqetottecss7","z1zo2mp6ddji5p317i4x9xw","v06c2tjelh341x4resa50fh","0yqesk4rcffwgyuab5x8rfa","sy2vkbtyu671chkvgn1yt8j","ufixpmxoydiccoh59kphrib","alswadkx4wb05y1z9iwfzfv","1daut9dpw70xd0zh5a7j5p4"],"parent":null,"data":{},"body":"\nHi there üëã. I'm a Front-end developer.\n\n---\n\n- ÌòÑÏã§ÏùÄ Ïù∏Í∞ÑÏùò Ïó∞ÏÇ∞ÏúºÎ°ú ÏôÑÏ†ÑÌûà ÌååÏïÖÌï† Ïàò ÏóÜÎäî Î≥µÏû°Í≥Ñ. Ï£ºÏñ¥ÏßÑ ÏÉÅÌô©Í≥º Îä•Î†•ÏúºÎ°ú Ìï† Ïàò ÏûàÎäî ÏµúÏÑ†Ïùò Ï†ÅÏùëÏùÄ Îã®ÏàúÌï®Í≥º Íæ∏Ï§ÄÌï®.\n\n  - ÌååÏÇ∞ÏùÑ Î©¥ÌïòÎäî ÏÑ†ÏóêÏÑú Ïó¨Îü¨Í∞ÄÏßÄÎ•º Ìï¥Î≥¥Í≥† ÏûêÏã†ÏóêÍ≤å ÎßûÎäî Í±∏ ÏúÑÏ£ºÎ°ú Íæ∏Ï§ÄÌûà. Í∑∏Î•º ÏúÑÌï¥ Îã®Ïàú, Ìé∏Ïïà, ÏæåÏ†ÅÌï®Ïù¥ ÌïÑÏöî.\n\n- ü•± -> ü§îüí°üå± - [On The Death of Daydreaming](https://www.afterbabel.com/p/on-the-death-of-daydreaming)\n  - boredom -> easy fun -> art -> profit?\n\n> I've often described my motivation for building software to others using imagery: I like to go find a secluded beach, build a large, magnificent sand castle, and then walk away. Will anyone notice? Probably not. Will the waves eventually destroy it? Yep. Did I still get immense satisfaction? Absolutely. - [aliasxneo](https://news.ycombinator.com/item?id=41497113)\n\n> We love to see the process, not just the result. The imperfections in your work can be beautiful if they show your struggle for perfection, not a lack of care. - [ralphammer](https://ralphammer.com/is-perfection-boring/)\n\n> Simplicity, even if it sacrifices some ideal functionality has better survival characteristics than the-right-thing. - [The Rise of Worse is Better](https://www.dreamsongs.com/RiseOfWorseIsBetter.html)\n\n> [Roberto Blake was talking about making 100 crappy videos](https://www.youtube.com/watch?v=OnUBaQ1Sp_E) to get better over time. Putting in the reps and improving a little bit each time.\n>\n> Putting in the work without expecting any external reward at first (eg views, followers, likes, etc) will pay off in the long run. - [100 Scrappy Things](https://www.florin-pop.com/blog/100-scrappy-things/)\n\n> Make the difficult habitual, the habitual easy, and the easy beautiful. - [Constantin S. Stanislavski](https://www.goodreads.com/quotes/7102271-make-the-difficult-habitual-the-habitual-easy-and-the-easy)\n\n> A good match is a **structured** dance, where players aim to **score** while they are following well-defined **rules**. This **freedom within a structure** is what makes it fun. - [ralphammer](https://ralphammer.com/how-to-get-started/)\n\n- [Pivot Points](https://longform.asmartbear.com/pivot-points/)\n\n  - non-judgmental aspects of personality that can be strengths in some contexts and weaknesses in others\n  - Pivot Points are fixed in the short term\n\n- [Hedged Bets](https://longform.asmartbear.com/predict-the-future/#hedged-bets)\n  - trading slightly less maximum upside for predictable, net-positive outcomes.\n\n> ‚ÄúMotivation often comes after starting, not before. Action produces momentum.‚Äù\n> [When you start a new habit, it should take less than two minutes to do.](https://jamesclear.com/how-to-stop-procrastinating)\n>\n> - James Clear\n\n> Focus is more about **not** keeping busy when you need to wait for something.  \n> Eat the boredom for a minute.\n>\n> - [[life-tips#wodenokoto]]\n\n> [4 minutes run hard enough to push heart rate to 90%, 3 minutes recover, repeat 4 times](https://news.ycombinator.com/item?id=34213181)\n>\n> - https://www.ntnu.edu/cerg/advice\n> - [Get running with Couch to 5K](https://www.nhs.uk/live-well/exercise/running-and-aerobic-exercises/get-running-with-couch-to-5k/)\n\n> [recommended routine - bodyweightfitness](https://www.reddit.com/r/bodyweightfitness/wiki/kb/recommended_routine/) - I Don't Have This Much Time!\n>\n> - Don't workout at all (saves anywhere from 20 to 60 minutes, but really, really, really, really, really, really, really, really, really not recommended)\n\n> ÎèÑÎ¨¥ÏßÄ ÏùΩÌûàÏßÄ ÏïäÎäî Ï±Ö ÏïûÏóêÏÑú ÎÇ¥Í∞Ä ÌÉùÌïú Î∞©Î≤ïÏùÄ ÌéºÏ≥êÏßÑ ÌéòÏù¥ÏßÄ ÏïûÏóêÏÑú Î©çÎïåÎ¶¨Í∏∞Ïù¥Îã§. Îã§Î•¥Í≤å ÌëúÌòÑÌïòÎ©¥ Ïù¥Î†áÎã§. ÌéºÏ≥êÏßÑ Îëê ÌéòÏù¥ÏßÄ ÏïûÏóêÏÑú Ïò§Îûò Î®∏Î¨ºÍ∏∞.\n>\n> Ï±ÖÏùÑ ÌéºÏ≥êÎÜìÎäî Í≤ÉÏúºÎ°ú Ï∂©Î∂ÑÌïòÎã§. ÏùΩÏßÄ Î™ªÌï¥ÎèÑ Ï¢ãÎã§. Îß§Ïùº Ï†ïÌï¥ÏßÑ ÏßÑÎèÑÎ•º ÎÇòÍ∞ÄÏïº ÌïòÎäî ÌïôÍµê ÏàòÏóÖÏù¥ ÏïÑÎãàÎãàÍπå. ÌïòÏßÄÎßå ÏùΩÏßÄ ÏïäÏïÑÎèÑ Í¥úÏ∞ÆÎã§Í≥† Ìï¥ÏÑú ÌéºÏ≥êÎëêÏßÄÏ°∞Ï∞® ÏïäÏúºÎ©¥ Í≥§ÎûÄÌïòÎã§. Í∞ÄÎä•Ìïú Ìïú ÏûêÏ£º Ï±ÖÏùÑ ÌéºÏ≥êÎëêÎèÑÎ°ù ÌïòÏûê. Ï†ÑÌòÄ ÏùΩÏßÄ ÏïäÍ≥† Î©çÌïòÎãà Î∞îÎùºÎ≥¥Í≥† ÏûàÎã§Í∞Ä Îã§Ïãú ÎçÆÍ≤å ÎêòÎçîÎùºÎèÑ\n>\n> - ÎßâÎßâÌïú ÎèÖÏÑú. ÏãúÎ°úÍµ∞. P.10~13\n\n> I think it should be everyone's primary focus to sleep well, drink water, get outside, get active, and eat generally decently. I hate to say it, but if you're not eating a good amount of vegetables and fruit, decent protein, sleep, etc, no amount of XYZ will catch up to that detriment. - [CE02](https://news.ycombinator.com/item?id=35056071)\n\n> My real battle is doing good versus doing nothing. - [Deirdre Sullivan](https://www.npr.org/2005/08/08/4785079/always-go-to-the-funeral)\n\n[Kind Engineering](https://kind.engineering/) - How To Engineer Kindness\n\n> Sometimes magic is just someone spending more time on something than anyone else might reasonably expect. - [Teller](https://www.goodreads.com/quotes/6641527-sometimes-magic-is-just-someone-spending-more-time-on-something)\n\n---\n\n## What I read in past\n\n- [[What I read in 2026|read.2026.articles]]\n  - [[2025|read.2025.articles]]\n  - [[2024|read.2024.articles]]\n  - [[2023|read.2023.articles]]\n  - [[2022|read.2022.articles]]\n- üìù [Gists](https://gist.github.com/Luke-SNAW)\n- üìú [Journals](https://luke-snaw.github.io/Luke-SNAW__netlify-CMS.github.io/)\n\n---\n\n- [[journal.what-i-struggled-brag-in]]\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":false,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.115.0","enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Luke SNAW","description":"Personal knowledge space"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","siteUrl":"https://luke-snaw.github.io/","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}