<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>A Complete Guide to CSS Cascade Layers</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="A Complete Guide to CSS Cascade Layers"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://luke-snaw.github.io//notes/lgffs982nkr0er7r5u23yxd/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="6/27/2023"/><meta property="article:modified_time" content="6/27/2023"/><link rel="canonical" href="https://luke-snaw.github.io//notes/lgffs982nkr0er7r5u23yxd/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9d8e0603730b15a3.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/wirstT2ztC8OQsbzKjhvw/_buildManifest.js" defer=""></script><script src="/_next/static/wirstT2ztC8OQsbzKjhvw/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="a-complete-guide-to-css-cascade-layers">A Complete Guide to CSS Cascade Layers<a aria-hidden="true" class="anchor-heading icon-link" href="#a-complete-guide-to-css-cascade-layers"></a></h1>
<blockquote>
<p><a href="https://css-tricks.com/css-cascade-layers/">https://css-tricks.com/css-cascade-layers/</a></p>
</blockquote>
<p>This is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity, so that we have full control over which styles take priority in a project without relying on specificity hacks or <code>!important</code>. This guide is intended to help you fully understand what cascade layers are for, how and why you might choose to use them, the current levels of support, and the syntax of how you use them.</p>
<h2 id="table-of-contents"><a href="https://css-tricks.com/css-cascade-layers/#aa-table-of-contents"></a>Table of Contents<a aria-hidden="true" class="anchor-heading icon-link" href="#table-of-contents"></a></h2>
<ul>
<li><a href="https://css-tricks.com/css-cascade-layers/#quick-example">Quick example</a></li>
<li><a href="https://css-tricks.com/css-cascade-layers/#introduction-what-are-cascade-layers">Introduction: what are cascade layers?</a></li>
<li><a href="https://css-tricks.com/css-cascade-layers/#where-do-layers-fit-in-the-cascade">Where do layers fit in the cascade?</a></li>
<li><a href="https://css-tricks.com/css-cascade-layers/#important-origins-context-and-layers-are-reversed">!important origins, context, and layers are reversed!</a></li>
<li><a href="https://css-tricks.com/css-cascade-layers/#establishing-a-layer-order">Establishing a layer order</a></li>
<li><a href="https://css-tricks.com/css-cascade-layers/#syntax-working-with-cascade-layers">Syntax: Working with cascade layers</a></li>
<li><a href="https://css-tricks.com/css-cascade-layers/#use-cases-when-would-i-want-to-use-cascade-layers">Use cases: When would I want to use cascade layers?</a></li>
<li><a href="https://css-tricks.com/css-cascade-layers/#test-your-knowledge-which-style-wins">Test your knowledge: Which style wins?</a></li>
<li><a href="https://css-tricks.com/css-cascade-layers/#debugging-layer-conflicts-in-browser-developer-tools">Debugging layer conflicts in browser developer tools</a></li>
<li><a href="https://css-tricks.com/css-cascade-layers/#browser-support-and-fallbacks">Browser support and fallbacks</a></li>
<li><a href="https://css-tricks.com/css-cascade-layers/#more-resources">More resources</a></li>
</ul>
<h3 id="quick-example"><a href="https://css-tricks.com/css-cascade-layers/#aa-quick-example"></a>Quick example<a aria-hidden="true" class="anchor-heading icon-link" href="#quick-example"></a></h3>
<pre class="language-css"><code class="language-css"><span class="token comment">/* establish a layer order up-front, from lowest to highest priority */</span>
<span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">,</span> defaults<span class="token punctuation">,</span> patterns<span class="token punctuation">,</span> components<span class="token punctuation">,</span> utilities<span class="token punctuation">,</span> overrides<span class="token punctuation">;</span></span>

<span class="token comment">/* import stylesheets into a layer (dot syntax represents nesting) */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"framework.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>components.framework<span class="token punctuation">)</span><span class="token punctuation">;</span></span>

<span class="token comment">/* add styles to layers */</span>
<span class="token atrule"><span class="token rule">@layer</span> utilities</span> <span class="token punctuation">{</span>
  <span class="token comment">/* high layer priority, despite low specificity */</span>
  <span class="token selector"><span class="token attribute"><span class="token punctuation">[</span><span class="token attr-name">data-color</span><span class="token operator">=</span><span class="token attr-value">"brand"</span><span class="token punctuation">]</span></span></span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--brand</span><span class="token punctuation">,</span> rebeccapurple<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@layer</span> defaults</span> <span class="token punctuation">{</span>
  <span class="token comment">/* higher specificity, but lower layer priority */</span>
  <span class="token selector">a<span class="token pseudo-class">:any-link</span></span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">maroon</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* un-layered styles have the highest priority */</span>
<span class="token selector">a</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">mediumvioletred</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="introduction-what-are-cascade-layers"><a href="https://css-tricks.com/css-cascade-layers/#aa-introduction-what-are-cascade-layers"></a>Introduction: what are cascade layers?<a aria-hidden="true" class="anchor-heading icon-link" href="#introduction-what-are-cascade-layers"></a></h3>
<p>CSS Cascade Layers are intended to solve tricky problems in CSS. Let’s take a look at <strong>the main problem</strong> and how cascade layers aim to solve it.</p>
<h4 id="problem-specificity-conflicts-escalate"><a href="https://css-tricks.com/css-cascade-layers/#aa-problem-specificity-conflicts-escalate"></a>Problem: Specificity conflicts escalate<a aria-hidden="true" class="anchor-heading icon-link" href="#problem-specificity-conflicts-escalate"></a></h4>
<p>Many of us have been in situations where we want to override styles from elsewhere in our code (or a third-party tool), due to conflicting selectors. And over the years, authors have developed a number of “methodologies” and “best practices” to avoid these situations — such as “only using a single class” for all selectors. These rules are usually more about avoiding the cascade, rather than <a href="https://css-tricks.com/dont-fight-the-cascade-control-it/">putting it to use</a>.</p>
<p>Managing cascade conflicts and selector specificity has often been considered one of the harder — or at least more confusing — aspects of CSS. That may be partly because few other languages rely on a cascade as their central feature, but it’s also true that the original cascade relies heavily on <em>heuristics</em> (an educated-guess or assumption built into the code) rather than providing direct and explicit control to web authors.</p>
<p>Selector specificity, for example — our primary interaction with the cascade — is based on the assumption that more narrowly targeted styles (like IDs that are only used once) are likely more important than more generic and reusable styles (like classes and attributes). That is to say: how <em>specific</em> the selector is. That’s a good guess, but it’s not a totally reliable rule, and that causes some issues:</p>
<ul>
<li>It combines the act of <em>selecting elements</em>, with the act of <em>prioritizing rule-sets</em>.</li>
<li>The simplest way to ‘fix’ a conflict with specificity is to escalate the problem by adding otherwise unnecessary selectors, or (gasp) <a href="https://css-tricks.com/when-using-important-is-the-right-choice/">throwing the</a> <a href="https://css-tricks.com/when-using-important-is-the-right-choice/"><code>!important</code> hand-grenade</a>.</li>
</ul>
<pre class="language-css"><code class="language-css"><span class="token selector"><span class="token class">.overly</span><span class="token id">#powerful</span> <span class="token class">.framework</span><span class="token class">.widget</span></span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">maroon</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.my-single_class</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* add some IDs to this ??? */</span>
  <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple<span class="token punctuation">;</span> <span class="token comment">/* add !important ??? */</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="solution-cascade-layers-provide-control"><a href="https://css-tricks.com/css-cascade-layers/#aa-solution-cascade-layers-provide-control"></a>Solution: cascade layers provide control<a aria-hidden="true" class="anchor-heading icon-link" href="#solution-cascade-layers-provide-control"></a></h4>
<p>Cascade layers give CSS authors more direct control over the cascade so we can build more intentionally cascading systems without relying as much on heuristic assumptions that are tied to selection.</p>
<p>Using the <code>@layer</code> at-rule and layered <code>@import</code>s, we can establish our own <em>layers of the cascade</em> — building from low-priority styles like resets and defaults, through themes, frameworks, and design systems, up to highest-priority styles, like components, utilities, and overrides. Specificity is still applied to conflicts <em>within each layer</em>, but conflicts between layers are always resolved by using the higher-priority layer styles.</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> framework</span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token class">.overly</span><span class="token id">#powerful</span> <span class="token class">.framework</span><span class="token class">.widget</span></span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">maroon</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@layer</span> site</span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token class">.my-single_class</span></span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>These layers are ordered and grouped so that they don’t escalate in the same way that specificity and importance can. Cascade layers aren’t cumulative like selectors. Adding <em>more layers</em> doesn’t make something <em>more important</em>. They’re also not binary like importance — suddenly jumping to the top of a stack — or numbered like <code>z-index</code>, where we have to guess a big number (<code>z-index:</code> <code>9999999</code>?). In fact, by default, layered styles are <em>less important</em> than un-layered styles.</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> defaults</span> <span class="token punctuation">{</span>
  <span class="token selector">a<span class="token pseudo-class">:any-link</span></span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">maroon</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* un-layered styles have the highest priority */</span>
<span class="token selector">a</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">mediumvioletred</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="where-do-layers-fit-in-the-cascade"><a href="https://css-tricks.com/css-cascade-layers/#aa-where-do-layers-fit-in-the-cascade"></a>Where do layers fit in the cascade?<a aria-hidden="true" class="anchor-heading icon-link" href="#where-do-layers-fit-in-the-cascade"></a></h3>
<p>The cascade is a series of steps (an algorithm) for resolving conflicts between styles.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token variable">--button</span><span class="token punctuation">:</span> <span class="token color">teal</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">button</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> rebeccapurple <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.warning</span></span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token color">maroon</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>warning<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--button</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
  what color background?
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span>
</code></pre>
<p>With the addition of cascade layers, those steps are:</p>
<p><a href="https://css-tricks.com/wp-content/uploads/2022/02/layers-tall-outlines2.svg">Illustration of the various specificity levels of the CSS cascade and where CSS Cascade Layers fit in it.</a></p>
<p><em>Selector specificity</em> is only one small part of the cascade, but it’s also the step we interact with most, and is often used to refer more generally to overall <em>cascade priority</em>. People might say that the <code>!important</code> flag or the <code>style</code> attribute “adds specificity” — a quick way of expressing that the style becomes higher priority in the cascade. Since cascade layers have been added directly above specificity, it’s reasonable to think about them in a similar way: one step more powerful than ID selectors.</p>
<p>However, CSS Cascade Layers also make it more essential that we fully understand the role of <code>!important</code> in the cascade — not just as a tool for “increasing specificity” but as a system for balancing concerns.</p>
<h3 id="important-origins-context-and-layers-are-reversed"><a href="https://css-tricks.com/css-cascade-layers/#aa-important-origins-context-and-layers-are-reversed"></a><code>!important</code> origins, context, and layers are reversed!<a aria-hidden="true" class="anchor-heading icon-link" href="#important-origins-context-and-layers-are-reversed"></a></h3>
<p>As web authors, we often think of <code>!important</code> as a way of increasing specificity, to override inline styles or highly specific selectors. That works OK in most cases (if you’re OK with the escalation) but it leaves out the primary purpose of <em>importance</em> as a feature in the overall cascade.</p>
<p>Importance isn’t there to simply increase power — but to balance the power between various competing concerns.</p>
<h4 id="important-origins"><a href="https://css-tricks.com/css-cascade-layers/#aa-important-origins"></a>Important origins<a aria-hidden="true" class="anchor-heading icon-link" href="#important-origins"></a></h4>
<p>It all starts with origins, where a style comes from in the web ecosystem. There are three basic origins in CSS:</p>
<ul>
<li>The <strong>browser</strong> (or user agent)</li>
<li>The <strong>user</strong> (often via browser preferences)</li>
<li>Web <strong>authors</strong> (that’s us!)</li>
</ul>
<p>Browsers provide readable defaults for all the elements, and then users set their preferences, and then we (authors) provide the intended design for our web pages. So, by default, browsers have the lowest priority, user preferences override the browser defaults, and we’re able to override everyone.</p>
<p>But the creators of CSS were very clear that we should not actually have the final word:</p>
<blockquote>
<p>If conflicts arise <strong>the user should have the last word</strong>, but one should also allow the author to attach style hints.</p>
<p>— Håkon Lie (emphasis added)</p>
</blockquote>
<p>So <em>importance</em> provides a way for the browser and users to re-claim their priority when it matters most. When the <code>!important</code> flag is added to a style, three new layers are created — and the order is reversed!</p>
<ol>
<li><code>!important</code> browser styles (most powerful)</li>
<li><code>!important</code> user preferences</li>
<li><code>!important</code> author styles</li>
<li>normal author styles</li>
<li>normal user preferences</li>
<li>normal browser styles (least powerful)</li>
</ol>
<p>For us, adding <code>!important</code> doesn’t change much — our important styles are pretty close to our normal styles — but for the browser and user it’s a very powerful tool for regaining control. Browser default style sheets include a number of important styles that it would be impossible for us to override, such as:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">iframe<span class="token pseudo-class">:fullscreen</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* iframes in full-screen mode don't show a border. */</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> unset <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>While most of the popular browsers have made it difficult to upload actual user stylesheets, they all offer user preferences: a graphic interface for establishing specific user styles. In that interface, there is always a checkbox available for users to choose if a site is allowed to override their preferences or not. This is the same as setting <code>!important</code> in a user stylesheet:</p>
<p><a href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1320%2C996&#x26;ssl=1">Screenshot of user font preferences.</a></p>
<h4 id="important-context"><a href="https://css-tricks.com/css-cascade-layers/#aa-important-context"></a>Important context<a aria-hidden="true" class="anchor-heading icon-link" href="#important-context"></a></h4>
<p>The same basic logic is applied to <em>context</em> in the cascade. By default, styles from the host document (light DOM) override styles from an embedded context (shadow DOM). However, adding <code>!important</code> reverses the order:</p>
<ol>
<li><code>!important</code> shadow context (most powerful)</li>
<li><code>!important</code> host context</li>
<li>normal host context</li>
<li>normal shadow context (least powerful)</li>
</ol>
<p>Important styles that come from inside a shadow context override important styles defined by the host document. Here’s an <code>odd-bird</code> <a href="https://css-tricks.com/an-introduction-to-web-components/">custom element</a> with some styles written in the element template (shadow DOM), and some styles in the host page (light DOM) stylesheet:</p>
<p>CodePen Embed Fallback</p>
<p>Both <code>color</code> declarations have normal importance, and so the host page <code>mediumvioletred</code> takes priority. But the <code>font-family</code> declarations are flagged <code>!important</code>, giving advantage to the shadow-context, where <code>fantasy</code> is defined.</p>
<h4 id="important-layers"><a href="https://css-tricks.com/css-cascade-layers/#aa-important-layers"></a>Important layers<a aria-hidden="true" class="anchor-heading icon-link" href="#important-layers"></a></h4>
<p>Cascade layers work the same way as both origins and context, with the important layers in reverse-order. The only difference is that layers make that behavior much more noticeable.</p>
<p>Once we start using cascade layers, we will need to be much more cautious and intentional about how we use <code>!important</code>. It’s no longer a quick way to jump to the top of the priorities — but an integrated part of our cascade layering; a way for lower layers to <em>insist</em> that some of their styles are essential.</p>
<p>Since cascade layers are customizable, there’s no pre-defined order. But we can imagine starting with three layers:</p>
<ol>
<li>utilities (most powerful)</li>
<li>components</li>
<li>defaults (least powerful)</li>
</ol>
<p>When styles in those layers are marked as important, they would generate three new, reversed important layers:</p>
<ol>
<li><code>!important</code> defaults (most powerful)</li>
<li><code>!important</code> components</li>
<li><code>!important</code> utilities</li>
<li>normal utilities</li>
<li>normal components</li>
<li>normal defaults (least powerful)</li>
</ol>
<p>In this example, the color is defined by all three normal layers, and the <code>utilities</code> layer wins the conflict, applying the <code>maroon</code> color, as the <code>utilities</code> layer has a higher priority in <code>@layers</code>. But notice that the <code>text-decoration</code> property is marked <code>!important</code> in both the <code>defaults</code> and <code>components</code> layers, where important <code>defaults</code> take priority, applying the underline declared by <code>defaults</code>:</p>
<p>CodePen Embed Fallback</p>
<h3 id="establishing-a-layer-order"><a href="https://css-tricks.com/css-cascade-layers/#aa-establishing-a-layer-order"></a>Establishing a layer order<a aria-hidden="true" class="anchor-heading icon-link" href="#establishing-a-layer-order"></a></h3>
<p>We can create any number of layers and name them or group them in various ways. But the most important thing to do is to make sure our layers are applied in the right order of priority.</p>
<p>A single layer can be used multiple times throughout the codebase — cascade layers stack in the order they <em>first appear</em>. The first layer encountered sits at the bottom (least powerful), and the last layer at the top (most powerful). But then, above that, <strong>un-layered styles have the highest priority</strong>:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> layer-1</span> <span class="token punctuation">{</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> layer-2</span> <span class="token punctuation">{</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">orange</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> layer-3</span> <span class="token punctuation">{</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">yellow</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* un-layered */</span>
<span class="token selector">a</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">green</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ol>
<li>un-layered styles (most powerful)</li>
<li>layer-3</li>
<li>layer-2</li>
<li>layer-1 (least powerful)</li>
</ol>
<p>Then, as discussed above, any important styles are applied in a reverse order:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> layer-1</span> <span class="token punctuation">{</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span> <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> layer-2</span> <span class="token punctuation">{</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">orange</span> <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> layer-3</span> <span class="token punctuation">{</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">yellow</span> <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* un-layered */</span>
<span class="token selector">a</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">green</span> <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ol>
<li><code>!important</code> layer-1 (most powerful)</li>
<li><code>!important</code> layer-2</li>
<li><code>!important</code> layer-3</li>
<li><code>!important</code> un-layered styles</li>
<li>normal un-layered styles</li>
<li>normal layer-3</li>
<li>normal layer-2</li>
<li>normal layer-1 (least powerful)</li>
</ol>
<p>Layers can also be grouped, allowing us to do more complicated sorting of top-level and nested layers:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> layer-1</span> <span class="token punctuation">{</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> layer-2</span> <span class="token punctuation">{</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">orange</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> layer-3</span> <span class="token punctuation">{</span>
  <span class="token atrule"><span class="token rule">@layer</span> sub-layer-1</span> <span class="token punctuation">{</span>
    <span class="token selector">a</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">yellow</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token atrule"><span class="token rule">@layer</span> sub-layer-2</span> <span class="token punctuation">{</span>
    <span class="token selector">a</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">green</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* un-nested */</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">blue</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* un-layered */</span>
<span class="token selector">a</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">indigo</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ol>
<li>un-layered styles (most powerful)</li>
<li>layer-3
<ol>
<li>layer-3 un-nested</li>
<li>layer-3 sub-layer-2</li>
<li>layer-3 sub-layer-1</li>
</ol>
</li>
<li>layer-2</li>
<li>layer-1 (least powerful)</li>
</ol>
<p>Grouped layers always stay together in the final layer order (for example, sub-layers of layer-3 will all be next to each other), but this otherwise behaves the same as if the list was “flattened” — turning this into a single six-item list. When reversing <code>!important</code> layer order, the entire list flattened is reversed.</p>
<p>But layers don’t have to be defined once in a single location. We give them names so that layers can be defined in one place (to establish layer order), and then we can append styles to them from anywhere:</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* describe the layer in one place */</span>
<span class="token atrule"><span class="token rule">@layer</span> my-layer<span class="token punctuation">;</span></span>

<span class="token comment">/* append styles to it from anywhere */</span>
<span class="token atrule"><span class="token rule">@layer</span> my-layer</span> <span class="token punctuation">{</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We can even define a whole ordered list of layers in a single declaration:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three<span class="token punctuation">,</span> four<span class="token punctuation">,</span> five<span class="token punctuation">,</span> etc<span class="token punctuation">;</span></span>
</code></pre>
<p>This makes it possible for the author of a site to have final say over the layer order. By providing a layer order up-front, before any third party code is imported, the order can be established and rearranged in one place without worrying about how layers are used in any third-party tool.</p>
<h3 id="syntax-working-with-cascade-layers"><a href="https://css-tricks.com/css-cascade-layers/#aa-syntax-working-with-cascade-layers"></a>Syntax: Working with cascade layers<a aria-hidden="true" class="anchor-heading icon-link" href="#syntax-working-with-cascade-layers"></a></h3>
<p>Let’s take a look at the syntax!</p>
<h4 id="order-setting-layer-statements"><a href="https://css-tricks.com/css-cascade-layers/#aa-order-setting-layer-statements"></a>Order-setting <code>@layer</code> statements<a aria-hidden="true" class="anchor-heading icon-link" href="#order-setting-layer-statements"></a></h4>
<p>Since layers are stacked in the order they are defined, it’s important that we have a tool for establishing that order all in one place!</p>
<p>We can use <code>@layer</code> statements to do that. The syntax is:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> &#x3C;layer-name>#<span class="token punctuation">;</span></span>
</code></pre>
<p>That hash (<code>#</code>) means we can add as many layer names as we want in a comma-separated list:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">,</span> defaults<span class="token punctuation">,</span> framework<span class="token punctuation">,</span> components<span class="token punctuation">,</span> utilities<span class="token punctuation">;</span></span>
</code></pre>
<p>That will establish the layer order:</p>
<ol>
<li>un-layered styles (most powerful)</li>
<li>utilities</li>
<li>components</li>
<li>framework</li>
<li>defaults</li>
<li>reset (least powerful)</li>
</ol>
<p>We can do this as many times as we want, but remember: what matters is the order each name <em>first appears</em>. So this will have the same result:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">,</span> defaults<span class="token punctuation">,</span> framework<span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@layer</span> components<span class="token punctuation">,</span> defaults<span class="token punctuation">,</span> framework<span class="token punctuation">,</span> reset<span class="token punctuation">,</span> utilities<span class="token punctuation">;</span></span>
</code></pre>
<p>The ordering logic will ignore the order of <code>reset</code>, <code>defaults</code>, and <code>framework</code> in the second <code>@layer</code> rule because those layers have already been established. This <code>@layer</code> list syntax doesn’t add any special magic to the layer ordering logic: layers are stacked based on <em>the order in which the layers first appear in your code</em>. In this case, <code>reset</code> appears first in the first <code>@layer</code> list. Any <code>@layer</code> statement that comes later can only append layer names to the list, <em>but can’t move layers that already exist</em>. This ensures that you can always control the final overall layer order from one location — at the very start of your styles.</p>
<p>These layer-ordering statements are allowed at the top of a stylesheet, before the <code>@import</code> rule (but not between imports). We highly recommend using this feature to establish all your layers up-front in a single place so you always know where to look or make changes.</p>
<h4 id="block-layer-rules"><a href="https://css-tricks.com/css-cascade-layers/#aa-block-layer-rules"></a>Block <code>@layer</code> rules<a aria-hidden="true" class="anchor-heading icon-link" href="#block-layer-rules"></a></h4>
<p>The block version of the <code>@layer</code> rule only takes a single layer name, but then allows you to add styles to that layer:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> &#x3C;layer-name></span> <span class="token punctuation">{</span>
  <span class="token comment">/* styles added to the layer */</span>
<span class="token punctuation">}</span>
</code></pre>
<p>You can put most things inside an <code>@layer</code> block — media queries, selectors and styles, support queries, etc. The only things you can’t put inside a layer block are things like charset, imports, and namespaces. But don’t worry, there is a syntax for importing styles into a layer.</p>
<p>If the layer name hasn’t been established before, this layer rule will add it to the layer order. But if the name has been established, this allows you to add styles to existing layers from anywhere in the document — without changing the priority of each layer.</p>
<p>If we’ve established our layer-order up-front with the layer statement rule, we no longer need to worry about the order of these layer blocks:</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* establish the order up-front */</span>
<span class="token atrule"><span class="token rule">@layer</span> defaults<span class="token punctuation">,</span> components<span class="token punctuation">,</span> utilities<span class="token punctuation">;</span></span>

<span class="token comment">/* add styles to layers in any order */</span>
<span class="token atrule"><span class="token rule">@layer</span> utilities</span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token attribute"><span class="token punctuation">[</span><span class="token attr-name">hidden</span><span class="token punctuation">]</span></span></span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* utilities will override defaults, based on established order */</span>
<span class="token atrule"><span class="token rule">@layer</span> defaults</span> <span class="token punctuation">{</span>
  <span class="token selector">*</span> <span class="token punctuation">{</span>
    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">img</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="grouping-nested-layers"><a href="https://css-tricks.com/css-cascade-layers/#aa-grouping-nested-layers"></a>Grouping (nested) layers<a aria-hidden="true" class="anchor-heading icon-link" href="#grouping-nested-layers"></a></h4>
<p>Layers can be grouped, by nesting layer rules:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> one</span> <span class="token punctuation">{</span>
  <span class="token comment">/* sorting the sub-layers */</span>
  <span class="token atrule"><span class="token rule">@layer</span> two<span class="token punctuation">,</span> three<span class="token punctuation">;</span></span>

  <span class="token comment">/* styles ... */</span>
  <span class="token atrule"><span class="token rule">@layer</span> three</span> <span class="token punctuation">{</span>
    <span class="token comment">/* styles ... */</span>
  <span class="token punctuation">}</span>
  <span class="token atrule"><span class="token rule">@layer</span> two</span> <span class="token punctuation">{</span>
    <span class="token comment">/* styles ... */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This generates grouped layers that can be represented by joining the parent and child names with a period. That means the resulting sub-layers can also be accessed directly from outside the group:</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* sorting nested layers directly */</span>
<span class="token atrule"><span class="token rule">@layer</span> one.two<span class="token punctuation">,</span> one.three<span class="token punctuation">;</span></span>

<span class="token comment">/* adding to nested layers directly */</span>
<span class="token atrule"><span class="token rule">@layer</span> one.three</span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> one.two</span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The rules of layer-ordering apply at each level of nesting. Any styles that are not further nested are considered “un-layered” in that context, and have priority over further nested styles:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> defaults</span> <span class="token punctuation">{</span>
  <span class="token comment">/* un-layered defaults (higher priority) */</span>
  <span class="token selector"><span class="token pseudo-class">:any-link</span></span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/* layered defaults (lower priority) */</span>
  <span class="token atrule"><span class="token rule">@layer</span> reset</span> <span class="token punctuation">{</span>
    <span class="token selector">a<span class="token attribute"><span class="token punctuation">[</span><span class="token attr-name">href</span><span class="token punctuation">]</span></span></span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">blue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Grouped layers are also contained within their parent, so that the layer order does not intermix across groups. In this example, the top level layers are sorted first, and then the layers are sorted within each group:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> reset.type<span class="token punctuation">,</span> default.type<span class="token punctuation">,</span> reset.media<span class="token punctuation">,</span> default.media<span class="token punctuation">;</span></span>
</code></pre>
<p>Resulting in a layer order of:</p>
<ul>
<li><em>un-layered</em> (most powerful)</li>
<li>default group
<ul>
<li>default <em>un-layered</em></li>
<li>default.media</li>
<li>default.type</li>
</ul>
</li>
<li>reset group
<ul>
<li>reset <em>un-layered</em></li>
<li>reset.media</li>
<li>reset.type</li>
</ul>
</li>
</ul>
<p>Note that layer names are also scoped so that they don’t interact or conflict with similarly-named layers outside their nested context. Both groups can have distinct <code>media</code> sub-layers.</p>
<p>This grouping becomes especially important when using <code>@import</code> or <code>&#x3C;link></code> to layer entire stylesheets. A third-party tool, like <a href="https://getbootstrap.com/">Bootstrap</a>, could use layers internally — but we can nest those layers into a shared <code>bootstrap</code> layer-group on import, to avoid potential layer-naming conflicts.</p>
<h4 id="layering-entire-stylesheets-with-import-or-link"><a href="https://css-tricks.com/css-cascade-layers/#aa-layering-entire-stylesheets-with-import-or-link"></a>Layering entire stylesheets with <code>@import</code> or <code>&#x3C;link></code><a aria-hidden="true" class="anchor-heading icon-link" href="#layering-entire-stylesheets-with-import-or-link"></a></h4>
<p>Entire stylesheets can be added to a layer using the new <code>layer()</code> function syntax with <code>@import</code> rules:</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* styles imported into to the &#x3C;layer-name> layer */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"example.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>&#x3C;layer-name><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</code></pre>
<p>There is also a proposal to add a <code>layer</code> attribute in the HTML <code>&#x3C;link></code> element — although this is still under development, and <a href="https://css.oddbird.net/layers/guide/#assigning-layers-in-html-with-the-link-tag">not yet supported anywhere</a>. This can be used to import third-party tools or component libraries, while grouping any internal layers together under a single layer name — or as a way of organizing layers into distinct files.</p>
<h4 id="anonymous-un-named-layers"><a href="https://css-tricks.com/css-cascade-layers/#aa-anonymous-un-named-layers"></a>Anonymous (un-named) layers<a aria-hidden="true" class="anchor-heading icon-link" href="#anonymous-un-named-layers"></a></h4>
<p>Layer names are helpful as they allow us to access the same layer from multiple places for sorting or combining layer blocks — but they are not required.</p>
<p>It’s possible to create <em>anonymous</em> (un-named) layers using the block layer rule:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Or using the import syntax, with a <code>layer</code> keyword in place of the <code>layer()</code> function:</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* styles imported into to a new anonymous layer */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../example.css"</span><span class="token punctuation">)</span></span> layer<span class="token punctuation">;</span></span>
</code></pre>
<p>Each anonymous layer is unique, and added to the layer order where it is encountered. Anonymous layers can’t be referenced from other layer rules for sorting or appending more styles.</p>
<p>These should probably be used sparingly, but there might be a few use cases:</p>
<ul>
<li>Projects could ensure that all styles for a given layer are required to be located in a single place.</li>
<li>Third-party tools could “hide” their internal layering inside anonymous layers so that they don’t become part of the tool’s public API.</li>
</ul>
<h4 id="reverting-values-to-the-previous-layer"><a href="https://css-tricks.com/css-cascade-layers/#aa-reverting-values-to-the-previous-layer"></a>Reverting values to the previous layer<a aria-hidden="true" class="anchor-heading icon-link" href="#reverting-values-to-the-previous-layer"></a></h4>
<p>There are several ways that we can use to “revert” a style in the cascade to a previous value, defined by a lower priority origin or layer. That includes a number of existing global CSS values, and a new <code>revert-layer</code> keyword that will also be global (works on any property).</p>
<h5 id="context-existing-global-cascade-keywords"><a href="https://css-tricks.com/css-cascade-layers/#aa-context-existing-global-cascade-keywords"></a>Context: Existing global cascade keywords*<a aria-hidden="true" class="anchor-heading icon-link" href="#context-existing-global-cascade-keywords"></a></h5>
<p>CSS has several <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/all#values">global keywords</a> which can be used on any property to help roll-back the cascade in various ways.</p>
<ul>
<li><code>**initial**</code> sets a property to the <em>specified</em> value before any styles (including browser defaults) are applied. This can be surprising as we often think of browser styles as the initial value — but, for example, the <code>initial</code> value of <code>display</code> is <code>inline</code>, no matter what element we use it on.</li>
<li><code>**inherit**</code> sets the property to apply a value from its parent element. This is the default for inherited properties, but can still be used to remove a previous value.</li>
<li><code>**unset**</code> acts as though simply removing all previous values — so that inherited properties once again <code>inherit</code>, while non-inherited properties return to their <code>initial</code> value.</li>
<li><code>**revert**</code> only removes values that we’ve applied in the author origin (i.e. the site styles). This is what we want in most cases, since it allows the browser and user styles to remain intact.</li>
</ul>
<h5 id="new-the-revert-layer-keyword"><a href="https://css-tricks.com/css-cascade-layers/#aa-new-the-revert-layer-keyword"></a>New: the <code>revert-layer</code> keyword<a aria-hidden="true" class="anchor-heading icon-link" href="#new-the-revert-layer-keyword"></a></h5>
<p>Cascade layers add a new global <code>revert-layer</code> keyword. It works the same as <code>revert</code>, but only removes values that we’ve applied in the current cascade layer. We can use that to roll back the cascade, and use whatever value was defined in the previous layers.</p>
<p>In this example, the <code>no-theme</code> class removes any values set in the <code>theme</code> layer.</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> default</span> <span class="token punctuation">{</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">maroon</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@layer</span> theme</span> <span class="token punctuation">{</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token variable">--brand-primary</span><span class="token punctuation">,</span> <span class="token color">purple</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector"><span class="token class">.no-theme</span></span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> revert-layer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>So a link tag with the <code>.no-theme</code> class will roll back to use the value set in the <code>default</code> layer. When <code>revert-layer</code> is used in un-layered styles, it behaves the same as <code>revert</code> — rolling back to the previous origin.</p>
<h5 id="reverting-important-layers"><a href="https://css-tricks.com/css-cascade-layers/#aa-reverting-important-layers"></a>Reverting important layers<a aria-hidden="true" class="anchor-heading icon-link" href="#reverting-important-layers"></a></h5>
<p>Things get interesting if we add <code>!important</code> to the <code>revert-layer</code> keyword. Because each layer has two distinct “normal” and “important” <a href="https://css.oddbird.net/layers/guide/#important-layers">positions in the cascade</a>, this doesn’t simply change the priority of the declaration — it changes what layers are reverted.</p>
<p>Let’s assume we have three layers defined, in a layer stack that looks like this:</p>
<ol>
<li>utilities (most powerful)</li>
<li>components</li>
<li>defaults (least powerful)</li>
</ol>
<p>We can flesh that out to include not just normal and important positions of each layer, but also un-layered styles, and animations:</p>
<ol>
<li><code>!important</code> defaults (most powerful)</li>
<li><code>!important</code> components</li>
<li><code>!important</code> utilities</li>
<li><code>!important</code> un-layered styles</li>
<li>CSS animations</li>
<li>normal un-layered styles</li>
<li>normal utilities</li>
<li>normal components</li>
<li>normal defaults (least powerful)</li>
</ol>
<p>Now, when we use <code>revert-layer</code> in a normal layer (let’s use <code>utilities</code>) the result is fairly direct. We revert <em>only that layer</em>, while everything else applies normally:</p>
<ol>
<li>✅ <code>!important</code> defaults (most powerful)</li>
<li>✅ <code>!important</code> components</li>
<li>✅ <code>!important</code> utilities</li>
<li>✅ <code>!important</code> un-layered styles</li>
<li>✅ CSS animations</li>
<li>✅ normal un-layered styles</li>
<li>❌ normal utilities</li>
<li>✅ normal components</li>
<li>✅ normal defaults (least powerful)</li>
</ol>
<p>But when we move that <code>revert-layer</code> into the important position, we revert both the normal and important versions <em>along with everything in-between</em>:</p>
<ol>
<li>✅ <code>!important</code> defaults (most powerful)</li>
<li>✅ <code>!important</code> components</li>
<li>❌ <code>!important</code> utilities</li>
<li>❌ <code>!important</code> un-layered styles</li>
<li>❌ CSS animations</li>
<li>❌ normal un-layered styles</li>
<li>❌ normal utilities</li>
<li>✅ normal components</li>
<li>✅ normal defaults (least powerful)</li>
</ol>
<h3 id="use-cases-when-would-i-want-to-use-cascade-layers"><a href="https://css-tricks.com/css-cascade-layers/#aa-use-cases-when-would-i-want-to-use-cascade-layers"></a>Use cases: When would I want to use cascade layers?<a aria-hidden="true" class="anchor-heading icon-link" href="#use-cases-when-would-i-want-to-use-cascade-layers"></a></h3>
<p>So what sort of situations might we find ourselves using cascade layers? Here are several examples of when cascade layers make a lot of sense, as well as others where they <em>do not</em> make a lot sense.</p>
<h4 id="less-intrusive-resets-and-defaults"><a href="https://css-tricks.com/css-cascade-layers/#aa-less-intrusive-resets-and-defaults"></a>Less intrusive resets and defaults<a aria-hidden="true" class="anchor-heading icon-link" href="#less-intrusive-resets-and-defaults"></a></h4>
<p>One of the clearest initial use cases would be to make low-priority defaults that are easy to override.</p>
<p>Some resets have been doing this already by applying the <code>:where()</code> pseudo-class around each selector. <code>:where()</code> removes all specificity from the selectors it is applied to, which has the basic impact desired, but also some downsides:</p>
<ul>
<li>It has to be applied to each selector individually</li>
<li>Conflicts inside the reset have to be resolved without specificity</li>
</ul>
<p>Layers allow us to more simply wrap the entire reset stylesheet, either using the block <code>@layer</code> rule:</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* reset.css */</span>
<span class="token atrule"><span class="token rule">@layer</span> reset</span> <span class="token punctuation">{</span>
  <span class="token comment">/* all reset styles in here */</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Or when you import the reset:</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* reset.css */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>reset.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>reset<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</code></pre>
<p>Or both! Layers can be nested without changing their priority. This way, you can use a third-party reset, and ensure it gets added to the layer you want whether or not the reset stylesheet itself is written using layers internally.</p>
<p>Since layered styles have a lower priority than default “un-layered” styles, this is a good way to start using cascade layers without re-writing your entire CSS codebase.</p>
<p>The reset selectors still have specificity information to help resolve internal conflicts, without wrapping each individual selector — but you also get the desired outcome of a reset stylesheet that is easy to override.</p>
<h4 id="managing-a-complex-css-architecture"><a href="https://css-tricks.com/css-cascade-layers/#aa-managing-a-complex-css-architecture"></a>Managing a complex CSS architecture<a aria-hidden="true" class="anchor-heading icon-link" href="#managing-a-complex-css-architecture"></a></h4>
<p>As projects become larger and more complex, it can be useful to define clearer boundaries for naming and organizing CSS code. But the more CSS we have, the more potential we have for conflicts — especially from different parts of a system like a “theme” or a “component library” or a set of “utility classes.”</p>
<p>Not only do we want these organized by function, but it can also be useful to organize them based on what parts of the system take priority in the case of a conflict. <a href="https://csswizardry.com/2018/11/itcss-and-skillshare/">Harry Robert’s Inverted Triangle CSS</a> does a good job visualizing what those layers might contain.</p>
<p><a href="https://paper-attachments.dropbox.com/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644605716738_itcss-layers2.svg">itcss-layers2</a></p>
<p>In fact, the initial pitch for adding layers to the CSS cascade used the ITCSS methodology as a primary example, and a guide for developing the feature.</p>
<p>There is no particular technique required for this, but it’s likely helpful to restrict projects to a pre-defined set of top-level layers and then extend that set with nested layers as appropriate.</p>
<p>For example:</p>
<ol>
<li><strong>low level reset</strong> and normalization styles</li>
<li><strong>element defaults</strong>, for basic typography and legibility</li>
<li><strong>themes</strong>, like light and dark modes</li>
<li><strong>re-usable patterns</strong> that might appear across multiple components</li>
<li><strong>layouts</strong> and larger page structures</li>
<li>individual <strong>components</strong></li>
<li><strong>overrides</strong> and <strong>utilities</strong></li>
</ol>
<p>We can create that top-level layer stack at the very start of our CSS, with a single layer statement:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">,</span>
  default<span class="token punctuation">,</span>
  themes<span class="token punctuation">,</span>
  patterns<span class="token punctuation">,</span>
  layouts<span class="token punctuation">,</span>
  components<span class="token punctuation">,</span>
  utilities<span class="token punctuation">;</span></span>
</code></pre>
<p>The exact layers needed, and how you name those layers, might change from one project to the next.</p>
<p>From there, we create even more detailed layer breakdowns. Maybe our components themselves have defaults, structures, themes, and utilities internally.</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> components</span> <span class="token punctuation">{</span>
  <span class="token atrule"><span class="token rule">@layer</span> defaults<span class="token punctuation">,</span> structures<span class="token punctuation">,</span> themes<span class="token punctuation">,</span> utilities<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
</code></pre>
<p>Without changing the top-level structure, we now have a way to further layer the styles within each component.</p>
<h4 id="using-third-party-tools-and-frameworks"><a href="https://css-tricks.com/css-cascade-layers/#aa-using-third-party-tools-and-frameworks"></a>Using third-party tools and frameworks<a aria-hidden="true" class="anchor-heading icon-link" href="#using-third-party-tools-and-frameworks"></a></h4>
<p>Integrating third-party CSS with a project is one of the most common places to run into cascade issues. Whether we’re using a shared reset like Normalizer or CSS Remedy, a generic design system like Material Design, a framework like Bootstrap, or a utility toolkit like Tailwind — we can’t always control the selector specificity or importance of all the CSS being used on our sites. Sometimes, this even extends to internal libraries, design systems, and tools managed elsewhere in an organization.</p>
<p>As a result, we often have to structure our internal CSS around the third-party code, or escalate conflicts when they come up — with artificially high specificity or <code>!important</code> flags. And then we have to maintain those hacks over time, adapting to upstream changes.</p>
<p>Cascade layers give us a way to slot third-party code into the cascade of any project exactly where we want it to live — no matter how selectors are written internally. Depending on the type of library we’re using, we might do that in various ways. Let’s start with a basic layer-stack, working our way up from resets to utilities:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">,</span> type<span class="token punctuation">,</span> theme<span class="token punctuation">,</span> components<span class="token punctuation">,</span> utilities<span class="token punctuation">;</span></span>
</code></pre>
<p>And then we can incorporate some tools…</p>
<h5 id="using-a-reset"><a href="https://css-tricks.com/css-cascade-layers/#aa-using-a-reset"></a>Using a reset<a aria-hidden="true" class="anchor-heading icon-link" href="#using-a-reset"></a></h5>
<p>If we’re using a tool like <a href="https://css-tricks.com/css-remedy/">CSS Remedy</a>, we might also have some reset styles of our own that we want to include. Let’s import CSS Remedy into a sub-layer of <code>reset</code>:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"remedy.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>reset.remedy<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</code></pre>
<p>Now we can add our own reset styles to the <code>reset</code> layer, without any further nesting (unless we want it). Since styles directly in <code>reset</code> will override any further nested styles, we can be sure our styles will always take priority over CSS Remedy if there’s a conflict — no matter what changes in a new release:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"remedy.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>reset.remedy<span class="token punctuation">)</span><span class="token punctuation">;</span></span>

<span class="token atrule"><span class="token rule">@layer</span> reset</span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token pseudo-class">:is</span><span class="token punctuation">(</span>ol<span class="token punctuation">,</span> ul<span class="token punctuation">)</span><span class="token attribute"><span class="token punctuation">[</span><span class="token attr-name">role</span><span class="token operator">=</span><span class="token attr-value">"list"</span><span class="token punctuation">]</span></span></span> <span class="token punctuation">{</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">padding-inline-start</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>And since the <code>reset</code> layer is at the bottom of the stack, the rest of the CSS in our system will override both Remedy, and our own local reset additions.</p>
<h5 id="using-utility-classes"><a href="https://css-tricks.com/css-cascade-layers/#aa-using-utility-classes"></a>Using utility classes<a aria-hidden="true" class="anchor-heading icon-link" href="#using-utility-classes"></a></h5>
<p>At the other end of our stack, “utility classes” in CSS can be a useful way to reproduce common patterns (like additional context for screen readers) in a broadly-applicable way. Utilities tend to break the specificity heuristic, since we want them defined broadly (resulting in a low specificity), but we also generally want them to “win” conflicts.</p>
<p>By having a <code>utilities</code> layer at the top of our layer stack, we can make that possible. We can use that in a similar way to the reset example, both loading external utilities into a sub-layer, and providing our own:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"tailwind.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>utilities.tailwind<span class="token punctuation">)</span><span class="token punctuation">;</span></span>

<span class="token atrule"><span class="token rule">@layer</span> utilities</span> <span class="token punctuation">{</span>
  <span class="token comment">/* from https://kittygiraudel.com/snippets/sr-only-class/ */</span>
  <span class="token comment">/* but with !important removed from the properties */</span>
  <span class="token selector"><span class="token class">.sr-only</span></span> <span class="token punctuation">{</span>
    <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">-webkit-clip-path</span><span class="token punctuation">:</span> <span class="token function">inset</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">inset</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token unit">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">-1</span><span class="token unit">px</span><span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">;</span>
    <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="using-design-systems-and-component-libraries"><a href="https://css-tricks.com/css-cascade-layers/#aa-using-design-systems-and-component-libraries"></a>Using design systems and component libraries<a aria-hidden="true" class="anchor-heading icon-link" href="#using-design-systems-and-component-libraries"></a></h5>
<p>There are a lot of CSS tools that fall somewhere in the middle of our layer stack — combining typography defaults, themes, components, and other aspects of a system.</p>
<p>Depending on the particular tool, we might do something similar to the reset and utility examples above — but there are a few other options. A highly integrated tool might deserve a top-level layer:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> reset<span class="token punctuation">,</span> bootstrap<span class="token punctuation">,</span> utilities<span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"bootstrap.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>bootstrap<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</code></pre>
<p>If these tools start to provide layers as part of their public API, we could also break it down into parts — allowing us to intersperse our code with the library:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"bootstrap/reset.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>reset.bootstrap<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"bootstrap/theme.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>theme.bootstrap<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"bootstrap/components.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>components.bootstrap<span class="token punctuation">)</span><span class="token punctuation">;</span></span>

<span class="token atrule"><span class="token rule">@layer</span> theme.local</span> <span class="token punctuation">{</span>
  <span class="token comment">/* styles here will override theme.bootstrap */</span>
  <span class="token comment">/* but not interfere with styles from components.bootstrap */</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="using-layers-with-existing-un-layered-important-filled-frameworks"><a href="https://css-tricks.com/css-cascade-layers/#aa-using-layers-with-existing-un-layered-important-filled-frameworks"></a>Using layers with existing (un-layered, !important-filled) frameworks<a aria-hidden="true" class="anchor-heading icon-link" href="#using-layers-with-existing-un-layered-important-filled-frameworks"></a></h4>
<p>As with any major language change, there’s going to be an adjustment period when CSS Cascade Layers become widely adopted. What happens if your team is ready to start using layers next month, but your favorite framework decides to wait another three years before they switch over to layered styles? Many frameworks will likely still use <code>!important</code> more often than we’d like! With <code>!important</code> layers reversed, that’s not ideal.</p>
<p>Still, layers can still help us solve the problem. We just have to get clever about it. We decide what layers we want for our project, and that means we can add layers above <em>and</em> also below the framework layers we create.</p>
<p>For now, though, we can use a lower layer to override <code>!important</code> styles from the framework, and a higher layer to override normal styles. Something like this:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> framework.important<span class="token punctuation">,</span> framework.bootstrap<span class="token punctuation">,</span> framework.local<span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"bootstrap.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>framework.bootstrap<span class="token punctuation">)</span><span class="token punctuation">;</span></span>

<span class="token atrule"><span class="token rule">@layer</span> framework.local</span> <span class="token punctuation">{</span>
  <span class="token comment">/* most of our normal framework overrides can live here */</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@layer</span> framework.important</span> <span class="token punctuation">{</span>
  <span class="token comment">/* add !important styles in a lower layer */</span>
  <span class="token comment">/* to override any !important framework styles */</span>
<span class="token punctuation">}</span>
</code></pre>
<p>It still feels like a bit of a hack, but it helps move us in the right direction — towards a more structured cascade. Hopefully it’s a temporary fix.</p>
<h4 id="designing-a-css-tool-or-framework"><a href="https://css-tricks.com/css-cascade-layers/#aa-designing-a-css-tool-or-framework"></a>Designing a CSS tool or framework<a aria-hidden="true" class="anchor-heading icon-link" href="#designing-a-css-tool-or-framework"></a></h4>
<p>For anyone maintaining a CSS library, cascade layers can help with internal organization, and even become part of the developer API. By naming internal layers of a library, we can allow users of our framework to hook into those layers when customizing or overriding our provided styles.</p>
<p>For example, Bootstrap could expose layers for their “reboot,” “grid,” and “utilities” — likely stacked in that order. Now a user can decide if they want to load those Bootstrap layers into different local layers:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>bootstrap/reboot.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>reset<span class="token punctuation">)</span><span class="token punctuation">;</span></span> <span class="token comment">/* reboot » reset.reboot */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>bootstrap/grid.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>layout<span class="token punctuation">)</span><span class="token punctuation">;</span></span> <span class="token comment">/* grid » layout.grid */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>bootstrap/utils.css<span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>override<span class="token punctuation">)</span><span class="token punctuation">;</span></span> <span class="token comment">/* utils » override.utils */</span>
</code></pre>
<p>Or the user might load them into a Bootstrap layer, with local layers interspersed:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> bs.reboot<span class="token punctuation">,</span> bs.grid<span class="token punctuation">,</span> bs.grid-overrides<span class="token punctuation">,</span> bs.utils<span class="token punctuation">,</span> bs.util-overrides<span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"bootstrap-all.css"</span><span class="token punctuation">)</span></span> <span class="token function">layer</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</code></pre>
<p>It’s also possible to hide internal layering from users, when desired, by grouping any private/internal layers inside an anonymous (un-named) layer. Anonymous layers will get added to the layer order where they are encountered, but will not be exposed to users re-arranging or appending styles.</p>
<h4 id="i-just-want-this-one-property-to-be-more-important"><a href="https://css-tricks.com/css-cascade-layers/#aa-i-just-want-this-one-property-to-be-more-important"></a>I just want this one property to be more <code>!important</code><a aria-hidden="true" class="anchor-heading icon-link" href="#i-just-want-this-one-property-to-be-more-important"></a></h4>
<p>Counter to some expectations, layers don’t make it easy to quickly escalate a particular style so that it overrides another.</p>
<p>If the majority of our styles are un-layered, then any new layer will be <em>de-prioritized</em> in relation to the default. We could do that to individual style blocks, but it would quickly become difficult to track.</p>
<p>Layers are intended to be more foundational, not style-by-style, but establishing consistent patterns across a project. Ideally, if we’ve set that up right, we get the correct result by moving our style to the appropriate (and pre-defined) layer.</p>
<p>If the majority of our styles already fall into well-defined layers, we can always consider adding a new highest-power layer at the top of a given stack, or using un-layered styles to override the layers. We might even consider having a <code>debug</code> layer at the top of the stack, for doing exploratory work outside of production.</p>
<p>But adding new layers on-the-fly can defeat the organizational utility of this feature, and should be used carefully. It’s best to ask: <em>Why should this style override the other?</em></p>
<p>If the answer has to do with one <em>type of style</em> always overriding another type, layers are probably the right solution. That might be because we’re overriding styles that come from a place we don’t control, or because we’re writing a utility, and it should move into our <code>utilities</code> layer. If the answer has to do with more targeted styles overriding less targeted styles, we might consider making the selectors reflect that specificity.</p>
<p>Or, on rare occasions, we might even have styles that really are <em>important</em> — the feature simply doesn’t work if you override this particular style. We might say adding <code>display: none</code> to the <code>[hidden]</code> attribute belongs in our lowest-priority reset, but should still be hard to override. In that case, <code>!important</code> really is the right tool for the job:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> reset</span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token attribute"><span class="token punctuation">[</span><span class="token attr-name">hidden</span><span class="token punctuation">]</span></span></span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="scoping-and-name-spacing-styles-nope"><a href="https://css-tricks.com/css-cascade-layers/#aa-scoping-and-name-spacing-styles-nope"></a>Scoping and name-spacing styles? Nope!<a aria-hidden="true" class="anchor-heading icon-link" href="#scoping-and-name-spacing-styles-nope"></a></h4>
<p>Cascade layers are clearly an organizational tool, and one that ‘captures’ the impact of selectors, especially when they conflict. So it can be tempting at first glance to see them as a solution for managing scope or name-spacing.</p>
<p>A common first-instinct is to create a layer for each component in a project — hoping that will ensure (for example) that <code>.post-title</code> is only applied inside a <code>.post</code>.</p>
<p>But cascade conflicts are not the same as naming conflicts, and layers aren’t particularly well designed for this type of scoped organization. Cascade layers don’t constrain how selectors match or apply to the HTML, only how they cascade together. So unless we can be sure that component X <em>always</em> override component Y, individual component layers won’t help much. Instead, we’ll need to keep an eye on the <a href="https://www.w3.org/TR/css-cascade-6/">proposed <code>@scope</code> spec</a> that is being developed.</p>
<p>It can be useful to think of layers and component-scopes instead as overlapping concerns:</p>
<p><a href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/layers-scope-01.png?resize=1024%2C711&#x26;ssl=1">An illustration showing how CSS Cascade Layers can be organized by scope, such as buttons, cards, and login layers that fall into component, theme, and default scopes.</a></p>
<p>Scopes describe <em>what</em> we are styling, while layers describe <em>why</em> we are styling. We can also think of layers as representing <em>where the style comes from</em>, while scopes represent <em>what the style will attach to</em>.</p>
<h3 id="test-your-knowledge-which-style-wins"><a href="https://css-tricks.com/css-cascade-layers/#aa-test-your-knowledge-which-style-wins"></a>Test your knowledge: Which style wins?<a aria-hidden="true" class="anchor-heading icon-link" href="#test-your-knowledge-which-style-wins"></a></h3>
<p>For each situation, assume this paragraph:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>intro<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</code></pre>
<h4 id="question-1"><a href="https://css-tricks.com/css-cascade-layers/#aa-question-1"></a>Question 1<a aria-hidden="true" class="anchor-heading icon-link" href="#question-1"></a></h4>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> ultra-high-priority</span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token id">#intro</span></span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">p</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">green</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>What color is the paragraph?</p>
<p>Despite the layer having a name that <em>sounds pretty important</em>, un-layered styles have a higher priority in the cascade. So the paragraph will be <code>green</code>.</p>
<h4 id="question-2"><a href="https://css-tricks.com/css-cascade-layers/#aa-question-2"></a>Question 2<a aria-hidden="true" class="anchor-heading icon-link" href="#question-2"></a></h4>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> ren<span class="token punctuation">,</span> stimpy<span class="token punctuation">;</span></span>

<span class="token atrule"><span class="token rule">@layer</span> ren</span> <span class="token punctuation">{</span>
  <span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span> <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">p</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">green</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@layer</span> stimpy</span> <span class="token punctuation">{</span>
  <span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">blue</span> <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>What color is the paragraph?</p>
<p>Our normal layer order is established at the start — <code>ren</code> at the bottom, then <code>stimpy</code>, then (as always) un-layered styles at the top. But these styles aren’t all <code>normal</code>, some of them are important. Right away, we can filter down to just the <code>!important</code> styles, and ignore the unimportant <code>green</code>. Remember that ‘origins and importance’ are the first step of the cascade, before we even take layering into account.</p>
<p>That leaves us with two important styles, both in layers. Since our important layers are reversed, <code>ren</code> moves to the top, and <code>stimpy</code> to the bottom. The paragraph will be <code>red</code>.</p>
<h4 id="question-3"><a href="https://css-tricks.com/css-cascade-layers/#aa-question-3"></a>Question 3<a aria-hidden="true" class="anchor-heading icon-link" href="#question-3"></a></h4>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> Montagues<span class="token punctuation">,</span> Capulets<span class="token punctuation">,</span> Verona<span class="token punctuation">;</span></span>

<span class="token atrule"><span class="token rule">@layer</span> Montagues.Romeo</span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token id">#intro</span></span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> Montagues.Benvolio</span> <span class="token punctuation">{</span>
  <span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">orange</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@layer</span> Capulets.Juliet</span> <span class="token punctuation">{</span>
  <span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">yellow</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> Verona</span> <span class="token punctuation">{</span>
  <span class="token selector">*</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">blue</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> Capulets.Tybalt</span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token id">#intro</span></span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">green</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>What color is the paragraph?</p>
<p>All our styles are in the same origin and context, none are marked as important, and none of them are inline styles. We do have a broad range of selectors here, from a highly specific ID <code>#intro</code> to a zero specificity universal <code>*</code> selector. But layers are resolved before we take specificity into account, so we can ignore the selectors for now.</p>
<p>The primary layer order is established up front, and then sub-layers are added internally. But sub-layers are sorted along with their parent layer — meaning all the <code>Montagues</code> will have lowest priority, followed by all the <code>Capulets</code>, and then <code>Verona</code> has final say in the layer order. So we can immediately filter down to just the <code>Verona</code> styles, which take precedence. Even though the <code>*</code> selector has zero specificity, it will win.</p>
<p>Be careful about putting universal selectors in powerful layers!</p>
<h3 id="debugging-layer-conflicts-in-browser-developer-tools"><a href="https://css-tricks.com/css-cascade-layers/#aa-debugging-layer-conflicts-in-browser-developer-tools"></a>Debugging layer conflicts in browser developer tools<a aria-hidden="true" class="anchor-heading icon-link" href="#debugging-layer-conflicts-in-browser-developer-tools"></a></h3>
<p>Chrome, Safari, Firefox, and Edge browsers all have developer tools that allow you to inspect the styles being applied to a given element on the page. The styles panel of this element inspector will show applied selectors, sorted by their cascade priority (highest priority at the top), and then inherited styles below. Styles that are not being applied for any reason will generally be grayed out, or even crossed out — sometimes with additional information about <em>why</em> the style is not applied. This is the first place to look when debugging any aspect of the cascade, including layer conflicts.</p>
<p>Safari Technology Preview and Firefox Nightly already show (and sort) cascade layers in this panel. This tooling is expected to role out in the stable versions at the same time as cascade layers. The layer of each selector is listed directly above the selector itself:</p>
<p><a href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1040%2C770&#x26;ssl=1">Showing CSS Cascade Layers in Safari DevTools.</a></p>
<p><a href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1338%2C608&#x26;ssl=1">Showing CSS Cascade Layers in FireFox DevTools.</a></p>
<p>Chrome/Edge are working on similar tools and expect to have them available in Canary (nightly) releases by the time cascade layers land in the stable release. We’ll make updates here as those tools change and improve.</p>
<h3 id="browser-support-and-fallbacks"><a href="https://css-tricks.com/css-cascade-layers/#aa-browser-support-and-fallbacks"></a>Browser support and fallbacks<a aria-hidden="true" class="anchor-heading icon-link" href="#browser-support-and-fallbacks"></a></h3>
<p>This browser support data is from <a href="http://caniuse.com/#feat=css-cascade-layers">Caniuse</a>, which has more detail. A number indicates that browser supports the feature at that version and up.</p>
<h4 id="desktop">Desktop<a aria-hidden="true" class="anchor-heading icon-link" href="#desktop"></a></h4>
<div class="table-responsive">


















<table><thead><tr><th>Chrome</th><th>Firefox</th><th>IE</th><th>Edge</th><th>Safari</th></tr></thead><tbody><tr><td>99</td><td>97</td><td>No</td><td>99</td><td>15.4</td></tr></tbody></table></div>
<h4 id="mobile--tablet">Mobile / Tablet<a aria-hidden="true" class="anchor-heading icon-link" href="#mobile--tablet"></a></h4>
<div class="table-responsive">
















<table><thead><tr><th>Android Chrome</th><th>Android Firefox</th><th>Android</th><th>iOS Safari</th></tr></thead><tbody><tr><td>114</td><td>113</td><td>114</td><td>15.4</td></tr></tbody></table></div>
<p>Since layers are intended as foundational building blocks of an entire CSS architecture, it is difficult to imagine building manual fallbacks in the same way you might for other CSS features. The fallbacks would likely involve duplicating large sections of code, with different selectors to manage cascade layering — or providing a much simpler fallback stylesheet.</p>
<h4 id="query-feature-support-using-supports"><a href="https://css-tricks.com/css-cascade-layers/#aa-query-feature-support-using-supports"></a>Query feature support using <code>@supports</code><a aria-hidden="true" class="anchor-heading icon-link" href="#query-feature-support-using-supports"></a></h4>
<p>There is a <a href="https://css-tricks.com/how-supports-works/"><code>@supports</code> feature in CSS</a> that will allow authors to test for support of <code>@layer</code> and other at-rules:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@supports</span> <span class="token function">at-rule</span><span class="token punctuation">(</span>@layer<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* code applied for browsers with layer support */</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@supports</span> <span class="token keyword">not</span> <span class="token function">at-rule</span><span class="token punctuation">(</span>@layer<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* fallback applied for browsers without layer support */</span>
<span class="token punctuation">}</span>
</code></pre>
<p>However, it’s also not clear when this query itself will be supported in browsers.</p>
<h4 id="assigning-layers-in-html-with-the-link-tag"><a href="https://css-tricks.com/css-cascade-layers/#aa-assigning-layers-in-html-with-the-link-tag"></a>Assigning layers in HTML with the <code>&#x3C;link></code> tag<a aria-hidden="true" class="anchor-heading icon-link" href="#assigning-layers-in-html-with-the-link-tag"></a></h4>
<p>There is no official specification yet for a syntax to layer entire stylesheets from the html <code>&#x3C;link></code> tag, but there is a <a href="https://github.com/whatwg/html/issues/7540">proposal being developed</a>. That proposal includes a new <code>layer</code> attribute which can be used to assign the styles to a named or anonymous layer:</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&#x3C;!-- styles imported into to the &#x3C;layer-name> layer --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>example.css<span class="token punctuation">"</span></span> <span class="token attr-name">layer</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#x3C;layer-name><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

<span class="token comment">&#x3C;!-- styles imported into to a new anonymous layer --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>example.css<span class="token punctuation">"</span></span> <span class="token attr-name">layer</span> <span class="token punctuation">/></span></span>
</code></pre>
<p>However, old browsers without support for the <code>layer</code> attribute will ignore it completely, and continue to load the stylesheet without any layering. The results could be pretty unexpected. So the proposal also extends the existing <code>media</code> attribute, so that it allows feature support queries in a <code>support()</code> function.</p>
<p>That would allow us to make layered links conditional, based on support for layering:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>link</span>
  <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span>
  <span class="token attr-name">layer</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bootstrap<span class="token punctuation">"</span></span>
  <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>supports(at-rule(@layer))<span class="token punctuation">"</span></span>
  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bootstrap.css<span class="token punctuation">"</span></span>
<span class="token punctuation">/></span></span>
</code></pre>
<h4 id="potential-polyfills-and-workarounds"><a href="https://css-tricks.com/css-cascade-layers/#aa-potential-polyfills-and-workarounds"></a>Potential polyfills and workarounds<a aria-hidden="true" class="anchor-heading icon-link" href="#potential-polyfills-and-workarounds"></a></h4>
<p>The major browsers have all moved to an <a href="https://css-tricks.com/evergreen-does-not-mean-immediately-available/">“evergreen” model</a> with updates pushed to users on a fairly short release cycle. Even Safari regularly releases new features in “patch” updates between their more rare-seeming major versions.</p>
<p>That means we can expect browser support for these features to ramp up very quickly. For many of us, it may be reasonable to start using layers in only a few months, without much concern for old browsers.</p>
<p>For others, it may take longer to feel comfortable with the native browser support. There are many other ways to <a href="https://css-tricks.com/dont-fight-the-cascade-control-it/">manage the cascade</a>, using selectors, <a href="https://css-tricks.com/using-custom-property-stacks-to-tame-the-cascade/">custom properties</a>, and other tools. It’s also theoretically possible to mimic (or polyfill) the basic behavior. There are people working on that polyfill, but it’s not clear when that will be ready either.</p>
<h3 id="more-resources"><a href="https://css-tricks.com/css-cascade-layers/#aa-more-resources"></a>More resources<a aria-hidden="true" class="anchor-heading icon-link" href="#more-resources"></a></h3>
<p>CSS Cascade Layers is still evolving but there is already a lot of resources, including documentation, articles, videos, and demos to help you get even more familiar with layers and how they work.</p>
<h4 id="reference"><a href="https://css-tricks.com/css-cascade-layers/#aa-reference"></a>Reference<a aria-hidden="true" class="anchor-heading icon-link" href="#reference"></a></h4>
<ul>
<li><a href="https://www.w3.org/TR/css-cascade-5/#layering">Cascading &#x26; Inheritance Level 5 Specification</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@layer">MDN Documentation</a></li>
</ul>
<h4 id="articles"><a href="https://css-tricks.com/css-cascade-layers/#aa-articles"></a>Articles<a aria-hidden="true" class="anchor-heading icon-link" href="#articles"></a></h4>
<ul>
<li><a href="https://www.bram.us/2021/09/15/the-future-of-css-cascade-layers-css-at-layer/">The Future of CSS: Cascade Layers (CSS <code>@layer</code>)</a> by Bramus Van Damme</li>
<li><a href="https://www.smashingmagazine.com/2022/01/introduction-css-cascade-layers/">Getting Started With CSS Cascade Layers</a> by Stephanie Eckles, <em>Smashing Magazine</em></li>
<li><a href="https://developer.chrome.com/blog/cascade-layers/">Cascade layers are coming to your browser</a> by Una Kravets, <em>Chrome Developers</em></li>
</ul>
<h4 id="videos"><a href="https://css-tricks.com/css-cascade-layers/#aa-videos"></a>Videos<a aria-hidden="true" class="anchor-heading icon-link" href="#videos"></a></h4>
<ul>
<li><a href="https://youtu.be/dS123IXPcJ0">How does CSS !important actually work?</a> by Una Kravets</li>
<li><a href="https://youtu.be/ilrPpSQJb3U">An overview of the new @layer and layer() CSS primitives</a> by Una Kravets</li>
<li><a href="https://www.youtube.com/watch?v=2wSckPwaC_A">CSS Revert &#x26; Revert-Layer Keywords</a> by Una Kravets</li>
</ul>
<h4 id="demos"><a href="https://css-tricks.com/css-cascade-layers/#aa-demos"></a>Demos<a aria-hidden="true" class="anchor-heading icon-link" href="#demos"></a></h4>
<ul>
<li><a href="https://codepen.io/collection/BNjmma">Layers CodePen collection</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#table-of-contents" title="Table of Contents">Table of Contents</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#quick-example" title="Quick example">Quick example</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#introduction-what-are-cascade-layers" title="Introduction: what are cascade layers?">Introduction: what are cascade layers?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#problem-specificity-conflicts-escalate" title="Problem: Specificity conflicts escalate">Problem: Specificity conflicts escalate</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#solution-cascade-layers-provide-control" title="Solution: cascade layers provide control">Solution: cascade layers provide control</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#where-do-layers-fit-in-the-cascade" title="Where do layers fit in the cascade?">Where do layers fit in the cascade?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#important-origins-context-and-layers-are-reversed" title="!important origins, context, and layers are reversed!">!important origins, context, and layers are reversed!</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#important-origins" title="Important origins">Important origins</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#important-context" title="Important context">Important context</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#important-layers" title="Important layers">Important layers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#establishing-a-layer-order" title="Establishing a layer order">Establishing a layer order</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#syntax-working-with-cascade-layers" title="Syntax: Working with cascade layers">Syntax: Working with cascade layers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#order-setting-layer-statements" title="Order-setting @layer statements">Order-setting @layer statements</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#block-layer-rules" title="Block @layer rules">Block @layer rules</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#grouping-nested-layers" title="Grouping (nested) layers">Grouping (nested) layers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#layering-entire-stylesheets-with-import-or-link" title="Layering entire stylesheets with @import or &lt;link&gt;">Layering entire stylesheets with @import or &lt;link&gt;</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#anonymous-un-named-layers" title="Anonymous (un-named) layers">Anonymous (un-named) layers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#reverting-values-to-the-previous-layer" title="Reverting values to the previous layer">Reverting values to the previous layer</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#context-existing-global-cascade-keywords" title="Context: Existing global cascade keywords*">Context: Existing global cascade keywords*</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#new-the-revert-layer-keyword" title="New: the revert-layer keyword">New: the revert-layer keyword</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#reverting-important-layers" title="Reverting important layers">Reverting important layers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#use-cases-when-would-i-want-to-use-cascade-layers" title="Use cases: When would I want to use cascade layers?">Use cases: When would I want to use cascade layers?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#less-intrusive-resets-and-defaults" title="Less intrusive resets and defaults">Less intrusive resets and defaults</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#managing-a-complex-css-architecture" title="Managing a complex CSS architecture">Managing a complex CSS architecture</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#using-third-party-tools-and-frameworks" title="Using third-party tools and frameworks">Using third-party tools and frameworks</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#using-a-reset" title="Using a reset">Using a reset</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#using-utility-classes" title="Using utility classes">Using utility classes</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#using-design-systems-and-component-libraries" title="Using design systems and component libraries">Using design systems and component libraries</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#using-layers-with-existing-un-layered-important-filled-frameworks" title="Using layers with existing (un-layered, !important-filled) frameworks">Using layers with existing (un-layered, !important-filled) frameworks</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#designing-a-css-tool-or-framework" title="Designing a CSS tool or framework">Designing a CSS tool or framework</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#i-just-want-this-one-property-to-be-more-important" title="I just want this one property to be more !important">I just want this one property to be more !important</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#scoping-and-name-spacing-styles-nope" title="Scoping and name-spacing styles? Nope!">Scoping and name-spacing styles? Nope!</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#test-your-knowledge-which-style-wins" title="Test your knowledge: Which style wins?">Test your knowledge: Which style wins?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#question-1" title="Question 1">Question 1</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#question-2" title="Question 2">Question 2</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#question-3" title="Question 3">Question 3</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#debugging-layer-conflicts-in-browser-developer-tools" title="Debugging layer conflicts in browser developer tools">Debugging layer conflicts in browser developer tools</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#browser-support-and-fallbacks" title="Browser support and fallbacks">Browser support and fallbacks</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#desktop" title="Desktop">Desktop</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#mobile--tablet" title="Mobile / Tablet">Mobile / Tablet</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#query-feature-support-using-supports" title="Query feature support using @supports">Query feature support using @supports</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#assigning-layers-in-html-with-the-link-tag" title="Assigning layers in HTML with the &lt;link&gt; tag">Assigning layers in HTML with the &lt;link&gt; tag</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#potential-polyfills-and-workarounds" title="Potential polyfills and workarounds">Potential polyfills and workarounds</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#more-resources" title="More resources">More resources</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#reference" title="Reference">Reference</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#articles" title="Articles">Articles</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#videos" title="Videos">Videos</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#demos" title="Demos">Demos</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"lgffs982nkr0er7r5u23yxd","title":"A Complete Guide to CSS Cascade Layers","desc":"","updated":1687831447269,"created":1687831329854,"custom":{},"fname":"dev.CSS.css-cascade-layers","type":"note","vault":{"fsPath":"vault"},"contentHash":"d9d54376cb79c6936989485c5645bdd2","links":[],"anchors":{"table-of-contents":{"type":"header","text":"Table of Contents","value":"table-of-contents","line":12,"column":0,"depth":2},"quick-example":{"type":"header","text":"Quick example","value":"quick-example","line":26,"column":0,"depth":3},"introduction-what-are-cascade-layers":{"type":"header","text":"Introduction: what are cascade layers?","value":"introduction-what-are-cascade-layers","line":56,"column":0,"depth":3},"problem-specificity-conflicts-escalate":{"type":"header","text":"Problem: Specificity conflicts escalate","value":"problem-specificity-conflicts-escalate","line":60,"column":0,"depth":4},"solution-cascade-layers-provide-control":{"type":"header","text":"Solution: cascade layers provide control","value":"solution-cascade-layers-provide-control","line":82,"column":0,"depth":4},"where-do-layers-fit-in-the-cascade":{"type":"header","text":"Where do layers fit in the cascade?","value":"where-do-layers-fit-in-the-cascade","line":117,"column":0,"depth":3},"important-origins-context-and-layers-are-reversed":{"type":"header","text":"!important origins, context, and layers are reversed!","value":"important-origins-context-and-layers-are-reversed","line":147,"column":0,"depth":3},"important-origins":{"type":"header","text":"Important origins","value":"important-origins","line":153,"column":0,"depth":4},"important-context":{"type":"header","text":"Important context","value":"important-context","line":192,"column":0,"depth":4},"important-layers":{"type":"header","text":"Important layers","value":"important-layers","line":207,"column":0,"depth":4},"establishing-a-layer-order":{"type":"header","text":"Establishing a layer order","value":"establishing-a-layer-order","line":232,"column":0,"depth":3},"syntax-working-with-cascade-layers":{"type":"header","text":"Syntax: Working with cascade layers","value":"syntax-working-with-cascade-layers","line":365,"column":0,"depth":3},"order-setting-layer-statements":{"type":"header","text":"Order-setting @layer statements","value":"order-setting-layer-statements","line":369,"column":0,"depth":4},"block-layer-rules":{"type":"header","text":"Block @layer rules","value":"block-layer-rules","line":405,"column":0,"depth":4},"grouping-nested-layers":{"type":"header","text":"Grouping (nested) layers","value":"grouping-nested-layers","line":443,"column":0,"depth":4},"layering-entire-stylesheets-with-import-or-link":{"type":"header","text":"Layering entire stylesheets with @import or \u003clink\u003e","value":"layering-entire-stylesheets-with-import-or-link","line":517,"column":0,"depth":4},"anonymous-un-named-layers":{"type":"header","text":"Anonymous (un-named) layers","value":"anonymous-un-named-layers","line":528,"column":0,"depth":4},"reverting-values-to-the-previous-layer":{"type":"header","text":"Reverting values to the previous layer","value":"reverting-values-to-the-previous-layer","line":557,"column":0,"depth":4},"context-existing-global-cascade-keywords":{"type":"header","text":"Context: Existing global cascade keywords*","value":"context-existing-global-cascade-keywords","line":561,"column":0,"depth":5},"new-the-revert-layer-keyword":{"type":"header","text":"New: the revert-layer keyword","value":"new-the-revert-layer-keyword","line":570,"column":0,"depth":5},"reverting-important-layers":{"type":"header","text":"Reverting important layers","value":"reverting-important-layers","line":596,"column":0,"depth":5},"use-cases-when-would-i-want-to-use-cascade-layers":{"type":"header","text":"Use cases: When would I want to use cascade layers?","value":"use-cases-when-would-i-want-to-use-cascade-layers","line":642,"column":0,"depth":3},"less-intrusive-resets-and-defaults":{"type":"header","text":"Less intrusive resets and defaults","value":"less-intrusive-resets-and-defaults","line":646,"column":0,"depth":4},"managing-a-complex-css-architecture":{"type":"header","text":"Managing a complex CSS architecture","value":"managing-a-complex-css-architecture","line":677,"column":0,"depth":4},"using-third-party-tools-and-frameworks":{"type":"header","text":"Using third-party tools and frameworks","value":"using-third-party-tools-and-frameworks","line":723,"column":0,"depth":4},"using-a-reset":{"type":"header","text":"Using a reset","value":"using-a-reset","line":737,"column":0,"depth":5},"using-utility-classes":{"type":"header","text":"Using utility classes","value":"using-utility-classes","line":760,"column":0,"depth":5},"using-design-systems-and-component-libraries":{"type":"header","text":"Using design systems and component libraries","value":"using-design-systems-and-component-libraries","line":788,"column":0,"depth":5},"using-layers-with-existing-un-layered-important-filled-frameworks":{"type":"header","text":"Using layers with existing (un-layered, !important-filled) frameworks","value":"using-layers-with-existing-un-layered-important-filled-frameworks","line":812,"column":0,"depth":4},"designing-a-css-tool-or-framework":{"type":"header","text":"Designing a CSS tool or framework","value":"designing-a-css-tool-or-framework","line":836,"column":0,"depth":4},"i-just-want-this-one-property-to-be-more-important":{"type":"header","text":"I just want this one property to be more !important","value":"i-just-want-this-one-property-to-be-more-important","line":857,"column":0,"depth":4},"scoping-and-name-spacing-styles-nope":{"type":"header","text":"Scoping and name-spacing styles? Nope!","value":"scoping-and-name-spacing-styles-nope","line":881,"column":0,"depth":4},"test-your-knowledge-which-style-wins":{"type":"header","text":"Test your knowledge: Which style wins?","value":"test-your-knowledge-which-style-wins","line":895,"column":0,"depth":3},"question-1":{"type":"header","text":"Question 1","value":"question-1","line":903,"column":0,"depth":4},"question-2":{"type":"header","text":"Question 2","value":"question-2","line":921,"column":0,"depth":4},"question-3":{"type":"header","text":"Question 3","value":"question-3","line":949,"column":0,"depth":4},"debugging-layer-conflicts-in-browser-developer-tools":{"type":"header","text":"Debugging layer conflicts in browser developer tools","value":"debugging-layer-conflicts-in-browser-developer-tools","line":990,"column":0,"depth":3},"browser-support-and-fallbacks":{"type":"header","text":"Browser support and fallbacks","value":"browser-support-and-fallbacks","line":1002,"column":0,"depth":3},"desktop":{"type":"header","text":"Desktop","value":"desktop","line":1006,"column":0,"depth":4},"mobile--tablet":{"type":"header","text":"Mobile / Tablet","value":"mobile--tablet","line":1012,"column":0,"depth":4},"query-feature-support-using-supports":{"type":"header","text":"Query feature support using @supports","value":"query-feature-support-using-supports","line":1020,"column":0,"depth":4},"assigning-layers-in-html-with-the-link-tag":{"type":"header","text":"Assigning layers in HTML with the \u003clink\u003e tag","value":"assigning-layers-in-html-with-the-link-tag","line":1036,"column":0,"depth":4},"potential-polyfills-and-workarounds":{"type":"header","text":"Potential polyfills and workarounds","value":"potential-polyfills-and-workarounds","line":1061,"column":0,"depth":4},"more-resources":{"type":"header","text":"More resources","value":"more-resources","line":1069,"column":0,"depth":3},"reference":{"type":"header","text":"Reference","value":"reference","line":1073,"column":0,"depth":4},"articles":{"type":"header","text":"Articles","value":"articles","line":1078,"column":0,"depth":4},"videos":{"type":"header","text":"Videos","value":"videos","line":1084,"column":0,"depth":4},"demos":{"type":"header","text":"Demos","value":"demos","line":1090,"column":0,"depth":4}},"children":[],"parent":"14ndat1u737ts8fzosspizp","data":{}},"body":"\u003ch1 id=\"a-complete-guide-to-css-cascade-layers\"\u003eA Complete Guide to CSS Cascade Layers\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#a-complete-guide-to-css-cascade-layers\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/\"\u003ehttps://css-tricks.com/css-cascade-layers/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eThis is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity, so that we have full control over which styles take priority in a project without relying on specificity hacks or \u003ccode\u003e!important\u003c/code\u003e. This guide is intended to help you fully understand what cascade layers are for, how and why you might choose to use them, the current levels of support, and the syntax of how you use them.\u003c/p\u003e\n\u003ch2 id=\"table-of-contents\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-table-of-contents\"\u003e\u003c/a\u003eTable of Contents\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#table-of-contents\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#quick-example\"\u003eQuick example\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#introduction-what-are-cascade-layers\"\u003eIntroduction: what are cascade layers?\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#where-do-layers-fit-in-the-cascade\"\u003eWhere do layers fit in the cascade?\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#important-origins-context-and-layers-are-reversed\"\u003e!important origins, context, and layers are reversed!\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#establishing-a-layer-order\"\u003eEstablishing a layer order\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#syntax-working-with-cascade-layers\"\u003eSyntax: Working with cascade layers\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#use-cases-when-would-i-want-to-use-cascade-layers\"\u003eUse cases: When would I want to use cascade layers?\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#test-your-knowledge-which-style-wins\"\u003eTest your knowledge: Which style wins?\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#debugging-layer-conflicts-in-browser-developer-tools\"\u003eDebugging layer conflicts in browser developer tools\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#browser-support-and-fallbacks\"\u003eBrowser support and fallbacks\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#more-resources\"\u003eMore resources\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"quick-example\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-quick-example\"\u003e\u003c/a\u003eQuick example\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#quick-example\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* establish a layer order up-front, from lowest to highest priority */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e reset\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e defaults\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e patterns\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e components\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e utilities\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e overrides\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/* import stylesheets into a layer (dot syntax represents nesting) */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"framework.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecomponents.framework\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/* add styles to layers */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e utilities\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* high layer priority, despite low specificity */\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token attribute\"\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003edata-color\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token variable\"\u003e--brand\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e rebeccapurple\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e defaults\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* higher specificity, but lower layer priority */\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003cspan class=\"token pseudo-class\"\u003e:any-link\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003emaroon\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/* un-layered styles have the highest priority */\u003c/span\u003e\n\u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003emediumvioletred\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"introduction-what-are-cascade-layers\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-introduction-what-are-cascade-layers\"\u003e\u003c/a\u003eIntroduction: what are cascade layers?\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#introduction-what-are-cascade-layers\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eCSS Cascade Layers are intended to solve tricky problems in CSS. Let’s take a look at \u003cstrong\u003ethe main problem\u003c/strong\u003e and how cascade layers aim to solve it.\u003c/p\u003e\n\u003ch4 id=\"problem-specificity-conflicts-escalate\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-problem-specificity-conflicts-escalate\"\u003e\u003c/a\u003eProblem: Specificity conflicts escalate\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#problem-specificity-conflicts-escalate\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eMany of us have been in situations where we want to override styles from elsewhere in our code (or a third-party tool), due to conflicting selectors. And over the years, authors have developed a number of “methodologies” and “best practices” to avoid these situations — such as “only using a single class” for all selectors. These rules are usually more about avoiding the cascade, rather than \u003ca href=\"https://css-tricks.com/dont-fight-the-cascade-control-it/\"\u003eputting it to use\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eManaging cascade conflicts and selector specificity has often been considered one of the harder — or at least more confusing — aspects of CSS. That may be partly because few other languages rely on a cascade as their central feature, but it’s also true that the original cascade relies heavily on \u003cem\u003eheuristics\u003c/em\u003e (an educated-guess or assumption built into the code) rather than providing direct and explicit control to web authors.\u003c/p\u003e\n\u003cp\u003eSelector specificity, for example — our primary interaction with the cascade — is based on the assumption that more narrowly targeted styles (like IDs that are only used once) are likely more important than more generic and reusable styles (like classes and attributes). That is to say: how \u003cem\u003especific\u003c/em\u003e the selector is. That’s a good guess, but it’s not a totally reliable rule, and that causes some issues:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eIt combines the act of \u003cem\u003eselecting elements\u003c/em\u003e, with the act of \u003cem\u003eprioritizing rule-sets\u003c/em\u003e.\u003c/li\u003e\n\u003cli\u003eThe simplest way to ‘fix’ a conflict with specificity is to escalate the problem by adding otherwise unnecessary selectors, or (gasp) \u003ca href=\"https://css-tricks.com/when-using-important-is-the-right-choice/\"\u003ethrowing the\u003c/a\u003e \u003ca href=\"https://css-tricks.com/when-using-important-is-the-right-choice/\"\u003e\u003ccode\u003e!important\u003c/code\u003e hand-grenade\u003c/a\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003e\u003cspan class=\"token class\"\u003e.overly\u003c/span\u003e\u003cspan class=\"token id\"\u003e#powerful\u003c/span\u003e \u003cspan class=\"token class\"\u003e.framework\u003c/span\u003e\u003cspan class=\"token class\"\u003e.widget\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003emaroon\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token selector\"\u003e\u003cspan class=\"token class\"\u003e.my-single_class\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* add some IDs to this ??? */\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e rebeccapurple\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e/* add !important ??? */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"solution-cascade-layers-provide-control\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-solution-cascade-layers-provide-control\"\u003e\u003c/a\u003eSolution: cascade layers provide control\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#solution-cascade-layers-provide-control\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eCascade layers give CSS authors more direct control over the cascade so we can build more intentionally cascading systems without relying as much on heuristic assumptions that are tied to selection.\u003c/p\u003e\n\u003cp\u003eUsing the \u003ccode\u003e@layer\u003c/code\u003e at-rule and layered \u003ccode\u003e@import\u003c/code\u003es, we can establish our own \u003cem\u003elayers of the cascade\u003c/em\u003e — building from low-priority styles like resets and defaults, through themes, frameworks, and design systems, up to highest-priority styles, like components, utilities, and overrides. Specificity is still applied to conflicts \u003cem\u003ewithin each layer\u003c/em\u003e, but conflicts between layers are always resolved by using the higher-priority layer styles.\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e framework\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token class\"\u003e.overly\u003c/span\u003e\u003cspan class=\"token id\"\u003e#powerful\u003c/span\u003e \u003cspan class=\"token class\"\u003e.framework\u003c/span\u003e\u003cspan class=\"token class\"\u003e.widget\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003emaroon\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e site\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token class\"\u003e.my-single_class\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e rebeccapurple\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThese layers are ordered and grouped so that they don’t escalate in the same way that specificity and importance can. Cascade layers aren’t cumulative like selectors. Adding \u003cem\u003emore layers\u003c/em\u003e doesn’t make something \u003cem\u003emore important\u003c/em\u003e. They’re also not binary like importance — suddenly jumping to the top of a stack — or numbered like \u003ccode\u003ez-index\u003c/code\u003e, where we have to guess a big number (\u003ccode\u003ez-index:\u003c/code\u003e \u003ccode\u003e9999999\u003c/code\u003e?). In fact, by default, layered styles are \u003cem\u003eless important\u003c/em\u003e than un-layered styles.\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e defaults\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003cspan class=\"token pseudo-class\"\u003e:any-link\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003emaroon\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/* un-layered styles have the highest priority */\u003c/span\u003e\n\u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003emediumvioletred\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"where-do-layers-fit-in-the-cascade\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-where-do-layers-fit-in-the-cascade\"\u003e\u003c/a\u003eWhere do layers fit in the cascade?\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#where-do-layers-fit-in-the-cascade\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThe cascade is a series of steps (an algorithm) for resolving conflicts between styles.\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003ehtml\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token variable\"\u003e--button\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eteal\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token selector\"\u003ebutton\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ebackground\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e rebeccapurple \u003cspan class=\"token important\"\u003e!important\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token selector\"\u003e\u003cspan class=\"token class\"\u003e.warning\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ebackground\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003emaroon\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ebutton\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ewarning\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token special-attr\"\u003e\u003cspan class=\"token attr-name\"\u003estyle\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003cspan class=\"token value css language-css\"\u003e\u003cspan class=\"token property\"\u003ebackground\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token variable\"\u003e--button\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  what color background?\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ebutton\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWith the addition of cascade layers, those steps are:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://css-tricks.com/wp-content/uploads/2022/02/layers-tall-outlines2.svg\"\u003eIllustration of the various specificity levels of the CSS cascade and where CSS Cascade Layers fit in it.\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eSelector specificity\u003c/em\u003e is only one small part of the cascade, but it’s also the step we interact with most, and is often used to refer more generally to overall \u003cem\u003ecascade priority\u003c/em\u003e. People might say that the \u003ccode\u003e!important\u003c/code\u003e flag or the \u003ccode\u003estyle\u003c/code\u003e attribute “adds specificity” — a quick way of expressing that the style becomes higher priority in the cascade. Since cascade layers have been added directly above specificity, it’s reasonable to think about them in a similar way: one step more powerful than ID selectors.\u003c/p\u003e\n\u003cp\u003eHowever, CSS Cascade Layers also make it more essential that we fully understand the role of \u003ccode\u003e!important\u003c/code\u003e in the cascade — not just as a tool for “increasing specificity” but as a system for balancing concerns.\u003c/p\u003e\n\u003ch3 id=\"important-origins-context-and-layers-are-reversed\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-important-origins-context-and-layers-are-reversed\"\u003e\u003c/a\u003e\u003ccode\u003e!important\u003c/code\u003e origins, context, and layers are reversed!\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#important-origins-context-and-layers-are-reversed\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eAs web authors, we often think of \u003ccode\u003e!important\u003c/code\u003e as a way of increasing specificity, to override inline styles or highly specific selectors. That works OK in most cases (if you’re OK with the escalation) but it leaves out the primary purpose of \u003cem\u003eimportance\u003c/em\u003e as a feature in the overall cascade.\u003c/p\u003e\n\u003cp\u003eImportance isn’t there to simply increase power — but to balance the power between various competing concerns.\u003c/p\u003e\n\u003ch4 id=\"important-origins\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-important-origins\"\u003e\u003c/a\u003eImportant origins\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#important-origins\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eIt all starts with origins, where a style comes from in the web ecosystem. There are three basic origins in CSS:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe \u003cstrong\u003ebrowser\u003c/strong\u003e (or user agent)\u003c/li\u003e\n\u003cli\u003eThe \u003cstrong\u003euser\u003c/strong\u003e (often via browser preferences)\u003c/li\u003e\n\u003cli\u003eWeb \u003cstrong\u003eauthors\u003c/strong\u003e (that’s us!)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eBrowsers provide readable defaults for all the elements, and then users set their preferences, and then we (authors) provide the intended design for our web pages. So, by default, browsers have the lowest priority, user preferences override the browser defaults, and we’re able to override everyone.\u003c/p\u003e\n\u003cp\u003eBut the creators of CSS were very clear that we should not actually have the final word:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIf conflicts arise \u003cstrong\u003ethe user should have the last word\u003c/strong\u003e, but one should also allow the author to attach style hints.\u003c/p\u003e\n\u003cp\u003e— Håkon Lie (emphasis added)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eSo \u003cem\u003eimportance\u003c/em\u003e provides a way for the browser and users to re-claim their priority when it matters most. When the \u003ccode\u003e!important\u003c/code\u003e flag is added to a style, three new layers are created — and the order is reversed!\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e browser styles (most powerful)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e user preferences\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e author styles\u003c/li\u003e\n\u003cli\u003enormal author styles\u003c/li\u003e\n\u003cli\u003enormal user preferences\u003c/li\u003e\n\u003cli\u003enormal browser styles (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eFor us, adding \u003ccode\u003e!important\u003c/code\u003e doesn’t change much — our important styles are pretty close to our normal styles — but for the browser and user it’s a very powerful tool for regaining control. Browser default style sheets include a number of important styles that it would be impossible for us to override, such as:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003eiframe\u003cspan class=\"token pseudo-class\"\u003e:fullscreen\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* iframes in full-screen mode don't show a border. */\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003eborder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e none \u003cspan class=\"token important\"\u003e!important\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003epadding\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e unset \u003cspan class=\"token important\"\u003e!important\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWhile most of the popular browsers have made it difficult to upload actual user stylesheets, they all offer user preferences: a graphic interface for establishing specific user styles. In that interface, there is always a checkbox available for users to choose if a site is allowed to override their preferences or not. This is the same as setting \u003ccode\u003e!important\u003c/code\u003e in a user stylesheet:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1320%2C996\u0026#x26;ssl=1\"\u003eScreenshot of user font preferences.\u003c/a\u003e\u003c/p\u003e\n\u003ch4 id=\"important-context\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-important-context\"\u003e\u003c/a\u003eImportant context\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#important-context\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eThe same basic logic is applied to \u003cem\u003econtext\u003c/em\u003e in the cascade. By default, styles from the host document (light DOM) override styles from an embedded context (shadow DOM). However, adding \u003ccode\u003e!important\u003c/code\u003e reverses the order:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e shadow context (most powerful)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e host context\u003c/li\u003e\n\u003cli\u003enormal host context\u003c/li\u003e\n\u003cli\u003enormal shadow context (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eImportant styles that come from inside a shadow context override important styles defined by the host document. Here’s an \u003ccode\u003eodd-bird\u003c/code\u003e \u003ca href=\"https://css-tricks.com/an-introduction-to-web-components/\"\u003ecustom element\u003c/a\u003e with some styles written in the element template (shadow DOM), and some styles in the host page (light DOM) stylesheet:\u003c/p\u003e\n\u003cp\u003eCodePen Embed Fallback\u003c/p\u003e\n\u003cp\u003eBoth \u003ccode\u003ecolor\u003c/code\u003e declarations have normal importance, and so the host page \u003ccode\u003emediumvioletred\u003c/code\u003e takes priority. But the \u003ccode\u003efont-family\u003c/code\u003e declarations are flagged \u003ccode\u003e!important\u003c/code\u003e, giving advantage to the shadow-context, where \u003ccode\u003efantasy\u003c/code\u003e is defined.\u003c/p\u003e\n\u003ch4 id=\"important-layers\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-important-layers\"\u003e\u003c/a\u003eImportant layers\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#important-layers\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eCascade layers work the same way as both origins and context, with the important layers in reverse-order. The only difference is that layers make that behavior much more noticeable.\u003c/p\u003e\n\u003cp\u003eOnce we start using cascade layers, we will need to be much more cautious and intentional about how we use \u003ccode\u003e!important\u003c/code\u003e. It’s no longer a quick way to jump to the top of the priorities — but an integrated part of our cascade layering; a way for lower layers to \u003cem\u003einsist\u003c/em\u003e that some of their styles are essential.\u003c/p\u003e\n\u003cp\u003eSince cascade layers are customizable, there’s no pre-defined order. But we can imagine starting with three layers:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eutilities (most powerful)\u003c/li\u003e\n\u003cli\u003ecomponents\u003c/li\u003e\n\u003cli\u003edefaults (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eWhen styles in those layers are marked as important, they would generate three new, reversed important layers:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e defaults (most powerful)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e components\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e utilities\u003c/li\u003e\n\u003cli\u003enormal utilities\u003c/li\u003e\n\u003cli\u003enormal components\u003c/li\u003e\n\u003cli\u003enormal defaults (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eIn this example, the color is defined by all three normal layers, and the \u003ccode\u003eutilities\u003c/code\u003e layer wins the conflict, applying the \u003ccode\u003emaroon\u003c/code\u003e color, as the \u003ccode\u003eutilities\u003c/code\u003e layer has a higher priority in \u003ccode\u003e@layers\u003c/code\u003e. But notice that the \u003ccode\u003etext-decoration\u003c/code\u003e property is marked \u003ccode\u003e!important\u003c/code\u003e in both the \u003ccode\u003edefaults\u003c/code\u003e and \u003ccode\u003ecomponents\u003c/code\u003e layers, where important \u003ccode\u003edefaults\u003c/code\u003e take priority, applying the underline declared by \u003ccode\u003edefaults\u003c/code\u003e:\u003c/p\u003e\n\u003cp\u003eCodePen Embed Fallback\u003c/p\u003e\n\u003ch3 id=\"establishing-a-layer-order\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-establishing-a-layer-order\"\u003e\u003c/a\u003eEstablishing a layer order\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#establishing-a-layer-order\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eWe can create any number of layers and name them or group them in various ways. But the most important thing to do is to make sure our layers are applied in the right order of priority.\u003c/p\u003e\n\u003cp\u003eA single layer can be used multiple times throughout the codebase — cascade layers stack in the order they \u003cem\u003efirst appear\u003c/em\u003e. The first layer encountered sits at the bottom (least powerful), and the last layer at the top (most powerful). But then, above that, \u003cstrong\u003eun-layered styles have the highest priority\u003c/strong\u003e:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e layer-1\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003ered\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e layer-2\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eorange\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e layer-3\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eyellow\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e/* un-layered */\u003c/span\u003e\n\u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003egreen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003col\u003e\n\u003cli\u003eun-layered styles (most powerful)\u003c/li\u003e\n\u003cli\u003elayer-3\u003c/li\u003e\n\u003cli\u003elayer-2\u003c/li\u003e\n\u003cli\u003elayer-1 (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThen, as discussed above, any important styles are applied in a reverse order:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e layer-1\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003ered\u003c/span\u003e \u003cspan class=\"token important\"\u003e!important\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e layer-2\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eorange\u003c/span\u003e \u003cspan class=\"token important\"\u003e!important\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e layer-3\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eyellow\u003c/span\u003e \u003cspan class=\"token important\"\u003e!important\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e/* un-layered */\u003c/span\u003e\n\u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003egreen\u003c/span\u003e \u003cspan class=\"token important\"\u003e!important\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e layer-1 (most powerful)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e layer-2\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e layer-3\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e un-layered styles\u003c/li\u003e\n\u003cli\u003enormal un-layered styles\u003c/li\u003e\n\u003cli\u003enormal layer-3\u003c/li\u003e\n\u003cli\u003enormal layer-2\u003c/li\u003e\n\u003cli\u003enormal layer-1 (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eLayers can also be grouped, allowing us to do more complicated sorting of top-level and nested layers:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e layer-1\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003ered\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e layer-2\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eorange\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e layer-3\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e sub-layer-1\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eyellow\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e sub-layer-2\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003egreen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* un-nested */\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eblue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e/* un-layered */\u003c/span\u003e\n\u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eindigo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003col\u003e\n\u003cli\u003eun-layered styles (most powerful)\u003c/li\u003e\n\u003cli\u003elayer-3\n\u003col\u003e\n\u003cli\u003elayer-3 un-nested\u003c/li\u003e\n\u003cli\u003elayer-3 sub-layer-2\u003c/li\u003e\n\u003cli\u003elayer-3 sub-layer-1\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003elayer-2\u003c/li\u003e\n\u003cli\u003elayer-1 (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eGrouped layers always stay together in the final layer order (for example, sub-layers of layer-3 will all be next to each other), but this otherwise behaves the same as if the list was “flattened” — turning this into a single six-item list. When reversing \u003ccode\u003e!important\u003c/code\u003e layer order, the entire list flattened is reversed.\u003c/p\u003e\n\u003cp\u003eBut layers don’t have to be defined once in a single location. We give them names so that layers can be defined in one place (to establish layer order), and then we can append styles to them from anywhere:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* describe the layer in one place */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e my-layer\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/* append styles to it from anywhere */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e my-layer\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003ered\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe can even define a whole ordered list of layers in a single declaration:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e one\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e two\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e three\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e four\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e five\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e etc\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis makes it possible for the author of a site to have final say over the layer order. By providing a layer order up-front, before any third party code is imported, the order can be established and rearranged in one place without worrying about how layers are used in any third-party tool.\u003c/p\u003e\n\u003ch3 id=\"syntax-working-with-cascade-layers\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-syntax-working-with-cascade-layers\"\u003e\u003c/a\u003eSyntax: Working with cascade layers\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#syntax-working-with-cascade-layers\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eLet’s take a look at the syntax!\u003c/p\u003e\n\u003ch4 id=\"order-setting-layer-statements\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-order-setting-layer-statements\"\u003e\u003c/a\u003eOrder-setting \u003ccode\u003e@layer\u003c/code\u003e statements\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#order-setting-layer-statements\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eSince layers are stacked in the order they are defined, it’s important that we have a tool for establishing that order all in one place!\u003c/p\u003e\n\u003cp\u003eWe can use \u003ccode\u003e@layer\u003c/code\u003e statements to do that. The syntax is:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e \u0026#x3C;layer-name\u003e#\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThat hash (\u003ccode\u003e#\u003c/code\u003e) means we can add as many layer names as we want in a comma-separated list:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e reset\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e defaults\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e framework\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e components\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e utilities\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThat will establish the layer order:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eun-layered styles (most powerful)\u003c/li\u003e\n\u003cli\u003eutilities\u003c/li\u003e\n\u003cli\u003ecomponents\u003c/li\u003e\n\u003cli\u003eframework\u003c/li\u003e\n\u003cli\u003edefaults\u003c/li\u003e\n\u003cli\u003ereset (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eWe can do this as many times as we want, but remember: what matters is the order each name \u003cem\u003efirst appears\u003c/em\u003e. So this will have the same result:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e reset\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e defaults\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e framework\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e components\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e defaults\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e framework\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e reset\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e utilities\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe ordering logic will ignore the order of \u003ccode\u003ereset\u003c/code\u003e, \u003ccode\u003edefaults\u003c/code\u003e, and \u003ccode\u003eframework\u003c/code\u003e in the second \u003ccode\u003e@layer\u003c/code\u003e rule because those layers have already been established. This \u003ccode\u003e@layer\u003c/code\u003e list syntax doesn’t add any special magic to the layer ordering logic: layers are stacked based on \u003cem\u003ethe order in which the layers first appear in your code\u003c/em\u003e. In this case, \u003ccode\u003ereset\u003c/code\u003e appears first in the first \u003ccode\u003e@layer\u003c/code\u003e list. Any \u003ccode\u003e@layer\u003c/code\u003e statement that comes later can only append layer names to the list, \u003cem\u003ebut can’t move layers that already exist\u003c/em\u003e. This ensures that you can always control the final overall layer order from one location — at the very start of your styles.\u003c/p\u003e\n\u003cp\u003eThese layer-ordering statements are allowed at the top of a stylesheet, before the \u003ccode\u003e@import\u003c/code\u003e rule (but not between imports). We highly recommend using this feature to establish all your layers up-front in a single place so you always know where to look or make changes.\u003c/p\u003e\n\u003ch4 id=\"block-layer-rules\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-block-layer-rules\"\u003e\u003c/a\u003eBlock \u003ccode\u003e@layer\u003c/code\u003e rules\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#block-layer-rules\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eThe block version of the \u003ccode\u003e@layer\u003c/code\u003e rule only takes a single layer name, but then allows you to add styles to that layer:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e \u0026#x3C;layer-name\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* styles added to the layer */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou can put most things inside an \u003ccode\u003e@layer\u003c/code\u003e block — media queries, selectors and styles, support queries, etc. The only things you can’t put inside a layer block are things like charset, imports, and namespaces. But don’t worry, there is a syntax for importing styles into a layer.\u003c/p\u003e\n\u003cp\u003eIf the layer name hasn’t been established before, this layer rule will add it to the layer order. But if the name has been established, this allows you to add styles to existing layers from anywhere in the document — without changing the priority of each layer.\u003c/p\u003e\n\u003cp\u003eIf we’ve established our layer-order up-front with the layer statement rule, we no longer need to worry about the order of these layer blocks:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* establish the order up-front */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e defaults\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e components\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e utilities\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/* add styles to layers in any order */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e utilities\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token attribute\"\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003ehidden\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003edisplay\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e none\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/* utilities will override defaults, based on established order */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e defaults\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e*\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ebox-sizing\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e border-box\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003eimg\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003edisplay\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e block\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"grouping-nested-layers\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-grouping-nested-layers\"\u003e\u003c/a\u003eGrouping (nested) layers\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#grouping-nested-layers\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eLayers can be grouped, by nesting layer rules:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e one\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* sorting the sub-layers */\u003c/span\u003e\n  \u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e two\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e three\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e/* styles ... */\u003c/span\u003e\n  \u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e three\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e/* styles ... */\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e two\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e/* styles ... */\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis generates grouped layers that can be represented by joining the parent and child names with a period. That means the resulting sub-layers can also be accessed directly from outside the group:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* sorting nested layers directly */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e one.two\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e one.three\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/* adding to nested layers directly */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e one.three\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* ... */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e one.two\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* ... */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe rules of layer-ordering apply at each level of nesting. Any styles that are not further nested are considered “un-layered” in that context, and have priority over further nested styles:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e defaults\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* un-layered defaults (higher priority) */\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token pseudo-class\"\u003e:any-link\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e rebeccapurple\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e/* layered defaults (lower priority) */\u003c/span\u003e\n  \u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e reset\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token selector\"\u003ea\u003cspan class=\"token attribute\"\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003ehref\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eblue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eGrouped layers are also contained within their parent, so that the layer order does not intermix across groups. In this example, the top level layers are sorted first, and then the layers are sorted within each group:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e reset.type\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e default.type\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e reset.media\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e default.media\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eResulting in a layer order of:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cem\u003eun-layered\u003c/em\u003e (most powerful)\u003c/li\u003e\n\u003cli\u003edefault group\n\u003cul\u003e\n\u003cli\u003edefault \u003cem\u003eun-layered\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003edefault.media\u003c/li\u003e\n\u003cli\u003edefault.type\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ereset group\n\u003cul\u003e\n\u003cli\u003ereset \u003cem\u003eun-layered\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003ereset.media\u003c/li\u003e\n\u003cli\u003ereset.type\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eNote that layer names are also scoped so that they don’t interact or conflict with similarly-named layers outside their nested context. Both groups can have distinct \u003ccode\u003emedia\u003c/code\u003e sub-layers.\u003c/p\u003e\n\u003cp\u003eThis grouping becomes especially important when using \u003ccode\u003e@import\u003c/code\u003e or \u003ccode\u003e\u0026#x3C;link\u003e\u003c/code\u003e to layer entire stylesheets. A third-party tool, like \u003ca href=\"https://getbootstrap.com/\"\u003eBootstrap\u003c/a\u003e, could use layers internally — but we can nest those layers into a shared \u003ccode\u003ebootstrap\u003c/code\u003e layer-group on import, to avoid potential layer-naming conflicts.\u003c/p\u003e\n\u003ch4 id=\"layering-entire-stylesheets-with-import-or-link\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-layering-entire-stylesheets-with-import-or-link\"\u003e\u003c/a\u003eLayering entire stylesheets with \u003ccode\u003e@import\u003c/code\u003e or \u003ccode\u003e\u0026#x3C;link\u003e\u003c/code\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#layering-entire-stylesheets-with-import-or-link\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eEntire stylesheets can be added to a layer using the new \u003ccode\u003elayer()\u003c/code\u003e function syntax with \u003ccode\u003e@import\u003c/code\u003e rules:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* styles imported into to the \u0026#x3C;layer-name\u003e layer */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"example.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u0026#x3C;layer-name\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThere is also a proposal to add a \u003ccode\u003elayer\u003c/code\u003e attribute in the HTML \u003ccode\u003e\u0026#x3C;link\u003e\u003c/code\u003e element — although this is still under development, and \u003ca href=\"https://css.oddbird.net/layers/guide/#assigning-layers-in-html-with-the-link-tag\"\u003enot yet supported anywhere\u003c/a\u003e. This can be used to import third-party tools or component libraries, while grouping any internal layers together under a single layer name — or as a way of organizing layers into distinct files.\u003c/p\u003e\n\u003ch4 id=\"anonymous-un-named-layers\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-anonymous-un-named-layers\"\u003e\u003c/a\u003eAnonymous (un-named) layers\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#anonymous-un-named-layers\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eLayer names are helpful as they allow us to access the same layer from multiple places for sorting or combining layer blocks — but they are not required.\u003c/p\u003e\n\u003cp\u003eIt’s possible to create \u003cem\u003eanonymous\u003c/em\u003e (un-named) layers using the block layer rule:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* ... */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* ... */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOr using the import syntax, with a \u003ccode\u003elayer\u003c/code\u003e keyword in place of the \u003ccode\u003elayer()\u003c/code\u003e function:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* styles imported into to a new anonymous layer */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"../example.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e layer\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEach anonymous layer is unique, and added to the layer order where it is encountered. Anonymous layers can’t be referenced from other layer rules for sorting or appending more styles.\u003c/p\u003e\n\u003cp\u003eThese should probably be used sparingly, but there might be a few use cases:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eProjects could ensure that all styles for a given layer are required to be located in a single place.\u003c/li\u003e\n\u003cli\u003eThird-party tools could “hide” their internal layering inside anonymous layers so that they don’t become part of the tool’s public API.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"reverting-values-to-the-previous-layer\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-reverting-values-to-the-previous-layer\"\u003e\u003c/a\u003eReverting values to the previous layer\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#reverting-values-to-the-previous-layer\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eThere are several ways that we can use to “revert” a style in the cascade to a previous value, defined by a lower priority origin or layer. That includes a number of existing global CSS values, and a new \u003ccode\u003erevert-layer\u003c/code\u003e keyword that will also be global (works on any property).\u003c/p\u003e\n\u003ch5 id=\"context-existing-global-cascade-keywords\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-context-existing-global-cascade-keywords\"\u003e\u003c/a\u003eContext: Existing global cascade keywords*\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#context-existing-global-cascade-keywords\"\u003e\u003c/a\u003e\u003c/h5\u003e\n\u003cp\u003eCSS has several \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/all#values\"\u003eglobal keywords\u003c/a\u003e which can be used on any property to help roll-back the cascade in various ways.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e**initial**\u003c/code\u003e sets a property to the \u003cem\u003especified\u003c/em\u003e value before any styles (including browser defaults) are applied. This can be surprising as we often think of browser styles as the initial value — but, for example, the \u003ccode\u003einitial\u003c/code\u003e value of \u003ccode\u003edisplay\u003c/code\u003e is \u003ccode\u003einline\u003c/code\u003e, no matter what element we use it on.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e**inherit**\u003c/code\u003e sets the property to apply a value from its parent element. This is the default for inherited properties, but can still be used to remove a previous value.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e**unset**\u003c/code\u003e acts as though simply removing all previous values — so that inherited properties once again \u003ccode\u003einherit\u003c/code\u003e, while non-inherited properties return to their \u003ccode\u003einitial\u003c/code\u003e value.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e**revert**\u003c/code\u003e only removes values that we’ve applied in the author origin (i.e. the site styles). This is what we want in most cases, since it allows the browser and user styles to remain intact.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch5 id=\"new-the-revert-layer-keyword\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-new-the-revert-layer-keyword\"\u003e\u003c/a\u003eNew: the \u003ccode\u003erevert-layer\u003c/code\u003e keyword\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#new-the-revert-layer-keyword\"\u003e\u003c/a\u003e\u003c/h5\u003e\n\u003cp\u003eCascade layers add a new global \u003ccode\u003erevert-layer\u003c/code\u003e keyword. It works the same as \u003ccode\u003erevert\u003c/code\u003e, but only removes values that we’ve applied in the current cascade layer. We can use that to roll back the cascade, and use whatever value was defined in the previous layers.\u003c/p\u003e\n\u003cp\u003eIn this example, the \u003ccode\u003eno-theme\u003c/code\u003e class removes any values set in the \u003ccode\u003etheme\u003c/code\u003e layer.\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e default\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003emaroon\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e theme\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ea\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token variable\"\u003e--brand-primary\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token color\"\u003epurple\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token class\"\u003e.no-theme\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e revert-layer\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSo a link tag with the \u003ccode\u003e.no-theme\u003c/code\u003e class will roll back to use the value set in the \u003ccode\u003edefault\u003c/code\u003e layer. When \u003ccode\u003erevert-layer\u003c/code\u003e is used in un-layered styles, it behaves the same as \u003ccode\u003erevert\u003c/code\u003e — rolling back to the previous origin.\u003c/p\u003e\n\u003ch5 id=\"reverting-important-layers\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-reverting-important-layers\"\u003e\u003c/a\u003eReverting important layers\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#reverting-important-layers\"\u003e\u003c/a\u003e\u003c/h5\u003e\n\u003cp\u003eThings get interesting if we add \u003ccode\u003e!important\u003c/code\u003e to the \u003ccode\u003erevert-layer\u003c/code\u003e keyword. Because each layer has two distinct “normal” and “important” \u003ca href=\"https://css.oddbird.net/layers/guide/#important-layers\"\u003epositions in the cascade\u003c/a\u003e, this doesn’t simply change the priority of the declaration — it changes what layers are reverted.\u003c/p\u003e\n\u003cp\u003eLet’s assume we have three layers defined, in a layer stack that looks like this:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eutilities (most powerful)\u003c/li\u003e\n\u003cli\u003ecomponents\u003c/li\u003e\n\u003cli\u003edefaults (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eWe can flesh that out to include not just normal and important positions of each layer, but also un-layered styles, and animations:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e defaults (most powerful)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e components\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e utilities\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e!important\u003c/code\u003e un-layered styles\u003c/li\u003e\n\u003cli\u003eCSS animations\u003c/li\u003e\n\u003cli\u003enormal un-layered styles\u003c/li\u003e\n\u003cli\u003enormal utilities\u003c/li\u003e\n\u003cli\u003enormal components\u003c/li\u003e\n\u003cli\u003enormal defaults (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eNow, when we use \u003ccode\u003erevert-layer\u003c/code\u003e in a normal layer (let’s use \u003ccode\u003eutilities\u003c/code\u003e) the result is fairly direct. We revert \u003cem\u003eonly that layer\u003c/em\u003e, while everything else applies normally:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e✅ \u003ccode\u003e!important\u003c/code\u003e defaults (most powerful)\u003c/li\u003e\n\u003cli\u003e✅ \u003ccode\u003e!important\u003c/code\u003e components\u003c/li\u003e\n\u003cli\u003e✅ \u003ccode\u003e!important\u003c/code\u003e utilities\u003c/li\u003e\n\u003cli\u003e✅ \u003ccode\u003e!important\u003c/code\u003e un-layered styles\u003c/li\u003e\n\u003cli\u003e✅ CSS animations\u003c/li\u003e\n\u003cli\u003e✅ normal un-layered styles\u003c/li\u003e\n\u003cli\u003e❌ normal utilities\u003c/li\u003e\n\u003cli\u003e✅ normal components\u003c/li\u003e\n\u003cli\u003e✅ normal defaults (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eBut when we move that \u003ccode\u003erevert-layer\u003c/code\u003e into the important position, we revert both the normal and important versions \u003cem\u003ealong with everything in-between\u003c/em\u003e:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e✅ \u003ccode\u003e!important\u003c/code\u003e defaults (most powerful)\u003c/li\u003e\n\u003cli\u003e✅ \u003ccode\u003e!important\u003c/code\u003e components\u003c/li\u003e\n\u003cli\u003e❌ \u003ccode\u003e!important\u003c/code\u003e utilities\u003c/li\u003e\n\u003cli\u003e❌ \u003ccode\u003e!important\u003c/code\u003e un-layered styles\u003c/li\u003e\n\u003cli\u003e❌ CSS animations\u003c/li\u003e\n\u003cli\u003e❌ normal un-layered styles\u003c/li\u003e\n\u003cli\u003e❌ normal utilities\u003c/li\u003e\n\u003cli\u003e✅ normal components\u003c/li\u003e\n\u003cli\u003e✅ normal defaults (least powerful)\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"use-cases-when-would-i-want-to-use-cascade-layers\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-use-cases-when-would-i-want-to-use-cascade-layers\"\u003e\u003c/a\u003eUse cases: When would I want to use cascade layers?\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#use-cases-when-would-i-want-to-use-cascade-layers\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSo what sort of situations might we find ourselves using cascade layers? Here are several examples of when cascade layers make a lot of sense, as well as others where they \u003cem\u003edo not\u003c/em\u003e make a lot sense.\u003c/p\u003e\n\u003ch4 id=\"less-intrusive-resets-and-defaults\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-less-intrusive-resets-and-defaults\"\u003e\u003c/a\u003eLess intrusive resets and defaults\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#less-intrusive-resets-and-defaults\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eOne of the clearest initial use cases would be to make low-priority defaults that are easy to override.\u003c/p\u003e\n\u003cp\u003eSome resets have been doing this already by applying the \u003ccode\u003e:where()\u003c/code\u003e pseudo-class around each selector. \u003ccode\u003e:where()\u003c/code\u003e removes all specificity from the selectors it is applied to, which has the basic impact desired, but also some downsides:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eIt has to be applied to each selector individually\u003c/li\u003e\n\u003cli\u003eConflicts inside the reset have to be resolved without specificity\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eLayers allow us to more simply wrap the entire reset stylesheet, either using the block \u003ccode\u003e@layer\u003c/code\u003e rule:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* reset.css */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e reset\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* all reset styles in here */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOr when you import the reset:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* reset.css */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ereset.css\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ereset\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOr both! Layers can be nested without changing their priority. This way, you can use a third-party reset, and ensure it gets added to the layer you want whether or not the reset stylesheet itself is written using layers internally.\u003c/p\u003e\n\u003cp\u003eSince layered styles have a lower priority than default “un-layered” styles, this is a good way to start using cascade layers without re-writing your entire CSS codebase.\u003c/p\u003e\n\u003cp\u003eThe reset selectors still have specificity information to help resolve internal conflicts, without wrapping each individual selector — but you also get the desired outcome of a reset stylesheet that is easy to override.\u003c/p\u003e\n\u003ch4 id=\"managing-a-complex-css-architecture\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-managing-a-complex-css-architecture\"\u003e\u003c/a\u003eManaging a complex CSS architecture\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#managing-a-complex-css-architecture\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eAs projects become larger and more complex, it can be useful to define clearer boundaries for naming and organizing CSS code. But the more CSS we have, the more potential we have for conflicts — especially from different parts of a system like a “theme” or a “component library” or a set of “utility classes.”\u003c/p\u003e\n\u003cp\u003eNot only do we want these organized by function, but it can also be useful to organize them based on what parts of the system take priority in the case of a conflict. \u003ca href=\"https://csswizardry.com/2018/11/itcss-and-skillshare/\"\u003eHarry Robert’s Inverted Triangle CSS\u003c/a\u003e does a good job visualizing what those layers might contain.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://paper-attachments.dropbox.com/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644605716738_itcss-layers2.svg\"\u003eitcss-layers2\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eIn fact, the initial pitch for adding layers to the CSS cascade used the ITCSS methodology as a primary example, and a guide for developing the feature.\u003c/p\u003e\n\u003cp\u003eThere is no particular technique required for this, but it’s likely helpful to restrict projects to a pre-defined set of top-level layers and then extend that set with nested layers as appropriate.\u003c/p\u003e\n\u003cp\u003eFor example:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003elow level reset\u003c/strong\u003e and normalization styles\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eelement defaults\u003c/strong\u003e, for basic typography and legibility\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ethemes\u003c/strong\u003e, like light and dark modes\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ere-usable patterns\u003c/strong\u003e that might appear across multiple components\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003elayouts\u003c/strong\u003e and larger page structures\u003c/li\u003e\n\u003cli\u003eindividual \u003cstrong\u003ecomponents\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eoverrides\u003c/strong\u003e and \u003cstrong\u003eutilities\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eWe can create that top-level layer stack at the very start of our CSS, with a single layer statement:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e reset\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  default\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  themes\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  patterns\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  layouts\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  components\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  utilities\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe exact layers needed, and how you name those layers, might change from one project to the next.\u003c/p\u003e\n\u003cp\u003eFrom there, we create even more detailed layer breakdowns. Maybe our components themselves have defaults, structures, themes, and utilities internally.\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e components\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e defaults\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e structures\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e themes\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e utilities\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWithout changing the top-level structure, we now have a way to further layer the styles within each component.\u003c/p\u003e\n\u003ch4 id=\"using-third-party-tools-and-frameworks\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-using-third-party-tools-and-frameworks\"\u003e\u003c/a\u003eUsing third-party tools and frameworks\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#using-third-party-tools-and-frameworks\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eIntegrating third-party CSS with a project is one of the most common places to run into cascade issues. Whether we’re using a shared reset like Normalizer or CSS Remedy, a generic design system like Material Design, a framework like Bootstrap, or a utility toolkit like Tailwind — we can’t always control the selector specificity or importance of all the CSS being used on our sites. Sometimes, this even extends to internal libraries, design systems, and tools managed elsewhere in an organization.\u003c/p\u003e\n\u003cp\u003eAs a result, we often have to structure our internal CSS around the third-party code, or escalate conflicts when they come up — with artificially high specificity or \u003ccode\u003e!important\u003c/code\u003e flags. And then we have to maintain those hacks over time, adapting to upstream changes.\u003c/p\u003e\n\u003cp\u003eCascade layers give us a way to slot third-party code into the cascade of any project exactly where we want it to live — no matter how selectors are written internally. Depending on the type of library we’re using, we might do that in various ways. Let’s start with a basic layer-stack, working our way up from resets to utilities:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e reset\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e type\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e theme\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e components\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e utilities\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd then we can incorporate some tools…\u003c/p\u003e\n\u003ch5 id=\"using-a-reset\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-using-a-reset\"\u003e\u003c/a\u003eUsing a reset\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#using-a-reset\"\u003e\u003c/a\u003e\u003c/h5\u003e\n\u003cp\u003eIf we’re using a tool like \u003ca href=\"https://css-tricks.com/css-remedy/\"\u003eCSS Remedy\u003c/a\u003e, we might also have some reset styles of our own that we want to include. Let’s import CSS Remedy into a sub-layer of \u003ccode\u003ereset\u003c/code\u003e:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"remedy.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ereset.remedy\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow we can add our own reset styles to the \u003ccode\u003ereset\u003c/code\u003e layer, without any further nesting (unless we want it). Since styles directly in \u003ccode\u003ereset\u003c/code\u003e will override any further nested styles, we can be sure our styles will always take priority over CSS Remedy if there’s a conflict — no matter what changes in a new release:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"remedy.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ereset.remedy\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e reset\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token pseudo-class\"\u003e:is\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eol\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ul\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token attribute\"\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003erole\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\"list\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003elist-style\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e none\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003epadding-inline-start\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd since the \u003ccode\u003ereset\u003c/code\u003e layer is at the bottom of the stack, the rest of the CSS in our system will override both Remedy, and our own local reset additions.\u003c/p\u003e\n\u003ch5 id=\"using-utility-classes\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-using-utility-classes\"\u003e\u003c/a\u003eUsing utility classes\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#using-utility-classes\"\u003e\u003c/a\u003e\u003c/h5\u003e\n\u003cp\u003eAt the other end of our stack, “utility classes” in CSS can be a useful way to reproduce common patterns (like additional context for screen readers) in a broadly-applicable way. Utilities tend to break the specificity heuristic, since we want them defined broadly (resulting in a low specificity), but we also generally want them to “win” conflicts.\u003c/p\u003e\n\u003cp\u003eBy having a \u003ccode\u003eutilities\u003c/code\u003e layer at the top of our layer stack, we can make that possible. We can use that in a similar way to the reset example, both loading external utilities into a sub-layer, and providing our own:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"tailwind.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eutilities.tailwind\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e utilities\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* from https://kittygiraudel.com/snippets/sr-only-class/ */\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* but with !important removed from the properties */\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token class\"\u003e.sr-only\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003eborder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003eclip\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003erect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token unit\"\u003epx\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token unit\"\u003epx\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token unit\"\u003epx\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token unit\"\u003epx\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e-webkit-clip-path\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003einset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e50\u003c/span\u003e\u003cspan class=\"token unit\"\u003e%\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003eclip-path\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003einset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e50\u003c/span\u003e\u003cspan class=\"token unit\"\u003e%\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003eheight\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token unit\"\u003epx\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003eoverflow\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e hidden\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003emargin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e-1\u003c/span\u003e\u003cspan class=\"token unit\"\u003epx\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003epadding\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003eposition\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e absolute\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token unit\"\u003epx\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ewhite-space\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e nowrap\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch5 id=\"using-design-systems-and-component-libraries\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-using-design-systems-and-component-libraries\"\u003e\u003c/a\u003eUsing design systems and component libraries\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#using-design-systems-and-component-libraries\"\u003e\u003c/a\u003e\u003c/h5\u003e\n\u003cp\u003eThere are a lot of CSS tools that fall somewhere in the middle of our layer stack — combining typography defaults, themes, components, and other aspects of a system.\u003c/p\u003e\n\u003cp\u003eDepending on the particular tool, we might do something similar to the reset and utility examples above — but there are a few other options. A highly integrated tool might deserve a top-level layer:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e reset\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e bootstrap\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e utilities\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"bootstrap.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ebootstrap\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf these tools start to provide layers as part of their public API, we could also break it down into parts — allowing us to intersperse our code with the library:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"bootstrap/reset.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ereset.bootstrap\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"bootstrap/theme.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etheme.bootstrap\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"bootstrap/components.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecomponents.bootstrap\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e theme.local\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* styles here will override theme.bootstrap */\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* but not interfere with styles from components.bootstrap */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"using-layers-with-existing-un-layered-important-filled-frameworks\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-using-layers-with-existing-un-layered-important-filled-frameworks\"\u003e\u003c/a\u003eUsing layers with existing (un-layered, !important-filled) frameworks\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#using-layers-with-existing-un-layered-important-filled-frameworks\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eAs with any major language change, there’s going to be an adjustment period when CSS Cascade Layers become widely adopted. What happens if your team is ready to start using layers next month, but your favorite framework decides to wait another three years before they switch over to layered styles? Many frameworks will likely still use \u003ccode\u003e!important\u003c/code\u003e more often than we’d like! With \u003ccode\u003e!important\u003c/code\u003e layers reversed, that’s not ideal.\u003c/p\u003e\n\u003cp\u003eStill, layers can still help us solve the problem. We just have to get clever about it. We decide what layers we want for our project, and that means we can add layers above \u003cem\u003eand\u003c/em\u003e also below the framework layers we create.\u003c/p\u003e\n\u003cp\u003eFor now, though, we can use a lower layer to override \u003ccode\u003e!important\u003c/code\u003e styles from the framework, and a higher layer to override normal styles. Something like this:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e framework.important\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e framework.bootstrap\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e framework.local\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"bootstrap.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eframework.bootstrap\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e framework.local\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* most of our normal framework overrides can live here */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e framework.important\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* add !important styles in a lower layer */\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* to override any !important framework styles */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIt still feels like a bit of a hack, but it helps move us in the right direction — towards a more structured cascade. Hopefully it’s a temporary fix.\u003c/p\u003e\n\u003ch4 id=\"designing-a-css-tool-or-framework\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-designing-a-css-tool-or-framework\"\u003e\u003c/a\u003eDesigning a CSS tool or framework\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#designing-a-css-tool-or-framework\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eFor anyone maintaining a CSS library, cascade layers can help with internal organization, and even become part of the developer API. By naming internal layers of a library, we can allow users of our framework to hook into those layers when customizing or overriding our provided styles.\u003c/p\u003e\n\u003cp\u003eFor example, Bootstrap could expose layers for their “reboot,” “grid,” and “utilities” — likely stacked in that order. Now a user can decide if they want to load those Bootstrap layers into different local layers:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ebootstrap/reboot.css\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ereset\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token comment\"\u003e/* reboot » reset.reboot */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ebootstrap/grid.css\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elayout\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token comment\"\u003e/* grid » layout.grid */\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ebootstrap/utils.css\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eoverride\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token comment\"\u003e/* utils » override.utils */\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOr the user might load them into a Bootstrap layer, with local layers interspersed:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e bs.reboot\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e bs.grid\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e bs.grid-overrides\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e bs.utils\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e bs.util-overrides\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@import\u003c/span\u003e \u003cspan class=\"token url\"\u003e\u003cspan class=\"token function\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string url\"\u003e\"bootstrap-all.css\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elayer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ebs\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIt’s also possible to hide internal layering from users, when desired, by grouping any private/internal layers inside an anonymous (un-named) layer. Anonymous layers will get added to the layer order where they are encountered, but will not be exposed to users re-arranging or appending styles.\u003c/p\u003e\n\u003ch4 id=\"i-just-want-this-one-property-to-be-more-important\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-i-just-want-this-one-property-to-be-more-important\"\u003e\u003c/a\u003eI just want this one property to be more \u003ccode\u003e!important\u003c/code\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#i-just-want-this-one-property-to-be-more-important\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eCounter to some expectations, layers don’t make it easy to quickly escalate a particular style so that it overrides another.\u003c/p\u003e\n\u003cp\u003eIf the majority of our styles are un-layered, then any new layer will be \u003cem\u003ede-prioritized\u003c/em\u003e in relation to the default. We could do that to individual style blocks, but it would quickly become difficult to track.\u003c/p\u003e\n\u003cp\u003eLayers are intended to be more foundational, not style-by-style, but establishing consistent patterns across a project. Ideally, if we’ve set that up right, we get the correct result by moving our style to the appropriate (and pre-defined) layer.\u003c/p\u003e\n\u003cp\u003eIf the majority of our styles already fall into well-defined layers, we can always consider adding a new highest-power layer at the top of a given stack, or using un-layered styles to override the layers. We might even consider having a \u003ccode\u003edebug\u003c/code\u003e layer at the top of the stack, for doing exploratory work outside of production.\u003c/p\u003e\n\u003cp\u003eBut adding new layers on-the-fly can defeat the organizational utility of this feature, and should be used carefully. It’s best to ask: \u003cem\u003eWhy should this style override the other?\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eIf the answer has to do with one \u003cem\u003etype of style\u003c/em\u003e always overriding another type, layers are probably the right solution. That might be because we’re overriding styles that come from a place we don’t control, or because we’re writing a utility, and it should move into our \u003ccode\u003eutilities\u003c/code\u003e layer. If the answer has to do with more targeted styles overriding less targeted styles, we might consider making the selectors reflect that specificity.\u003c/p\u003e\n\u003cp\u003eOr, on rare occasions, we might even have styles that really are \u003cem\u003eimportant\u003c/em\u003e — the feature simply doesn’t work if you override this particular style. We might say adding \u003ccode\u003edisplay: none\u003c/code\u003e to the \u003ccode\u003e[hidden]\u003c/code\u003e attribute belongs in our lowest-priority reset, but should still be hard to override. In that case, \u003ccode\u003e!important\u003c/code\u003e really is the right tool for the job:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e reset\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token attribute\"\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003ehidden\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003edisplay\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e none \u003cspan class=\"token important\"\u003e!important\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"scoping-and-name-spacing-styles-nope\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-scoping-and-name-spacing-styles-nope\"\u003e\u003c/a\u003eScoping and name-spacing styles? Nope!\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#scoping-and-name-spacing-styles-nope\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eCascade layers are clearly an organizational tool, and one that ‘captures’ the impact of selectors, especially when they conflict. So it can be tempting at first glance to see them as a solution for managing scope or name-spacing.\u003c/p\u003e\n\u003cp\u003eA common first-instinct is to create a layer for each component in a project — hoping that will ensure (for example) that \u003ccode\u003e.post-title\u003c/code\u003e is only applied inside a \u003ccode\u003e.post\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eBut cascade conflicts are not the same as naming conflicts, and layers aren’t particularly well designed for this type of scoped organization. Cascade layers don’t constrain how selectors match or apply to the HTML, only how they cascade together. So unless we can be sure that component X \u003cem\u003ealways\u003c/em\u003e override component Y, individual component layers won’t help much. Instead, we’ll need to keep an eye on the \u003ca href=\"https://www.w3.org/TR/css-cascade-6/\"\u003eproposed \u003ccode\u003e@scope\u003c/code\u003e spec\u003c/a\u003e that is being developed.\u003c/p\u003e\n\u003cp\u003eIt can be useful to think of layers and component-scopes instead as overlapping concerns:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/layers-scope-01.png?resize=1024%2C711\u0026#x26;ssl=1\"\u003eAn illustration showing how CSS Cascade Layers can be organized by scope, such as buttons, cards, and login layers that fall into component, theme, and default scopes.\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eScopes describe \u003cem\u003ewhat\u003c/em\u003e we are styling, while layers describe \u003cem\u003ewhy\u003c/em\u003e we are styling. We can also think of layers as representing \u003cem\u003ewhere the style comes from\u003c/em\u003e, while scopes represent \u003cem\u003ewhat the style will attach to\u003c/em\u003e.\u003c/p\u003e\n\u003ch3 id=\"test-your-knowledge-which-style-wins\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-test-your-knowledge-which-style-wins\"\u003e\u003c/a\u003eTest your knowledge: Which style wins?\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#test-your-knowledge-which-style-wins\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eFor each situation, assume this paragraph:\u003c/p\u003e\n\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eid\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eintro\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003eHello, World!\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"question-1\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-question-1\"\u003e\u003c/a\u003eQuestion 1\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#question-1\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e ultra-high-priority\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token id\"\u003e#intro\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003ered\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token selector\"\u003ep\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003egreen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWhat color is the paragraph?\u003c/p\u003e\n\u003cp\u003eDespite the layer having a name that \u003cem\u003esounds pretty important\u003c/em\u003e, un-layered styles have a higher priority in the cascade. So the paragraph will be \u003ccode\u003egreen\u003c/code\u003e.\u003c/p\u003e\n\u003ch4 id=\"question-2\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-question-2\"\u003e\u003c/a\u003eQuestion 2\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#question-2\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e ren\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e stimpy\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e ren\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ep\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003ered\u003c/span\u003e \u003cspan class=\"token important\"\u003e!important\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token selector\"\u003ep\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003egreen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e stimpy\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ep\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eblue\u003c/span\u003e \u003cspan class=\"token important\"\u003e!important\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWhat color is the paragraph?\u003c/p\u003e\n\u003cp\u003eOur normal layer order is established at the start — \u003ccode\u003eren\u003c/code\u003e at the bottom, then \u003ccode\u003estimpy\u003c/code\u003e, then (as always) un-layered styles at the top. But these styles aren’t all \u003ccode\u003enormal\u003c/code\u003e, some of them are important. Right away, we can filter down to just the \u003ccode\u003e!important\u003c/code\u003e styles, and ignore the unimportant \u003ccode\u003egreen\u003c/code\u003e. Remember that ‘origins and importance’ are the first step of the cascade, before we even take layering into account.\u003c/p\u003e\n\u003cp\u003eThat leaves us with two important styles, both in layers. Since our important layers are reversed, \u003ccode\u003eren\u003c/code\u003e moves to the top, and \u003ccode\u003estimpy\u003c/code\u003e to the bottom. The paragraph will be \u003ccode\u003ered\u003c/code\u003e.\u003c/p\u003e\n\u003ch4 id=\"question-3\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-question-3\"\u003e\u003c/a\u003eQuestion 3\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#question-3\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e Montagues\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e Capulets\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e Verona\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e Montagues.Romeo\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token id\"\u003e#intro\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003ered\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e Montagues.Benvolio\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ep\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eorange\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e Capulets.Juliet\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003ep\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eyellow\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e Verona\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e*\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003eblue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@layer\u003c/span\u003e Capulets.Tybalt\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003e\u003cspan class=\"token id\"\u003e#intro\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ecolor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token color\"\u003egreen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWhat color is the paragraph?\u003c/p\u003e\n\u003cp\u003eAll our styles are in the same origin and context, none are marked as important, and none of them are inline styles. We do have a broad range of selectors here, from a highly specific ID \u003ccode\u003e#intro\u003c/code\u003e to a zero specificity universal \u003ccode\u003e*\u003c/code\u003e selector. But layers are resolved before we take specificity into account, so we can ignore the selectors for now.\u003c/p\u003e\n\u003cp\u003eThe primary layer order is established up front, and then sub-layers are added internally. But sub-layers are sorted along with their parent layer — meaning all the \u003ccode\u003eMontagues\u003c/code\u003e will have lowest priority, followed by all the \u003ccode\u003eCapulets\u003c/code\u003e, and then \u003ccode\u003eVerona\u003c/code\u003e has final say in the layer order. So we can immediately filter down to just the \u003ccode\u003eVerona\u003c/code\u003e styles, which take precedence. Even though the \u003ccode\u003e*\u003c/code\u003e selector has zero specificity, it will win.\u003c/p\u003e\n\u003cp\u003eBe careful about putting universal selectors in powerful layers!\u003c/p\u003e\n\u003ch3 id=\"debugging-layer-conflicts-in-browser-developer-tools\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-debugging-layer-conflicts-in-browser-developer-tools\"\u003e\u003c/a\u003eDebugging layer conflicts in browser developer tools\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#debugging-layer-conflicts-in-browser-developer-tools\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eChrome, Safari, Firefox, and Edge browsers all have developer tools that allow you to inspect the styles being applied to a given element on the page. The styles panel of this element inspector will show applied selectors, sorted by their cascade priority (highest priority at the top), and then inherited styles below. Styles that are not being applied for any reason will generally be grayed out, or even crossed out — sometimes with additional information about \u003cem\u003ewhy\u003c/em\u003e the style is not applied. This is the first place to look when debugging any aspect of the cascade, including layer conflicts.\u003c/p\u003e\n\u003cp\u003eSafari Technology Preview and Firefox Nightly already show (and sort) cascade layers in this panel. This tooling is expected to role out in the stable versions at the same time as cascade layers. The layer of each selector is listed directly above the selector itself:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1040%2C770\u0026#x26;ssl=1\"\u003eShowing CSS Cascade Layers in Safari DevTools.\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1338%2C608\u0026#x26;ssl=1\"\u003eShowing CSS Cascade Layers in FireFox DevTools.\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eChrome/Edge are working on similar tools and expect to have them available in Canary (nightly) releases by the time cascade layers land in the stable release. We’ll make updates here as those tools change and improve.\u003c/p\u003e\n\u003ch3 id=\"browser-support-and-fallbacks\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-browser-support-and-fallbacks\"\u003e\u003c/a\u003eBrowser support and fallbacks\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#browser-support-and-fallbacks\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThis browser support data is from \u003ca href=\"http://caniuse.com/#feat=css-cascade-layers\"\u003eCaniuse\u003c/a\u003e, which has more detail. A number indicates that browser supports the feature at that version and up.\u003c/p\u003e\n\u003ch4 id=\"desktop\"\u003eDesktop\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#desktop\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cdiv class=\"table-responsive\"\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003eChrome\u003c/th\u003e\u003cth\u003eFirefox\u003c/th\u003e\u003cth\u003eIE\u003c/th\u003e\u003cth\u003eEdge\u003c/th\u003e\u003cth\u003eSafari\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003e99\u003c/td\u003e\u003ctd\u003e97\u003c/td\u003e\u003ctd\u003eNo\u003c/td\u003e\u003ctd\u003e99\u003c/td\u003e\u003ctd\u003e15.4\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/div\u003e\n\u003ch4 id=\"mobile--tablet\"\u003eMobile / Tablet\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#mobile--tablet\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cdiv class=\"table-responsive\"\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003eAndroid Chrome\u003c/th\u003e\u003cth\u003eAndroid Firefox\u003c/th\u003e\u003cth\u003eAndroid\u003c/th\u003e\u003cth\u003eiOS Safari\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003e114\u003c/td\u003e\u003ctd\u003e113\u003c/td\u003e\u003ctd\u003e114\u003c/td\u003e\u003ctd\u003e15.4\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/div\u003e\n\u003cp\u003eSince layers are intended as foundational building blocks of an entire CSS architecture, it is difficult to imagine building manual fallbacks in the same way you might for other CSS features. The fallbacks would likely involve duplicating large sections of code, with different selectors to manage cascade layering — or providing a much simpler fallback stylesheet.\u003c/p\u003e\n\u003ch4 id=\"query-feature-support-using-supports\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-query-feature-support-using-supports\"\u003e\u003c/a\u003eQuery feature support using \u003ccode\u003e@supports\u003c/code\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#query-feature-support-using-supports\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eThere is a \u003ca href=\"https://css-tricks.com/how-supports-works/\"\u003e\u003ccode\u003e@supports\u003c/code\u003e feature in CSS\u003c/a\u003e that will allow authors to test for support of \u003ccode\u003e@layer\u003c/code\u003e and other at-rules:\u003c/p\u003e\n\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@supports\u003c/span\u003e \u003cspan class=\"token function\"\u003eat-rule\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e@layer\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* code applied for browsers with layer support */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@supports\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enot\u003c/span\u003e \u003cspan class=\"token function\"\u003eat-rule\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e@layer\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* fallback applied for browsers without layer support */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHowever, it’s also not clear when this query itself will be supported in browsers.\u003c/p\u003e\n\u003ch4 id=\"assigning-layers-in-html-with-the-link-tag\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-assigning-layers-in-html-with-the-link-tag\"\u003e\u003c/a\u003eAssigning layers in HTML with the \u003ccode\u003e\u0026#x3C;link\u003e\u003c/code\u003e tag\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#assigning-layers-in-html-with-the-link-tag\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eThere is no official specification yet for a syntax to layer entire stylesheets from the html \u003ccode\u003e\u0026#x3C;link\u003e\u003c/code\u003e tag, but there is a \u003ca href=\"https://github.com/whatwg/html/issues/7540\"\u003eproposal being developed\u003c/a\u003e. That proposal includes a new \u003ccode\u003elayer\u003c/code\u003e attribute which can be used to assign the styles to a named or anonymous layer:\u003c/p\u003e\n\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- styles imported into to the \u0026#x3C;layer-name\u003e layer --\u003e\u003c/span\u003e\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003elink\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003erel\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003estylesheet\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ehref\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eexample.css\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003elayer\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u0026#x3C;layer-name\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e\u0026#x3C;!-- styles imported into to a new anonymous layer --\u003e\u003c/span\u003e\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003elink\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003erel\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003estylesheet\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ehref\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eexample.css\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003elayer\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHowever, old browsers without support for the \u003ccode\u003elayer\u003c/code\u003e attribute will ignore it completely, and continue to load the stylesheet without any layering. The results could be pretty unexpected. So the proposal also extends the existing \u003ccode\u003emedia\u003c/code\u003e attribute, so that it allows feature support queries in a \u003ccode\u003esupport()\u003c/code\u003e function.\u003c/p\u003e\n\u003cp\u003eThat would allow us to make layered links conditional, based on support for layering:\u003c/p\u003e\n\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003elink\u003c/span\u003e\n  \u003cspan class=\"token attr-name\"\u003erel\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003estylesheet\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token attr-name\"\u003elayer\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ebootstrap\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token attr-name\"\u003emedia\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003esupports(at-rule(@layer))\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token attr-name\"\u003ehref\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ebootstrap.css\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4 id=\"potential-polyfills-and-workarounds\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-potential-polyfills-and-workarounds\"\u003e\u003c/a\u003ePotential polyfills and workarounds\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#potential-polyfills-and-workarounds\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eThe major browsers have all moved to an \u003ca href=\"https://css-tricks.com/evergreen-does-not-mean-immediately-available/\"\u003e“evergreen” model\u003c/a\u003e with updates pushed to users on a fairly short release cycle. Even Safari regularly releases new features in “patch” updates between their more rare-seeming major versions.\u003c/p\u003e\n\u003cp\u003eThat means we can expect browser support for these features to ramp up very quickly. For many of us, it may be reasonable to start using layers in only a few months, without much concern for old browsers.\u003c/p\u003e\n\u003cp\u003eFor others, it may take longer to feel comfortable with the native browser support. There are many other ways to \u003ca href=\"https://css-tricks.com/dont-fight-the-cascade-control-it/\"\u003emanage the cascade\u003c/a\u003e, using selectors, \u003ca href=\"https://css-tricks.com/using-custom-property-stacks-to-tame-the-cascade/\"\u003ecustom properties\u003c/a\u003e, and other tools. It’s also theoretically possible to mimic (or polyfill) the basic behavior. There are people working on that polyfill, but it’s not clear when that will be ready either.\u003c/p\u003e\n\u003ch3 id=\"more-resources\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-more-resources\"\u003e\u003c/a\u003eMore resources\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#more-resources\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eCSS Cascade Layers is still evolving but there is already a lot of resources, including documentation, articles, videos, and demos to help you get even more familiar with layers and how they work.\u003c/p\u003e\n\u003ch4 id=\"reference\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-reference\"\u003e\u003c/a\u003eReference\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#reference\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.w3.org/TR/css-cascade-5/#layering\"\u003eCascading \u0026#x26; Inheritance Level 5 Specification\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/@layer\"\u003eMDN Documentation\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"articles\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-articles\"\u003e\u003c/a\u003eArticles\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#articles\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.bram.us/2021/09/15/the-future-of-css-cascade-layers-css-at-layer/\"\u003eThe Future of CSS: Cascade Layers (CSS \u003ccode\u003e@layer\u003c/code\u003e)\u003c/a\u003e by Bramus Van Damme\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.smashingmagazine.com/2022/01/introduction-css-cascade-layers/\"\u003eGetting Started With CSS Cascade Layers\u003c/a\u003e by Stephanie Eckles, \u003cem\u003eSmashing Magazine\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.chrome.com/blog/cascade-layers/\"\u003eCascade layers are coming to your browser\u003c/a\u003e by Una Kravets, \u003cem\u003eChrome Developers\u003c/em\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"videos\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-videos\"\u003e\u003c/a\u003eVideos\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#videos\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://youtu.be/dS123IXPcJ0\"\u003eHow does CSS !important actually work?\u003c/a\u003e by Una Kravets\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://youtu.be/ilrPpSQJb3U\"\u003eAn overview of the new @layer and layer() CSS primitives\u003c/a\u003e by Una Kravets\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.youtube.com/watch?v=2wSckPwaC_A\"\u003eCSS Revert \u0026#x26; Revert-Layer Keywords\u003c/a\u003e by Una Kravets\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"demos\"\u003e\u003ca href=\"https://css-tricks.com/css-cascade-layers/#aa-demos\"\u003e\u003c/a\u003eDemos\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#demos\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://codepen.io/collection/BNjmma\"\u003eLayers CodePen collection\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"Iy0MoL0KnL55Br3AfTS2C","title":"Luke","desc":"","updated":1766965759366,"created":1644449449778,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"a724de3efd251cf89fe82a5860d9008b","links":[{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"life-tips","position":{"start":{"line":43,"column":5,"offset":2710},"end":{"line":43,"column":29,"offset":2734},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"life-tips","anchorHeader":"wodenokoto"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2026.articles","alias":"What I read in 2026","position":{"start":{"line":72,"column":3,"offset":4440},"end":{"line":72,"column":45,"offset":4482},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2026.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2025.articles","alias":"2025","position":{"start":{"line":73,"column":5,"offset":4487},"end":{"line":73,"column":32,"offset":4514},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2025.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2024.articles","alias":"2024","position":{"start":{"line":74,"column":5,"offset":4519},"end":{"line":74,"column":32,"offset":4546},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2024.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2023.articles","alias":"2023","position":{"start":{"line":75,"column":5,"offset":4551},"end":{"line":75,"column":32,"offset":4578},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2023.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2022.articles","alias":"2022","position":{"start":{"line":76,"column":5,"offset":4583},"end":{"line":76,"column":32,"offset":4610},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2022.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-struggled-brag-in","position":{"start":{"line":82,"column":3,"offset":4746},"end":{"line":82,"column":39,"offset":4782},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-struggled-brag-in"}}],"anchors":{"what-i-read-in-past":{"type":"header","text":"What I read in past","value":"what-i-read-in-past","line":76,"column":0,"depth":2}},"children":["zd4mq442jike0pr0wba1u3m","6hzeqsofq67gdk88flxlkhp","778ijii93yu5uwnrwmn5zi4","g1fngdjl25nes6fs3lip602","ZbdkdApFqLdks4Moq92R9","uoc5hhki3o4py15cesddu8q","9qf7j06jtdkm6rnx9ymvwb0","5zn10cvj7ajy2gh2is5nqmg","4qo9ma0z0yu1czns6pxl7y5","ok0e729ho7o09xetujkxc0m","GR5x8HnNFEN6fU2UBSEIK","yirtnlj8q24yutcf3ss1xqy","eq0wc6t7wl2wv221yb68ro4","7x2fnv4j6gxts08qk0jguny","ettkt3iClONnxpbGwBVLl","7l4knev6v613tbuoskvmbdg","hvh5bud6yp7dc89tuh95tr9","4fvoqrplw0cweo554usbjos","f8qsfql0a9v8thpeo82udfa","1swsbrhqi9jk41v9eodyi5q","SQqYupi6EFddTerBA8RRD","hjNeNc1F2JUh0lTWanH4h","qf0l4wbrc9jgooyzexmbq5v","o7xruzrah5wzqetottecss7","z1zo2mp6ddji5p317i4x9xw","v06c2tjelh341x4resa50fh","0yqesk4rcffwgyuab5x8rfa","sy2vkbtyu671chkvgn1yt8j","ufixpmxoydiccoh59kphrib","alswadkx4wb05y1z9iwfzfv","1daut9dpw70xd0zh5a7j5p4"],"parent":null,"data":{},"body":"\nHi there 👋. I'm a Front-end developer.\n\n---\n\n- 현실은 인간의 연산으로 완전히 파악할 수 없는 복잡계. 주어진 상황과 능력으로 할 수 있는 최선의 적응은 단순함과 꾸준함.\n\n  - 파산을 면하는 선에서 여러가지를 해보고 자신에게 맞는 걸 위주로 꾸준히. 그를 위해 단순, 편안, 쾌적함이 필요.\n\n- 🥱 -\u003e 🤔💡🌱 - [On The Death of Daydreaming](https://www.afterbabel.com/p/on-the-death-of-daydreaming)\n  - boredom -\u003e easy fun -\u003e art -\u003e profit?\n\n\u003e I've often described my motivation for building software to others using imagery: I like to go find a secluded beach, build a large, magnificent sand castle, and then walk away. Will anyone notice? Probably not. Will the waves eventually destroy it? Yep. Did I still get immense satisfaction? Absolutely. - [aliasxneo](https://news.ycombinator.com/item?id=41497113)\n\n\u003e We love to see the process, not just the result. The imperfections in your work can be beautiful if they show your struggle for perfection, not a lack of care. - [ralphammer](https://ralphammer.com/is-perfection-boring/)\n\n\u003e Simplicity, even if it sacrifices some ideal functionality has better survival characteristics than the-right-thing. - [The Rise of Worse is Better](https://www.dreamsongs.com/RiseOfWorseIsBetter.html)\n\n\u003e [Roberto Blake was talking about making 100 crappy videos](https://www.youtube.com/watch?v=OnUBaQ1Sp_E) to get better over time. Putting in the reps and improving a little bit each time.\n\u003e\n\u003e Putting in the work without expecting any external reward at first (eg views, followers, likes, etc) will pay off in the long run. - [100 Scrappy Things](https://www.florin-pop.com/blog/100-scrappy-things/)\n\n\u003e Make the difficult habitual, the habitual easy, and the easy beautiful. - [Constantin S. Stanislavski](https://www.goodreads.com/quotes/7102271-make-the-difficult-habitual-the-habitual-easy-and-the-easy)\n\n\u003e A good match is a **structured** dance, where players aim to **score** while they are following well-defined **rules**. This **freedom within a structure** is what makes it fun. - [ralphammer](https://ralphammer.com/how-to-get-started/)\n\n- [Pivot Points](https://longform.asmartbear.com/pivot-points/)\n\n  - non-judgmental aspects of personality that can be strengths in some contexts and weaknesses in others\n  - Pivot Points are fixed in the short term\n\n- [Hedged Bets](https://longform.asmartbear.com/predict-the-future/#hedged-bets)\n  - trading slightly less maximum upside for predictable, net-positive outcomes.\n\n\u003e “Motivation often comes after starting, not before. Action produces momentum.”\n\u003e [When you start a new habit, it should take less than two minutes to do.](https://jamesclear.com/how-to-stop-procrastinating)\n\u003e\n\u003e - James Clear\n\n\u003e Focus is more about **not** keeping busy when you need to wait for something.  \n\u003e Eat the boredom for a minute.\n\u003e\n\u003e - [[life-tips#wodenokoto]]\n\n\u003e [4 minutes run hard enough to push heart rate to 90%, 3 minutes recover, repeat 4 times](https://news.ycombinator.com/item?id=34213181)\n\u003e\n\u003e - https://www.ntnu.edu/cerg/advice\n\u003e - [Get running with Couch to 5K](https://www.nhs.uk/live-well/exercise/running-and-aerobic-exercises/get-running-with-couch-to-5k/)\n\n\u003e [recommended routine - bodyweightfitness](https://www.reddit.com/r/bodyweightfitness/wiki/kb/recommended_routine/) - I Don't Have This Much Time!\n\u003e\n\u003e - Don't workout at all (saves anywhere from 20 to 60 minutes, but really, really, really, really, really, really, really, really, really not recommended)\n\n\u003e 도무지 읽히지 않는 책 앞에서 내가 택한 방법은 펼쳐진 페이지 앞에서 멍때리기이다. 다르게 표현하면 이렇다. 펼쳐진 두 페이지 앞에서 오래 머물기.\n\u003e\n\u003e 책을 펼쳐놓는 것으로 충분하다. 읽지 못해도 좋다. 매일 정해진 진도를 나가야 하는 학교 수업이 아니니까. 하지만 읽지 않아도 괜찮다고 해서 펼쳐두지조차 않으면 곤란하다. 가능한 한 자주 책을 펼쳐두도록 하자. 전혀 읽지 않고 멍하니 바라보고 있다가 다시 덮게 되더라도\n\u003e\n\u003e - 막막한 독서. 시로군. P.10~13\n\n\u003e I think it should be everyone's primary focus to sleep well, drink water, get outside, get active, and eat generally decently. I hate to say it, but if you're not eating a good amount of vegetables and fruit, decent protein, sleep, etc, no amount of XYZ will catch up to that detriment. - [CE02](https://news.ycombinator.com/item?id=35056071)\n\n\u003e My real battle is doing good versus doing nothing. - [Deirdre Sullivan](https://www.npr.org/2005/08/08/4785079/always-go-to-the-funeral)\n\n[Kind Engineering](https://kind.engineering/) - How To Engineer Kindness\n\n\u003e Sometimes magic is just someone spending more time on something than anyone else might reasonably expect. - [Teller](https://www.goodreads.com/quotes/6641527-sometimes-magic-is-just-someone-spending-more-time-on-something)\n\n---\n\n## What I read in past\n\n- [[What I read in 2026|read.2026.articles]]\n  - [[2025|read.2025.articles]]\n  - [[2024|read.2024.articles]]\n  - [[2023|read.2023.articles]]\n  - [[2022|read.2022.articles]]\n- 📝 [Gists](https://gist.github.com/Luke-SNAW)\n- 📜 [Journals](https://luke-snaw.github.io/Luke-SNAW__netlify-CMS.github.io/)\n\n---\n\n- [[journal.what-i-struggled-brag-in]]\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":false,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.115.0","enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Luke SNAW","description":"Personal knowledge space"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","siteUrl":"https://luke-snaw.github.io/","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"lgffs982nkr0er7r5u23yxd"},"buildId":"wirstT2ztC8OQsbzKjhvw","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>