<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>Aws</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="Aws"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://luke-snaw.github.io//notes/7mujc4bw6yz1nfbf03gmqc8/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2/27/2022"/><meta property="article:modified_time" content="12/10/2024"/><link rel="canonical" href="https://luke-snaw.github.io//notes/7mujc4bw6yz1nfbf03gmqc8/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9d8e0603730b15a3.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/vOE8u-mg___OsOsz4tjEg/_buildManifest.js" defer=""></script><script src="/_next/static/vOE8u-mg___OsOsz4tjEg/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="aws">Aws<a aria-hidden="true" class="anchor-heading icon-link" href="#aws"></a></h1>
<h2 id="collections">Collections<a aria-hidden="true" class="anchor-heading icon-link" href="#collections"></a></h2>
<ul>
<li><a href="https://www.infoq.com/news/2023/05/guardian-push-architecture/">The Guardian Optimizes Mobile Push-Notification Delivery Architecture</a>
<ul>
<li><a href="https://github.com/guardian/mobile-n10n">Guardian Mobile Notifications</a></li>
</ul>
</li>
<li><a href="https://www.bitsand.cloud/posts/slashing-data-transfer-costs/">Slashing Data Transfer Costs in AWS by 99%</a>
<blockquote>
<p>AWS replicates S3 data between availability zones</p>
<ul>
<li><a href="https://news.ycombinator.com/item?id=38999902">https://news.ycombinator.com/item?id=38999902</a> - <a href="https://news.ycombinator.com/item?id=38999947">https://news.ycombinator.com/item?id=38999947</a></li>
</ul>
</blockquote>
</li>
</ul>
<h2 id="iam">IAM<a aria-hidden="true" class="anchor-heading icon-link" href="#iam"></a></h2>
<h3 id="iam에-필요한-기본-권한">IAM에 필요한 기본 권한<a aria-hidden="true" class="anchor-heading icon-link" href="#iam에-필요한-기본-권한"></a></h3>
<ul>
<li>iam:ChangePassword - 최초 로그인 후 암호변환 (필수 아닐 수 있음. 권한 없을 때 실패 로그로 권한 요청 → 권한 받고 실패 → 특수문자 넣어 성공했기 때문)</li>
<li><strong><a href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_examples_iam_mfa-selfmanage.html">IAM: IAM 사용자가 MFA 디바이스를 스스로 관리하도록 허용</a></strong></li>
<li>iam:GetLoginProfile, iam:UpdateLoginProfile - 계정 사용자가 콘솔 비밀번호 리셋을 스스로 할 수 있도록</li>
</ul>
<h2 id="misc">Misc<a aria-hidden="true" class="anchor-heading icon-link" href="#misc"></a></h2>
<h3 id="does-anyone-else-finds-aws-and-other-amazon-services-overly-complicated"><a href="https://news.ycombinator.com/item?id=33490314">Does anyone else finds AWS and other Amazon services overly complicated?</a><a aria-hidden="true" class="anchor-heading icon-link" href="#does-anyone-else-finds-aws-and-other-amazon-services-overly-complicated"></a></h3>
<ul>
<li><a href="https://news.ycombinator.com/item?id=33491010">JAMstack walk-through</a></li>
<li><a href="https://news.ycombinator.com/item?id=33491658">AWS is basically a "construct your own custom infrastructure" service and does that well.</a></li>
<li><a href="https://news.ycombinator.com/item?id=33494968">We have both tried and are unable to figure out how to tie payment info to our AWS organization.</a></li>
</ul>
<h3 id="gcp-has-a-better-serverless-offering">GCP has a better serverless offering.<a aria-hidden="true" class="anchor-heading icon-link" href="#gcp-has-a-better-serverless-offering"></a></h3>
<p>from <a href="https://news.ycombinator.com/item?id=33523507">adameasterling</a></p>
<p>I have limited time before my next meeting so I'll type real quick:
GCP Cloud Run is like the best of both worlds between AWS ECS Fargate and AWS Lambda. (Yes, the comment is in the context of containers. Sort of.)</p>
<ul>
<li>
<p>Like Fargate, Cloud Run hosts containers and takes care of figuring out where they actually live. Unlike Fargate, you don't have to say exactly how many containers you want running at once; GCP will automatically scale the # of containers up and down based on HTTP load and will scale down to 0. This should make Cloud Run cheaper than Fargate. (If you want to hook up Fargate to a webserver and you don't have autoscale figured out, you'll have to keep a lot of workers alive doing nothing.)</p>
</li>
<li>
<p>Like Lambda, Cloud Run bills by the amount of time spent processing at least one request. But unlike Lambda, Cloud Run lets one container handle more than one request at a time (it sucks to have to spin up a lot of Lambda invocations that do a bunch of IO). Web servers that are good at concurrency shine here. This should save money.</p>
</li>
<li>
<p>Cloud Run has more generous limits in many respects than Lambda. Cloud Run lets you set up SIGTERM hooks, so you can do some cleanup logic in your container (to e.g. write performance data to a timeseries table or whatever).</p>
</li>
</ul>
<p>That's Cloud Run. On the database side: GCP Firestore is very interesting and we're going to build a big feature around it. AWS has nothing like it. On the queue side of things: We're planning to build around GCP Cloud Tasks; We've more or less built Cloud Tasks ourselves using a mix of MySQL and AWS SQS (and it was hard and we haven't done a good job).</p>
<p>I'd love to start a Discord or something to discuss these thoughts more. It's so hard to get good practical information for system architects/CTO types who just need to hammer stuff out.</p>
<blockquote>
<p>A couple of points: 1. Cloud Run is more analogous to AWS App Runner than Fargate. 2. Cloud Run isn't a great analog to lambda. Lambda is built to host functions. Cloud Run is built to host applications. Lambda is more analogous to GCP Functions. 3. Cloud Tasks should probably be built with EventBridge + Lambda or EventBridge + StepFunctions or EventBridge + ECS.<br>
I don't profess to be a GCP expert so it's hard for me to make a judgement call on what's better. I can, however, say that most of this post ignores some of the real serverless power provided by AWS. AWS AppSync, AWS API Gateway, DynamoDB, CloudFront Functions, Lambda@Edge. It also makes comparisons that are not very fair.</p>
</blockquote>
<p>Huh. I had this long call with our AWS Account Reps (+ Support Engineers) the other day and no one mentioned App Runner! This is the first I've heard of it. Looking at it now.
Ah I see, launched originally in May 2021. That's probably why they weren't aware of it. Yes, this looks cool. Very much what I was looking for.</p>
<p>The differences that I can see are...</p>
<ul>
<li>
<p>AWS App Runner lacks an advertised free tier. Not a big deal for all but the smallest projects though.</p>
</li>
<li>
<p>AWS App Runner bills rounded up to the next second, whereas GCP Cloud Run rounds up to the next 100 millisecond.</p>
</li>
<li>
<p>AWS App Runner doesn't charge per request (?!), whereas GCP Cloud Run charges $0.40/1M requests.</p>
</li>
<li>
<p>AWS App Runner has fewer CPU/RAM configuration options. The lack of low end options may be a blocker for us.</p>
</li>
<li>
<p>It's cheaper than GCP Cloud Run - $51.83 @ vCPU/1GiB, but 2GiB minimum, in Runner vs $69.642 @ 1 vCPU/1GiB (v1) $97.50 @ 1 vCPU/1GiB (v2) in Cloud Run.</p>
</li>
<li>
<p>I'm confused by the networking model. In App Runner, you have to make an ENI for your App Runner service to access your VPC? Weird. There's some extra cost there I think.</p>
</li>
</ul>
<p>Things that I can't determine based on the documentation...</p>
<ul>
<li>
<p>Does App Runner support committed use discounts?</p>
</li>
<li>
<p>Does App Runner throw a SIGTERM before shutting the container down? I hope yes but I can't find docs on it.</p>
</li>
<li>
<p>Is there a file system accessible on App Runner and is it just in memory or is there actually a disk to write to?</p>
</li>
<li>
<p>The quotas &#x26; limits page on App Runner feels incomplete and I'm left with a lot of questions about it.</p>
</li>
<li>
<p>Is there an SLA?</p>
</li>
<li>
<p>In fact the documentation for App Runner just feels a little incomplete.</p>
</li>
</ul>
<p>It looks like AWS definitely wants App Runner to be the answer to Cloud Run, but to me, it feels like it's not quite there yet.</p>
<p>It's also weird, that ECS Fargate lets you run a container without thinking about the server that it runs on, and App Runner does too, just with a few extra things. Why is it a whole separate service? Why didn't they just add it onto Fargate?</p>
<p>Re: Other services. I've only heard of API Gateway, DynamoDB and Lambda@Edge; I'll have to spend time investigating the other ones. Thank you for mentioning them!</p>
<h2 id="cloudfront">CloudFront<a aria-hidden="true" class="anchor-heading icon-link" href="#cloudfront"></a></h2>
<p>https의 url redirection을 하려면 cloudfront가 필요함</p>
<blockquote>
<p><a href="https://repost.aws/ko/knowledge-center/route-53-redirect-to-another-domain">https://repost.aws/ko/knowledge-center/route-53-redirect-to-another-domain</a></p>
</blockquote>
<h2 id="create-an-openid-connect-oidc-identity-provider-in-iam"><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_oidc.html">Create an OpenID Connect (OIDC) identity provider in IAM</a><a aria-hidden="true" class="anchor-heading icon-link" href="#create-an-openid-connect-oidc-identity-provider-in-iam"></a></h2>
<ul>
<li><a href="https://docs.github.com/en/actions/security-for-github-actions/security-hardening-your-deployments/configuring-openid-connect-in-amazon-web-services">Github Actions - Configuring OpenID Connect in Amazon Web Services</a></li>
</ul>
<hr>
<strong>Children</strong>
<ol>
<li><a href="/notes/QLwJ96mvQQgw8U1verS7k">AWS tools</a></li>
<li><a href="/notes/4g275ke7i8296gvpkb1n1fc">Lightsail + Bitnami</a></li>
<li><a href="/notes/isfc3gvb4x5nq2ebm8324ef">Pdf</a></li>
<li><a href="/notes/x48fiduxul4ukd9sqx4fzxm">S3</a></li>
<li><a href="/notes/e27crz1ovxiph9ohvbjedy6">Setting Front CDN</a></li>
</ol></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#collections" title="Collections">Collections</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#iam" title="IAM">IAM</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#iam에-필요한-기본-권한" title="IAM에 필요한 기본 권한">IAM에 필요한 기본 권한</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#misc" title="Misc">Misc</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#does-anyone-else-finds-aws-and-other-amazon-services-overly-complicated" title="Does anyone else finds AWS and other Amazon services overly complicated?">Does anyone else finds AWS and other Amazon services overly complicated?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#gcp-has-a-better-serverless-offering" title="GCP has a better serverless offering.">GCP has a better serverless offering.</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#cloudfront" title="CloudFront">CloudFront</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#create-an-openid-connect-oidc-identity-provider-in-iam" title="Create an OpenID Connect (OIDC) identity provider in IAM">Create an OpenID Connect (OIDC) identity provider in IAM</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"7mujc4bw6yz1nfbf03gmqc8","title":"Aws","desc":"","updated":1733811100640,"created":1646005847772,"custom":{},"fname":"dev.devops.aws","type":"note","vault":{"fsPath":"vault"},"contentHash":"ad7289795065817faff549b106759857","links":[],"anchors":{"collections":{"type":"header","text":"Collections","value":"collections","line":8,"column":0,"depth":2},"iam":{"type":"header","text":"IAM","value":"iam","line":17,"column":0,"depth":2},"iam에-필요한-기본-권한":{"type":"header","text":"IAM에 필요한 기본 권한","value":"iam에-필요한-기본-권한","line":19,"column":0,"depth":3},"misc":{"type":"header","text":"Misc","value":"misc","line":25,"column":0,"depth":2},"does-anyone-else-finds-aws-and-other-amazon-services-overly-complicated":{"type":"header","text":"Does anyone else finds AWS and other Amazon services overly complicated?","value":"does-anyone-else-finds-aws-and-other-amazon-services-overly-complicated","line":27,"column":0,"depth":3},"gcp-has-a-better-serverless-offering":{"type":"header","text":"GCP has a better serverless offering.","value":"gcp-has-a-better-serverless-offering","line":33,"column":0,"depth":3},"cloudfront":{"type":"header","text":"CloudFront","value":"cloudfront","line":90,"column":0,"depth":2},"create-an-openid-connect-oidc-identity-provider-in-iam":{"type":"header","text":"Create an OpenID Connect (OIDC) identity provider in IAM","value":"create-an-openid-connect-oidc-identity-provider-in-iam","line":96,"column":0,"depth":2}},"children":["4g275ke7i8296gvpkb1n1fc","isfc3gvb4x5nq2ebm8324ef","x48fiduxul4ukd9sqx4fzxm","e27crz1ovxiph9ohvbjedy6","QLwJ96mvQQgw8U1verS7k"],"parent":"67t7i0aphsf0dx02hgturxe","data":{}},"body":"\u003ch1 id=\"aws\"\u003eAws\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#aws\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"collections\"\u003eCollections\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#collections\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.infoq.com/news/2023/05/guardian-push-architecture/\"\u003eThe Guardian Optimizes Mobile Push-Notification Delivery Architecture\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/guardian/mobile-n10n\"\u003eGuardian Mobile Notifications\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.bitsand.cloud/posts/slashing-data-transfer-costs/\"\u003eSlashing Data Transfer Costs in AWS by 99%\u003c/a\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAWS replicates S3 data between availability zones\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://news.ycombinator.com/item?id=38999902\"\u003ehttps://news.ycombinator.com/item?id=38999902\u003c/a\u003e - \u003ca href=\"https://news.ycombinator.com/item?id=38999947\"\u003ehttps://news.ycombinator.com/item?id=38999947\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"iam\"\u003eIAM\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#iam\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"iam에-필요한-기본-권한\"\u003eIAM에 필요한 기본 권한\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#iam에-필요한-기본-권한\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eiam:ChangePassword - 최초 로그인 후 암호변환 (필수 아닐 수 있음. 권한 없을 때 실패 로그로 권한 요청 → 권한 받고 실패 → 특수문자 넣어 성공했기 때문)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ca href=\"https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_examples_iam_mfa-selfmanage.html\"\u003eIAM: IAM 사용자가 MFA 디바이스를 스스로 관리하도록 허용\u003c/a\u003e\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eiam:GetLoginProfile, iam:UpdateLoginProfile - 계정 사용자가 콘솔 비밀번호 리셋을 스스로 할 수 있도록\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"misc\"\u003eMisc\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#misc\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"does-anyone-else-finds-aws-and-other-amazon-services-overly-complicated\"\u003e\u003ca href=\"https://news.ycombinator.com/item?id=33490314\"\u003eDoes anyone else finds AWS and other Amazon services overly complicated?\u003c/a\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#does-anyone-else-finds-aws-and-other-amazon-services-overly-complicated\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://news.ycombinator.com/item?id=33491010\"\u003eJAMstack walk-through\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://news.ycombinator.com/item?id=33491658\"\u003eAWS is basically a \"construct your own custom infrastructure\" service and does that well.\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://news.ycombinator.com/item?id=33494968\"\u003eWe have both tried and are unable to figure out how to tie payment info to our AWS organization.\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"gcp-has-a-better-serverless-offering\"\u003eGCP has a better serverless offering.\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#gcp-has-a-better-serverless-offering\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003efrom \u003ca href=\"https://news.ycombinator.com/item?id=33523507\"\u003eadameasterling\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eI have limited time before my next meeting so I'll type real quick:\nGCP Cloud Run is like the best of both worlds between AWS ECS Fargate and AWS Lambda. (Yes, the comment is in the context of containers. Sort of.)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eLike Fargate, Cloud Run hosts containers and takes care of figuring out where they actually live. Unlike Fargate, you don't have to say exactly how many containers you want running at once; GCP will automatically scale the # of containers up and down based on HTTP load and will scale down to 0. This should make Cloud Run cheaper than Fargate. (If you want to hook up Fargate to a webserver and you don't have autoscale figured out, you'll have to keep a lot of workers alive doing nothing.)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eLike Lambda, Cloud Run bills by the amount of time spent processing at least one request. But unlike Lambda, Cloud Run lets one container handle more than one request at a time (it sucks to have to spin up a lot of Lambda invocations that do a bunch of IO). Web servers that are good at concurrency shine here. This should save money.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCloud Run has more generous limits in many respects than Lambda. Cloud Run lets you set up SIGTERM hooks, so you can do some cleanup logic in your container (to e.g. write performance data to a timeseries table or whatever).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThat's Cloud Run. On the database side: GCP Firestore is very interesting and we're going to build a big feature around it. AWS has nothing like it. On the queue side of things: We're planning to build around GCP Cloud Tasks; We've more or less built Cloud Tasks ourselves using a mix of MySQL and AWS SQS (and it was hard and we haven't done a good job).\u003c/p\u003e\n\u003cp\u003eI'd love to start a Discord or something to discuss these thoughts more. It's so hard to get good practical information for system architects/CTO types who just need to hammer stuff out.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eA couple of points: 1. Cloud Run is more analogous to AWS App Runner than Fargate. 2. Cloud Run isn't a great analog to lambda. Lambda is built to host functions. Cloud Run is built to host applications. Lambda is more analogous to GCP Functions. 3. Cloud Tasks should probably be built with EventBridge + Lambda or EventBridge + StepFunctions or EventBridge + ECS.\u003cbr\u003e\nI don't profess to be a GCP expert so it's hard for me to make a judgement call on what's better. I can, however, say that most of this post ignores some of the real serverless power provided by AWS. AWS AppSync, AWS API Gateway, DynamoDB, CloudFront Functions, Lambda@Edge. It also makes comparisons that are not very fair.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eHuh. I had this long call with our AWS Account Reps (+ Support Engineers) the other day and no one mentioned App Runner! This is the first I've heard of it. Looking at it now.\nAh I see, launched originally in May 2021. That's probably why they weren't aware of it. Yes, this looks cool. Very much what I was looking for.\u003c/p\u003e\n\u003cp\u003eThe differences that I can see are...\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eAWS App Runner lacks an advertised free tier. Not a big deal for all but the smallest projects though.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAWS App Runner bills rounded up to the next second, whereas GCP Cloud Run rounds up to the next 100 millisecond.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAWS App Runner doesn't charge per request (?!), whereas GCP Cloud Run charges $0.40/1M requests.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAWS App Runner has fewer CPU/RAM configuration options. The lack of low end options may be a blocker for us.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eIt's cheaper than GCP Cloud Run - $51.83 @ vCPU/1GiB, but 2GiB minimum, in Runner vs $69.642 @ 1 vCPU/1GiB (v1) $97.50 @ 1 vCPU/1GiB (v2) in Cloud Run.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eI'm confused by the networking model. In App Runner, you have to make an ENI for your App Runner service to access your VPC? Weird. There's some extra cost there I think.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThings that I can't determine based on the documentation...\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eDoes App Runner support committed use discounts?\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDoes App Runner throw a SIGTERM before shutting the container down? I hope yes but I can't find docs on it.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eIs there a file system accessible on App Runner and is it just in memory or is there actually a disk to write to?\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe quotas \u0026#x26; limits page on App Runner feels incomplete and I'm left with a lot of questions about it.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eIs there an SLA?\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eIn fact the documentation for App Runner just feels a little incomplete.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIt looks like AWS definitely wants App Runner to be the answer to Cloud Run, but to me, it feels like it's not quite there yet.\u003c/p\u003e\n\u003cp\u003eIt's also weird, that ECS Fargate lets you run a container without thinking about the server that it runs on, and App Runner does too, just with a few extra things. Why is it a whole separate service? Why didn't they just add it onto Fargate?\u003c/p\u003e\n\u003cp\u003eRe: Other services. I've only heard of API Gateway, DynamoDB and Lambda@Edge; I'll have to spend time investigating the other ones. Thank you for mentioning them!\u003c/p\u003e\n\u003ch2 id=\"cloudfront\"\u003eCloudFront\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#cloudfront\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003ehttps의 url redirection을 하려면 cloudfront가 필요함\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://repost.aws/ko/knowledge-center/route-53-redirect-to-another-domain\"\u003ehttps://repost.aws/ko/knowledge-center/route-53-redirect-to-another-domain\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"create-an-openid-connect-oidc-identity-provider-in-iam\"\u003e\u003ca href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_oidc.html\"\u003eCreate an OpenID Connect (OIDC) identity provider in IAM\u003c/a\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#create-an-openid-connect-oidc-identity-provider-in-iam\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://docs.github.com/en/actions/security-for-github-actions/security-hardening-your-deployments/configuring-openid-connect-in-amazon-web-services\"\u003eGithub Actions - Configuring OpenID Connect in Amazon Web Services\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cstrong\u003eChildren\u003c/strong\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"/notes/QLwJ96mvQQgw8U1verS7k\"\u003eAWS tools\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/4g275ke7i8296gvpkb1n1fc\"\u003eLightsail + Bitnami\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/isfc3gvb4x5nq2ebm8324ef\"\u003ePdf\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/x48fiduxul4ukd9sqx4fzxm\"\u003eS3\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/e27crz1ovxiph9ohvbjedy6\"\u003eSetting Front CDN\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e","noteIndex":{"id":"Iy0MoL0KnL55Br3AfTS2C","title":"Luke","desc":"","updated":1761796791487,"created":1644449449778,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"4e745570ca97988a0362cb939b760952","links":[{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"life-tips","position":{"start":{"line":41,"column":5,"offset":2603},"end":{"line":41,"column":29,"offset":2627},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"life-tips","anchorHeader":"wodenokoto"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2025","alias":"What I read in 2025","position":{"start":{"line":70,"column":3,"offset":4333},"end":{"line":70,"column":54,"offset":4384},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2025"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2024","alias":"2024","position":{"start":{"line":71,"column":5,"offset":4389},"end":{"line":71,"column":41,"offset":4425},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2024"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2023","alias":"2023","position":{"start":{"line":72,"column":5,"offset":4430},"end":{"line":72,"column":41,"offset":4466},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2023"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2022","alias":"2022","position":{"start":{"line":73,"column":5,"offset":4471},"end":{"line":73,"column":41,"offset":4507},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2022"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-struggled-brag-in","position":{"start":{"line":79,"column":3,"offset":4643},"end":{"line":79,"column":39,"offset":4679},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-struggled-brag-in"}}],"anchors":{"what-i-read-in-past":{"type":"header","text":"What I read in past","value":"what-i-read-in-past","line":74,"column":0,"depth":2}},"children":["zd4mq442jike0pr0wba1u3m","6hzeqsofq67gdk88flxlkhp","778ijii93yu5uwnrwmn5zi4","g1fngdjl25nes6fs3lip602","ZbdkdApFqLdks4Moq92R9","uoc5hhki3o4py15cesddu8q","9qf7j06jtdkm6rnx9ymvwb0","5zn10cvj7ajy2gh2is5nqmg","4qo9ma0z0yu1czns6pxl7y5","ok0e729ho7o09xetujkxc0m","GR5x8HnNFEN6fU2UBSEIK","yirtnlj8q24yutcf3ss1xqy","eq0wc6t7wl2wv221yb68ro4","7x2fnv4j6gxts08qk0jguny","ettkt3iClONnxpbGwBVLl","7l4knev6v613tbuoskvmbdg","hvh5bud6yp7dc89tuh95tr9","4fvoqrplw0cweo554usbjos","f8qsfql0a9v8thpeo82udfa","1swsbrhqi9jk41v9eodyi5q","SQqYupi6EFddTerBA8RRD","hjNeNc1F2JUh0lTWanH4h","qf0l4wbrc9jgooyzexmbq5v","uur1lkol353z9vfeqb3n5bv","cd9n1czq3ursgkby985wkmm","k1sr43vwnfqztwc0s43pkcf","wfde75rhdvq2yfa2zy2q6rv","rjcmdv60jokmbw6zoq8u2ef","ujapvww8o6v3kpmlhtryq4k","pkwewou9d5e8ystswn1j2b4"],"parent":null,"data":{},"body":"\nHi there 👋. I'm a Front-end developer.\n\n---\n\n- 단순함과 꾸준함은 가장 쉬우면서도 지키기 어려운 원칙.\n\n- 🥱 -\u003e 🤔💡🌱 - [On The Death of Daydreaming](https://www.afterbabel.com/p/on-the-death-of-daydreaming)\n  - boredom -\u003e easy fun -\u003e art -\u003e profit?\n\n\u003e I've often described my motivation for building software to others using imagery: I like to go find a secluded beach, build a large, magnificent sand castle, and then walk away. Will anyone notice? Probably not. Will the waves eventually destroy it? Yep. Did I still get immense satisfaction? Absolutely. - [aliasxneo](https://news.ycombinator.com/item?id=41497113)\n\n\u003e We love to see the process, not just the result. The imperfections in your work can be beautiful if they show your struggle for perfection, not a lack of care. - [ralphammer](https://ralphammer.com/is-perfection-boring/)\n\n\u003e Simplicity, even if it sacrifices some ideal functionality has better survival characteristics than the-right-thing. - [The Rise of Worse is Better](https://www.dreamsongs.com/RiseOfWorseIsBetter.html)\n\n\u003e [Roberto Blake was talking about making 100 crappy videos](https://www.youtube.com/watch?v=OnUBaQ1Sp_E) to get better over time. Putting in the reps and improving a little bit each time.\n\u003e\n\u003e Putting in the work without expecting any external reward at first (eg views, followers, likes, etc) will pay off in the long run. - [100 Scrappy Things](https://www.florin-pop.com/blog/100-scrappy-things/)\n\n\u003e Make the difficult habitual, the habitual easy, and the easy beautiful. - [Constantin S. Stanislavski](https://www.goodreads.com/quotes/7102271-make-the-difficult-habitual-the-habitual-easy-and-the-easy)\n\n\u003e A good match is a **structured** dance, where players aim to **score** while they are following well-defined **rules**. This **freedom within a structure** is what makes it fun. - [ralphammer](https://ralphammer.com/how-to-get-started/)\n\n- [Pivot Points](https://longform.asmartbear.com/pivot-points/)\n\n  - non-judgmental aspects of personality that can be strengths in some contexts and weaknesses in others\n  - Pivot Points are fixed in the short term\n\n- [Hedged Bets](https://longform.asmartbear.com/predict-the-future/#hedged-bets)\n  - trading slightly less maximum upside for predictable, net-positive outcomes.\n\n\u003e “Motivation often comes after starting, not before. Action produces momentum.”\n\u003e [When you start a new habit, it should take less than two minutes to do.](https://jamesclear.com/how-to-stop-procrastinating)\n\u003e\n\u003e - James Clear\n\n\u003e Focus is more about **not** keeping busy when you need to wait for something.  \n\u003e Eat the boredom for a minute.\n\u003e\n\u003e - [[life-tips#wodenokoto]]\n\n\u003e [4 minutes run hard enough to push heart rate to 90%, 3 minutes recover, repeat 4 times](https://news.ycombinator.com/item?id=34213181)\n\u003e\n\u003e - https://www.ntnu.edu/cerg/advice\n\u003e - [Get running with Couch to 5K](https://www.nhs.uk/live-well/exercise/running-and-aerobic-exercises/get-running-with-couch-to-5k/)\n\n\u003e [recommended routine - bodyweightfitness](https://www.reddit.com/r/bodyweightfitness/wiki/kb/recommended_routine/) - I Don't Have This Much Time!\n\u003e\n\u003e - Don't workout at all (saves anywhere from 20 to 60 minutes, but really, really, really, really, really, really, really, really, really not recommended)\n\n\u003e 도무지 읽히지 않는 책 앞에서 내가 택한 방법은 펼쳐진 페이지 앞에서 멍때리기이다. 다르게 표현하면 이렇다. 펼쳐진 두 페이지 앞에서 오래 머물기.\n\u003e\n\u003e 책을 펼쳐놓는 것으로 충분하다. 읽지 못해도 좋다. 매일 정해진 진도를 나가야 하는 학교 수업이 아니니까. 하지만 읽지 않아도 괜찮다고 해서 펼쳐두지조차 않으면 곤란하다. 가능한 한 자주 책을 펼쳐두도록 하자. 전혀 읽지 않고 멍하니 바라보고 있다가 다시 덮게 되더라도\n\u003e\n\u003e - 막막한 독서. 시로군. P.10~13\n\n\u003e I think it should be everyone's primary focus to sleep well, drink water, get outside, get active, and eat generally decently. I hate to say it, but if you're not eating a good amount of vegetables and fruit, decent protein, sleep, etc, no amount of XYZ will catch up to that detriment. - [CE02](https://news.ycombinator.com/item?id=35056071)\n\n\u003e My real battle is doing good versus doing nothing. - [Deirdre Sullivan](https://www.npr.org/2005/08/08/4785079/always-go-to-the-funeral)\n\n[Kind Engineering](https://kind.engineering/) - How To Engineer Kindness\n\n\u003e Sometimes magic is just someone spending more time on something than anyone else might reasonably expect. - [Teller](https://www.goodreads.com/quotes/6641527-sometimes-magic-is-just-someone-spending-more-time-on-something)\n\n---\n\n## What I read in past\n\n- [[What I read in 2025|journal.what-i-read-in.2025]]\n  - [[2024|journal.what-i-read-in.2024]]\n  - [[2023|journal.what-i-read-in.2023]]\n  - [[2022|journal.what-i-read-in.2022]]\n- 📝 [Gists](https://gist.github.com/Luke-SNAW)\n- 📜 [Journals](https://luke-snaw.github.io/Luke-SNAW__netlify-CMS.github.io/)\n\n---\n\n- [[journal.what-i-struggled-brag-in]]\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":false,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.115.0","enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Luke SNAW","description":"Personal knowledge space"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","siteUrl":"https://luke-snaw.github.io/","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"7mujc4bw6yz1nfbf03gmqc8"},"buildId":"vOE8u-mg___OsOsz4tjEg","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>