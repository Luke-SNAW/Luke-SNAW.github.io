<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>A primer on functional architecture</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="A primer on functional architecture"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://luke-snaw.github.io//notes/cdgkaoy6064zew14hry05b3/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="3/18/2022"/><meta property="article:modified_time" content="5/24/2023"/><meta property="article:tag" content="architecture"/><meta property="article:tag" content="bookmark"/><link rel="canonical" href="https://luke-snaw.github.io//notes/cdgkaoy6064zew14hry05b3/"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9d8e0603730b15a3.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/vOE8u-mg___OsOsz4tjEg/_buildManifest.js" defer=""></script><script src="/_next/static/vOE8u-mg___OsOsz4tjEg/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="a-primer-on-functional-architecture">A primer on functional architecture<a aria-hidden="true" class="anchor-heading icon-link" href="#a-primer-on-functional-architecture"></a></h1>
<blockquote>
<p><a href="https://increment.com/software-architecture/primer-on-functional-architecture/">https://increment.com/software-architecture/primer-on-functional-architecture/</a></p>
</blockquote>
<p><em>This article is based on chapter 3 of</em> <a href="https://pragprog.com/book/swdddf/domain-modeling-made-functional">Domain Modeling Made Functional</a> <em>by Scott Wlaschin.</em></p>
<p>Many articles on functional programming, or FP, focus on low-level coding practices (such as avoiding side effects) and FP-specific patterns (such as the dreaded monad). They don’t, however, touch on high-level design and architecture. Yet FP principles can be applied at larger scales. In fact, many popular frameworks and architectural styles, from serverless on the backend to Redux/Elm-style frameworks on the frontend, have their roots in functional programming.</p>
<p>When used appropriately, FP principles can reduce complexity while increasing the testability and maintainability of an application. This is functional architecture.</p>
<h2 id="the-principles-of-fp-applied-to-software-architecture">The principles of FP applied to software architecture<a aria-hidden="true" class="anchor-heading icon-link" href="#the-principles-of-fp-applied-to-software-architecture"></a></h2>
<p>In a functional architecture, the basic unit is also a function, but a much larger business-oriented one that I like to call a workflow. Each workflow represents a unit of functionality—a feature, use case, scenario, story, or whatever you want to call it.</p>
<p>Composition is the primary way to build systems. Two simple functions can be composed just by connecting the output of one to the input of another. The result is another function that can be used as a starting point for yet more composition.</p>
<p>Composition is such an important concept that functional programmers have a suite of standard tools, such as monads, that allow for composition even if the inputs and outputs don’t quite match.</p>
<p>This compositional approach means we only combine the specific components we need for a particular business workflow. There is no need for a traditional layered architecture. As we add new features to our system, the functionality required for each new workflow is defined independently, rather than grouped into a database or services layer.</p>
<p>Functional programmers try to use pure functions as much as possible. A pure function is deterministic (a given input always results in the same output) and has no side effects (such as mutation or I/O). They are very easy to test (deterministic!) and easy to understand without drilling into their implementation (no side effects!).</p>
<h2 id="interacting-with-the-outside-world">Interacting with the outside world<a aria-hidden="true" class="anchor-heading icon-link" href="#interacting-with-the-outside-world"></a></h2>
<p>Of course, at some point we will need to do I/O. Functional programmers try to keep this kind of nondeterminism at the edges of the pipeline as much as possible.</p>
<p>This functional model is very similar to well-known approaches such as <a href="https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/">onion architecture</a>, <a href="http://www.dossier-andreas.net/software_architecture/ports_and_adapters.html">hexagonal architecture</a> (a.k.a. ports-and-adapters architecture), and <a href="https://www.destroyallsoftware.com/screencasts/catalog/functional-core-imperative-shell">functional core, imperative shell</a>. In all cases, the core domain—the pure business logic—is isolated from the infrastructure. The infrastructure code knows about the core domain, but not the other way around. Dependencies are one-way only and I/O is kept at the edges.</p>
<p>Using only pure code for the business logic means there’s a clear distinction between unit testing and integration testing.</p>
<p>One of the advantages of functional programming is that this isolation of business domain from infrastructure occurs naturally.</p>
<h2 id="boundaries-and-contexts">Boundaries and contexts<a aria-hidden="true" class="anchor-heading icon-link" href="#boundaries-and-contexts"></a></h2>
<p>As software designers and architects, our next challenge is to decide how to group these workflows or pipelines into logical units.</p>
<p>In DDD terminology, a grouping of related functionality is called a bounded context, and each bounded context is treated as a mini-domain in its own right. It typically corresponds to the logical encapsulation of a particular business capability. We use the phrase “bounded context” instead of something like “subsystem” because it keeps us focused on what’s important when we’re designing a solution: being aware of the context and the boundaries. (Exactly how to define these bounded contexts is a topic for another article.)</p>
<p>Why context? Because each context represents some specialized knowledge or capability. Within the context, we share a common language, and the design is coherent and unified. But, just like in the real world, information taken out of context can be confusing or unusable.</p>
<p>Why bounded? In the real world, domains can have fuzzy boundaries. But in the world of software, we want to reduce coupling between subsystems so that they can evolve independently. Boundaries are key to ensuring that subsystems stay separate, and can be maintained using standard software practices such as using explicit APIs and avoiding dependencies such as shared code. In complex projects with changing requirements, we must be ruthless about preserving the “bounded” part of the bounded context. A boundary that’s too broad or too vague is no boundary at all.</p>
<p>Autonomy is a crucial aspect of a bounded context. Having autonomy means that the bounded context can make decisions without needing to wait on decisions or information from other bounded contexts. That is, if one bounded context is unavailable, the other bounded contexts can continue operating independently, which is an important decoupling. Autonomy can also apply to the development process. In general, a bounded context is best owned by a single team.</p>
<p>If we apply the concept of bounded contexts to a functional architecture, we end up with a number of small, focused domains, each of which supports a number of business workflows. These boundaries should be defined in such a way that the workflows within them are autonomous, able to do their job without depending on other systems.</p>
<p>In some cases, a long-running use case or scenario requires multiple workflows. In this case, workflows in different contexts will need to communicate with each other using events and other methods. However, it’s important to keep an individual workflow within a single bounded context and never attempt to implement a scenario “end to end” through multiple contexts. Allowing workflows to reach inside multiple services will eventually cause our nicely decoupled architecture to devolve into a tangle of unmaintainable dependencies—“<a href="http://laputan.org/mud/">a big ball of mud</a>.”</p>
<h2 id="the-entity-service-antipattern">The entity-service antipattern<a aria-hidden="true" class="anchor-heading icon-link" href="#the-entity-service-antipattern"></a></h2>
<p>There may not be one right way to define boundaries, but there are certainly many wrong ways. A common antipattern for grouping functionality is the <a href="https://www.michaelnygard.com/blog/2017/12/the-entity-service-antipattern/">“entity-service” approach</a>, in which the services are built around entities instead of workflows.</p>
<p><strong>Just because a business workflow involves an entity, such as an “order,” doesn’t mean it has anything in common with other workflows that use that entity. For example, the “pay for an order” workflow and the “delete an order” workflow both involve orders but have completely different business logic. There’s no need for them both to depend on an arbitrary “order” service that lumps a disparate set of functions together.</strong></p>
<h2 id="events">Events<a aria-hidden="true" class="anchor-heading icon-link" href="#events"></a></h2>
<p>Now our workflow functions are grouped into bounded contexts and ready to be used. But what triggers these business workflows? What causes an employee, user, or automated process to initiate a workflow?</p>
<p>An event. That is, something changes in the outside world—a customer clicks a button, an email arrives, an alert pops up. This is captured in the form of a business event—for example, “order placed” or “email received.” In an FP architecture, business events like these trigger workflows.</p>
<p>Furthermore, with this approach, the output of a workflow is also an event: a notification that tells any downstream workflows that something important has changed in the world. Changes that are specific to a particular workflow and aren’t shared, such as database updates, aren’t emitted from the workflow as events.</p>
<p>This is how we can assemble larger processes from these smaller workflows. Each workflow is triggered by an event, and that workflow in turn generates more events for downstream processes to consume.</p>
<p>Note that in all cases the workflows interact asynchronously. This allows them to stay independent and decoupled in both time and space.</p>
<p>If you’re familiar with <a href="https://www.enterpriseintegrationpatterns.com/docs/EDA.pdf">event-driven architectures</a>, this event-based approach will be familiar. And, indeed, the FP approach of having individual pipelines is very amenable to this architectural style.</p>
<h2 id="logical-versus-physical-architecture">Logical versus physical architecture<a aria-hidden="true" class="anchor-heading icon-link" href="#logical-versus-physical-architecture"></a></h2>
<p>It’s important to note that this description of separate workflows triggered by events is a logical view, not a physical one.</p>
<p>...</p>
<p>In some cases, a logical workflow may also be physically split into separate parts. For instance, a workflow may start on the frontend and continue on the backend via a synchronous API call.</p>
<p>...</p>
<h2 id="frontend-functional-architecture">Frontend functional architecture<a aria-hidden="true" class="anchor-heading icon-link" href="#frontend-functional-architecture"></a></h2>
<p>...</p>
<p>The most common functional frontend architecture is the Model-View-Update architecture, also known as the Elm architecture.</p>
<h2 id="the-power-of-functional-programming-principles">The power of functional programming principles<a aria-hidden="true" class="anchor-heading icon-link" href="#the-power-of-functional-programming-principles"></a></h2>
<p>Many good practices of software architecture—cohesion, decoupling, isolation of I/O, etc.—arise naturally from applying functional-programming principles. For example, we’ve seen that in a typical functional design each workflow is constructed independently, comprising only the functionality it needs (which maximizes cohesion), and that autonomy is emphasized at all levels, from individual functions up to bounded contexts (decoupling). Furthermore, a surefire way to enhance testability and maintainability is to keep the business logic in pure, deterministic functions, and to use immutable data models to force data changes to become explicit and unambiguous.</p>
<hr>
<h2 id="tags">Tags<a aria-hidden="true" class="anchor-heading icon-link" href="#tags"></a></h2>
<ol>
<li><a class="color-tag" style="--tag-color: #b66325;" href="/notes/qqlu2qbieklqf58kzwklnio">architecture</a></li>
<li><a class="color-tag" style="--tag-color: #1d5dec;" href="/notes/jqe1umqwl5gqjj4292jqy0f">bookmark</a></li>
</ol></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#the-principles-of-fp-applied-to-software-architecture" title="The principles of FP applied to software architecture">The principles of FP applied to software architecture</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#interacting-with-the-outside-world" title="Interacting with the outside world">Interacting with the outside world</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#boundaries-and-contexts" title="Boundaries and contexts">Boundaries and contexts</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#the-entity-service-antipattern" title="The entity-service antipattern">The entity-service antipattern</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#events" title="Events">Events</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#logical-versus-physical-architecture" title="Logical versus physical architecture">Logical versus physical architecture</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#frontend-functional-architecture" title="Frontend functional architecture">Frontend functional architecture</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#the-power-of-functional-programming-principles" title="The power of functional programming principles">The power of functional programming principles</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"cdgkaoy6064zew14hry05b3","title":"A primer on functional architecture","desc":"","updated":1684900699719,"created":1647565553197,"tags":["architecture","bookmark"],"custom":{},"fname":"dev.functional-programming.primer-on-functional-architecture","type":"note","vault":{"fsPath":"vault"},"contentHash":"9719b08d64f485de68bf62380f76d1a7","links":[{"type":"frontmatterTag","from":{"fname":"dev.functional-programming.primer-on-functional-architecture","id":"cdgkaoy6064zew14hry05b3","vaultName":"vault"},"value":"tags.architecture","alias":"architecture","xvault":false,"to":{"fname":"tags.architecture"}},{"type":"frontmatterTag","from":{"fname":"dev.functional-programming.primer-on-functional-architecture","id":"cdgkaoy6064zew14hry05b3","vaultName":"vault"},"value":"tags.bookmark","alias":"bookmark","xvault":false,"to":{"fname":"tags.bookmark"}}],"anchors":{"the-principles-of-fp-applied-to-software-architecture":{"type":"header","text":"The principles of FP applied to software architecture","value":"the-principles-of-fp-applied-to-software-architecture","line":19,"column":0,"depth":2},"interacting-with-the-outside-world":{"type":"header","text":"Interacting with the outside world","value":"interacting-with-the-outside-world","line":31,"column":0,"depth":2},"boundaries-and-contexts":{"type":"header","text":"Boundaries and contexts","value":"boundaries-and-contexts","line":41,"column":0,"depth":2},"the-entity-service-antipattern":{"type":"header","text":"The entity-service antipattern","value":"the-entity-service-antipattern","line":57,"column":0,"depth":2},"events":{"type":"header","text":"Events","value":"events","line":63,"column":0,"depth":2},"logical-versus-physical-architecture":{"type":"header","text":"Logical versus physical architecture","value":"logical-versus-physical-architecture","line":77,"column":0,"depth":2},"frontend-functional-architecture":{"type":"header","text":"Frontend functional architecture","value":"frontend-functional-architecture","line":87,"column":0,"depth":2},"the-power-of-functional-programming-principles":{"type":"header","text":"The power of functional programming principles","value":"the-power-of-functional-programming-principles","line":93,"column":0,"depth":2}},"children":[],"parent":"HtVLXiN97I2jTm8h2NEVQ","data":{}},"body":"\u003ch1 id=\"a-primer-on-functional-architecture\"\u003eA primer on functional architecture\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#a-primer-on-functional-architecture\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://increment.com/software-architecture/primer-on-functional-architecture/\"\u003ehttps://increment.com/software-architecture/primer-on-functional-architecture/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cem\u003eThis article is based on chapter 3 of\u003c/em\u003e \u003ca href=\"https://pragprog.com/book/swdddf/domain-modeling-made-functional\"\u003eDomain Modeling Made Functional\u003c/a\u003e \u003cem\u003eby Scott Wlaschin.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eMany articles on functional programming, or FP, focus on low-level coding practices (such as avoiding side effects) and FP-specific patterns (such as the dreaded monad). They don’t, however, touch on high-level design and architecture. Yet FP principles can be applied at larger scales. In fact, many popular frameworks and architectural styles, from serverless on the backend to Redux/Elm-style frameworks on the frontend, have their roots in functional programming.\u003c/p\u003e\n\u003cp\u003eWhen used appropriately, FP principles can reduce complexity while increasing the testability and maintainability of an application. This is functional architecture.\u003c/p\u003e\n\u003ch2 id=\"the-principles-of-fp-applied-to-software-architecture\"\u003eThe principles of FP applied to software architecture\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#the-principles-of-fp-applied-to-software-architecture\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eIn a functional architecture, the basic unit is also a function, but a much larger business-oriented one that I like to call a workflow. Each workflow represents a unit of functionality—a feature, use case, scenario, story, or whatever you want to call it.\u003c/p\u003e\n\u003cp\u003eComposition is the primary way to build systems. Two simple functions can be composed just by connecting the output of one to the input of another. The result is another function that can be used as a starting point for yet more composition.\u003c/p\u003e\n\u003cp\u003eComposition is such an important concept that functional programmers have a suite of standard tools, such as monads, that allow for composition even if the inputs and outputs don’t quite match.\u003c/p\u003e\n\u003cp\u003eThis compositional approach means we only combine the specific components we need for a particular business workflow. There is no need for a traditional layered architecture. As we add new features to our system, the functionality required for each new workflow is defined independently, rather than grouped into a database or services layer.\u003c/p\u003e\n\u003cp\u003eFunctional programmers try to use pure functions as much as possible. A pure function is deterministic (a given input always results in the same output) and has no side effects (such as mutation or I/O). They are very easy to test (deterministic!) and easy to understand without drilling into their implementation (no side effects!).\u003c/p\u003e\n\u003ch2 id=\"interacting-with-the-outside-world\"\u003eInteracting with the outside world\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#interacting-with-the-outside-world\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eOf course, at some point we will need to do I/O. Functional programmers try to keep this kind of nondeterminism at the edges of the pipeline as much as possible.\u003c/p\u003e\n\u003cp\u003eThis functional model is very similar to well-known approaches such as \u003ca href=\"https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/\"\u003eonion architecture\u003c/a\u003e, \u003ca href=\"http://www.dossier-andreas.net/software_architecture/ports_and_adapters.html\"\u003ehexagonal architecture\u003c/a\u003e (a.k.a. ports-and-adapters architecture), and \u003ca href=\"https://www.destroyallsoftware.com/screencasts/catalog/functional-core-imperative-shell\"\u003efunctional core, imperative shell\u003c/a\u003e. In all cases, the core domain—the pure business logic—is isolated from the infrastructure. The infrastructure code knows about the core domain, but not the other way around. Dependencies are one-way only and I/O is kept at the edges.\u003c/p\u003e\n\u003cp\u003eUsing only pure code for the business logic means there’s a clear distinction between unit testing and integration testing.\u003c/p\u003e\n\u003cp\u003eOne of the advantages of functional programming is that this isolation of business domain from infrastructure occurs naturally.\u003c/p\u003e\n\u003ch2 id=\"boundaries-and-contexts\"\u003eBoundaries and contexts\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#boundaries-and-contexts\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eAs software designers and architects, our next challenge is to decide how to group these workflows or pipelines into logical units.\u003c/p\u003e\n\u003cp\u003eIn DDD terminology, a grouping of related functionality is called a bounded context, and each bounded context is treated as a mini-domain in its own right. It typically corresponds to the logical encapsulation of a particular business capability. We use the phrase “bounded context” instead of something like “subsystem” because it keeps us focused on what’s important when we’re designing a solution: being aware of the context and the boundaries. (Exactly how to define these bounded contexts is a topic for another article.)\u003c/p\u003e\n\u003cp\u003eWhy context? Because each context represents some specialized knowledge or capability. Within the context, we share a common language, and the design is coherent and unified. But, just like in the real world, information taken out of context can be confusing or unusable.\u003c/p\u003e\n\u003cp\u003eWhy bounded? In the real world, domains can have fuzzy boundaries. But in the world of software, we want to reduce coupling between subsystems so that they can evolve independently. Boundaries are key to ensuring that subsystems stay separate, and can be maintained using standard software practices such as using explicit APIs and avoiding dependencies such as shared code. In complex projects with changing requirements, we must be ruthless about preserving the “bounded” part of the bounded context. A boundary that’s too broad or too vague is no boundary at all.\u003c/p\u003e\n\u003cp\u003eAutonomy is a crucial aspect of a bounded context. Having autonomy means that the bounded context can make decisions without needing to wait on decisions or information from other bounded contexts. That is, if one bounded context is unavailable, the other bounded contexts can continue operating independently, which is an important decoupling. Autonomy can also apply to the development process. In general, a bounded context is best owned by a single team.\u003c/p\u003e\n\u003cp\u003eIf we apply the concept of bounded contexts to a functional architecture, we end up with a number of small, focused domains, each of which supports a number of business workflows. These boundaries should be defined in such a way that the workflows within them are autonomous, able to do their job without depending on other systems.\u003c/p\u003e\n\u003cp\u003eIn some cases, a long-running use case or scenario requires multiple workflows. In this case, workflows in different contexts will need to communicate with each other using events and other methods. However, it’s important to keep an individual workflow within a single bounded context and never attempt to implement a scenario “end to end” through multiple contexts. Allowing workflows to reach inside multiple services will eventually cause our nicely decoupled architecture to devolve into a tangle of unmaintainable dependencies—“\u003ca href=\"http://laputan.org/mud/\"\u003ea big ball of mud\u003c/a\u003e.”\u003c/p\u003e\n\u003ch2 id=\"the-entity-service-antipattern\"\u003eThe entity-service antipattern\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#the-entity-service-antipattern\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eThere may not be one right way to define boundaries, but there are certainly many wrong ways. A common antipattern for grouping functionality is the \u003ca href=\"https://www.michaelnygard.com/blog/2017/12/the-entity-service-antipattern/\"\u003e“entity-service” approach\u003c/a\u003e, in which the services are built around entities instead of workflows.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eJust because a business workflow involves an entity, such as an “order,” doesn’t mean it has anything in common with other workflows that use that entity. For example, the “pay for an order” workflow and the “delete an order” workflow both involve orders but have completely different business logic. There’s no need for them both to depend on an arbitrary “order” service that lumps a disparate set of functions together.\u003c/strong\u003e\u003c/p\u003e\n\u003ch2 id=\"events\"\u003eEvents\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#events\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eNow our workflow functions are grouped into bounded contexts and ready to be used. But what triggers these business workflows? What causes an employee, user, or automated process to initiate a workflow?\u003c/p\u003e\n\u003cp\u003eAn event. That is, something changes in the outside world—a customer clicks a button, an email arrives, an alert pops up. This is captured in the form of a business event—for example, “order placed” or “email received.” In an FP architecture, business events like these trigger workflows.\u003c/p\u003e\n\u003cp\u003eFurthermore, with this approach, the output of a workflow is also an event: a notification that tells any downstream workflows that something important has changed in the world. Changes that are specific to a particular workflow and aren’t shared, such as database updates, aren’t emitted from the workflow as events.\u003c/p\u003e\n\u003cp\u003eThis is how we can assemble larger processes from these smaller workflows. Each workflow is triggered by an event, and that workflow in turn generates more events for downstream processes to consume.\u003c/p\u003e\n\u003cp\u003eNote that in all cases the workflows interact asynchronously. This allows them to stay independent and decoupled in both time and space.\u003c/p\u003e\n\u003cp\u003eIf you’re familiar with \u003ca href=\"https://www.enterpriseintegrationpatterns.com/docs/EDA.pdf\"\u003eevent-driven architectures\u003c/a\u003e, this event-based approach will be familiar. And, indeed, the FP approach of having individual pipelines is very amenable to this architectural style.\u003c/p\u003e\n\u003ch2 id=\"logical-versus-physical-architecture\"\u003eLogical versus physical architecture\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#logical-versus-physical-architecture\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eIt’s important to note that this description of separate workflows triggered by events is a logical view, not a physical one.\u003c/p\u003e\n\u003cp\u003e...\u003c/p\u003e\n\u003cp\u003eIn some cases, a logical workflow may also be physically split into separate parts. For instance, a workflow may start on the frontend and continue on the backend via a synchronous API call.\u003c/p\u003e\n\u003cp\u003e...\u003c/p\u003e\n\u003ch2 id=\"frontend-functional-architecture\"\u003eFrontend functional architecture\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#frontend-functional-architecture\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e...\u003c/p\u003e\n\u003cp\u003eThe most common functional frontend architecture is the Model-View-Update architecture, also known as the Elm architecture.\u003c/p\u003e\n\u003ch2 id=\"the-power-of-functional-programming-principles\"\u003eThe power of functional programming principles\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#the-power-of-functional-programming-principles\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eMany good practices of software architecture—cohesion, decoupling, isolation of I/O, etc.—arise naturally from applying functional-programming principles. For example, we’ve seen that in a typical functional design each workflow is constructed independently, comprising only the functionality it needs (which maximizes cohesion), and that autonomy is emphasized at all levels, from individual functions up to bounded contexts (decoupling). Furthermore, a surefire way to enhance testability and maintainability is to keep the business logic in pure, deterministic functions, and to use immutable data models to force data changes to become explicit and unambiguous.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"tags\"\u003eTags\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tags\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca class=\"color-tag\" style=\"--tag-color: #b66325;\" href=\"/notes/qqlu2qbieklqf58kzwklnio\"\u003earchitecture\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca class=\"color-tag\" style=\"--tag-color: #1d5dec;\" href=\"/notes/jqe1umqwl5gqjj4292jqy0f\"\u003ebookmark\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e","noteIndex":{"id":"Iy0MoL0KnL55Br3AfTS2C","title":"Luke","desc":"","updated":1761796791487,"created":1644449449778,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"4e745570ca97988a0362cb939b760952","links":[{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"life-tips","position":{"start":{"line":41,"column":5,"offset":2603},"end":{"line":41,"column":29,"offset":2627},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"life-tips","anchorHeader":"wodenokoto"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2025","alias":"What I read in 2025","position":{"start":{"line":70,"column":3,"offset":4333},"end":{"line":70,"column":54,"offset":4384},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2025"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2024","alias":"2024","position":{"start":{"line":71,"column":5,"offset":4389},"end":{"line":71,"column":41,"offset":4425},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2024"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2023","alias":"2023","position":{"start":{"line":72,"column":5,"offset":4430},"end":{"line":72,"column":41,"offset":4466},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2023"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2022","alias":"2022","position":{"start":{"line":73,"column":5,"offset":4471},"end":{"line":73,"column":41,"offset":4507},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2022"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-struggled-brag-in","position":{"start":{"line":79,"column":3,"offset":4643},"end":{"line":79,"column":39,"offset":4679},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-struggled-brag-in"}}],"anchors":{"what-i-read-in-past":{"type":"header","text":"What I read in past","value":"what-i-read-in-past","line":74,"column":0,"depth":2}},"children":["zd4mq442jike0pr0wba1u3m","6hzeqsofq67gdk88flxlkhp","778ijii93yu5uwnrwmn5zi4","g1fngdjl25nes6fs3lip602","ZbdkdApFqLdks4Moq92R9","uoc5hhki3o4py15cesddu8q","9qf7j06jtdkm6rnx9ymvwb0","5zn10cvj7ajy2gh2is5nqmg","4qo9ma0z0yu1czns6pxl7y5","ok0e729ho7o09xetujkxc0m","GR5x8HnNFEN6fU2UBSEIK","yirtnlj8q24yutcf3ss1xqy","eq0wc6t7wl2wv221yb68ro4","7x2fnv4j6gxts08qk0jguny","ettkt3iClONnxpbGwBVLl","7l4knev6v613tbuoskvmbdg","hvh5bud6yp7dc89tuh95tr9","4fvoqrplw0cweo554usbjos","f8qsfql0a9v8thpeo82udfa","1swsbrhqi9jk41v9eodyi5q","SQqYupi6EFddTerBA8RRD","hjNeNc1F2JUh0lTWanH4h","qf0l4wbrc9jgooyzexmbq5v","uur1lkol353z9vfeqb3n5bv","cd9n1czq3ursgkby985wkmm","k1sr43vwnfqztwc0s43pkcf","wfde75rhdvq2yfa2zy2q6rv","rjcmdv60jokmbw6zoq8u2ef","ujapvww8o6v3kpmlhtryq4k","pkwewou9d5e8ystswn1j2b4"],"parent":null,"data":{},"body":"\nHi there 👋. I'm a Front-end developer.\n\n---\n\n- 단순함과 꾸준함은 가장 쉬우면서도 지키기 어려운 원칙.\n\n- 🥱 -\u003e 🤔💡🌱 - [On The Death of Daydreaming](https://www.afterbabel.com/p/on-the-death-of-daydreaming)\n  - boredom -\u003e easy fun -\u003e art -\u003e profit?\n\n\u003e I've often described my motivation for building software to others using imagery: I like to go find a secluded beach, build a large, magnificent sand castle, and then walk away. Will anyone notice? Probably not. Will the waves eventually destroy it? Yep. Did I still get immense satisfaction? Absolutely. - [aliasxneo](https://news.ycombinator.com/item?id=41497113)\n\n\u003e We love to see the process, not just the result. The imperfections in your work can be beautiful if they show your struggle for perfection, not a lack of care. - [ralphammer](https://ralphammer.com/is-perfection-boring/)\n\n\u003e Simplicity, even if it sacrifices some ideal functionality has better survival characteristics than the-right-thing. - [The Rise of Worse is Better](https://www.dreamsongs.com/RiseOfWorseIsBetter.html)\n\n\u003e [Roberto Blake was talking about making 100 crappy videos](https://www.youtube.com/watch?v=OnUBaQ1Sp_E) to get better over time. Putting in the reps and improving a little bit each time.\n\u003e\n\u003e Putting in the work without expecting any external reward at first (eg views, followers, likes, etc) will pay off in the long run. - [100 Scrappy Things](https://www.florin-pop.com/blog/100-scrappy-things/)\n\n\u003e Make the difficult habitual, the habitual easy, and the easy beautiful. - [Constantin S. Stanislavski](https://www.goodreads.com/quotes/7102271-make-the-difficult-habitual-the-habitual-easy-and-the-easy)\n\n\u003e A good match is a **structured** dance, where players aim to **score** while they are following well-defined **rules**. This **freedom within a structure** is what makes it fun. - [ralphammer](https://ralphammer.com/how-to-get-started/)\n\n- [Pivot Points](https://longform.asmartbear.com/pivot-points/)\n\n  - non-judgmental aspects of personality that can be strengths in some contexts and weaknesses in others\n  - Pivot Points are fixed in the short term\n\n- [Hedged Bets](https://longform.asmartbear.com/predict-the-future/#hedged-bets)\n  - trading slightly less maximum upside for predictable, net-positive outcomes.\n\n\u003e “Motivation often comes after starting, not before. Action produces momentum.”\n\u003e [When you start a new habit, it should take less than two minutes to do.](https://jamesclear.com/how-to-stop-procrastinating)\n\u003e\n\u003e - James Clear\n\n\u003e Focus is more about **not** keeping busy when you need to wait for something.  \n\u003e Eat the boredom for a minute.\n\u003e\n\u003e - [[life-tips#wodenokoto]]\n\n\u003e [4 minutes run hard enough to push heart rate to 90%, 3 minutes recover, repeat 4 times](https://news.ycombinator.com/item?id=34213181)\n\u003e\n\u003e - https://www.ntnu.edu/cerg/advice\n\u003e - [Get running with Couch to 5K](https://www.nhs.uk/live-well/exercise/running-and-aerobic-exercises/get-running-with-couch-to-5k/)\n\n\u003e [recommended routine - bodyweightfitness](https://www.reddit.com/r/bodyweightfitness/wiki/kb/recommended_routine/) - I Don't Have This Much Time!\n\u003e\n\u003e - Don't workout at all (saves anywhere from 20 to 60 minutes, but really, really, really, really, really, really, really, really, really not recommended)\n\n\u003e 도무지 읽히지 않는 책 앞에서 내가 택한 방법은 펼쳐진 페이지 앞에서 멍때리기이다. 다르게 표현하면 이렇다. 펼쳐진 두 페이지 앞에서 오래 머물기.\n\u003e\n\u003e 책을 펼쳐놓는 것으로 충분하다. 읽지 못해도 좋다. 매일 정해진 진도를 나가야 하는 학교 수업이 아니니까. 하지만 읽지 않아도 괜찮다고 해서 펼쳐두지조차 않으면 곤란하다. 가능한 한 자주 책을 펼쳐두도록 하자. 전혀 읽지 않고 멍하니 바라보고 있다가 다시 덮게 되더라도\n\u003e\n\u003e - 막막한 독서. 시로군. P.10~13\n\n\u003e I think it should be everyone's primary focus to sleep well, drink water, get outside, get active, and eat generally decently. I hate to say it, but if you're not eating a good amount of vegetables and fruit, decent protein, sleep, etc, no amount of XYZ will catch up to that detriment. - [CE02](https://news.ycombinator.com/item?id=35056071)\n\n\u003e My real battle is doing good versus doing nothing. - [Deirdre Sullivan](https://www.npr.org/2005/08/08/4785079/always-go-to-the-funeral)\n\n[Kind Engineering](https://kind.engineering/) - How To Engineer Kindness\n\n\u003e Sometimes magic is just someone spending more time on something than anyone else might reasonably expect. - [Teller](https://www.goodreads.com/quotes/6641527-sometimes-magic-is-just-someone-spending-more-time-on-something)\n\n---\n\n## What I read in past\n\n- [[What I read in 2025|journal.what-i-read-in.2025]]\n  - [[2024|journal.what-i-read-in.2024]]\n  - [[2023|journal.what-i-read-in.2023]]\n  - [[2022|journal.what-i-read-in.2022]]\n- 📝 [Gists](https://gist.github.com/Luke-SNAW)\n- 📜 [Journals](https://luke-snaw.github.io/Luke-SNAW__netlify-CMS.github.io/)\n\n---\n\n- [[journal.what-i-struggled-brag-in]]\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":false,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.115.0","enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Luke SNAW","description":"Personal knowledge space"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","siteUrl":"https://luke-snaw.github.io/","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"cdgkaoy6064zew14hry05b3"},"buildId":"vOE8u-mg___OsOsz4tjEg","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>