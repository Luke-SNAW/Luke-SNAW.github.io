<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>JavaScript Closure: A Simple Explanation</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="JavaScript Closure: A Simple Explanation"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://luke-snaw.github.io//notes/vf7legeg0iluoyi3l1haomp/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2/2/2023"/><meta property="article:modified_time" content="2/2/2023"/><link rel="canonical" href="https://luke-snaw.github.io//notes/vf7legeg0iluoyi3l1haomp/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9d8e0603730b15a3.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/wirstT2ztC8OQsbzKjhvw/_buildManifest.js" defer=""></script><script src="/_next/static/wirstT2ztC8OQsbzKjhvw/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="javascript-closure-a-simple-explanation">JavaScript Closure: A Simple Explanation<a aria-hidden="true" class="anchor-heading icon-link" href="#javascript-closure-a-simple-explanation"></a></h1>
<blockquote>
<p><a href="https://dmitripavlutin.com/javascript-closure/">https://dmitripavlutin.com/javascript-closure/</a></p>
</blockquote>
<p>The callbacks, event handlers, higher-order functions can access outer scope variables thanks to the closure. The closure concept is important in functional programming and is often asked during the JavaScript coding interview.</p>
<p>While being used everywhere, closures are difficult to grasp. If you haven't had your "Aha!" moment in understanding closures, then this post is for you.</p>
<p>I'll start with the fundamental terms: scope and lexical scope. Then, after grasping the basics, you'll need just one step to finally understand closures.</p>
<p>Before starting, I suggest you resist the urge to skip the scope and lexical scope sections. These concepts are crucial to closures, and if you get them well, the idea of closure becomes self-evident.</p>
<h2 id="1-the-scope"><a href="https://dmitripavlutin.com/javascript-closure/#1-the-scope"></a>1. The scope<a aria-hidden="true" class="anchor-heading icon-link" href="#1-the-scope"></a></h2>
<p>When you define a variable, you want it to exist within some boundaries. E.g. a <code>result</code> variable makes sense to exist within a <code>calculate()</code> function, as an internal detail. Outside of the <code>calculate()</code>, the <code>result</code> variable is useless.</p>
<p>The accessibility of variables is managed by <em>scope</em>. You are free to access the variable defined within its scope. But outside of that scope, the variable is inaccessible.</p>
<p>In JavaScript, a scope is created by a function or a code block.</p>
<p>Let's see how the scope affects the availability of a variable <code>count</code>. This variable belongs to the scope created by function <code>foo()</code>:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// The function scope</span>
  <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token comment">// logs 0</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token comment">// ReferenceError: count is not defined</span>
</code></pre>
<p><code>count</code> is freely accessed within the scope of <code>foo()</code>.</p>
<p>However, outside of the <code>foo()</code> scope, <code>count</code> is inaccessible. If you try to access <code>count</code> from outside anyways, JavaScript throws <code>ReferenceError: count is not defined</code>.</p>
<p>If you've defined a variable inside of a function or code block, then you can use this variable only within that function or code block. The above example demonstrates this behavior.</p>
<p>Now, let's see a general formulation:</p>
<blockquote>
<p><em>The scope</em> is a space policy that rules the accessibility of variables.</p>
</blockquote>
<p>An immediate property arises — the scope <em>isolates</em> variables. That's great because <em>different scopes can have variables with the same name</em>.</p>
<p>You can reuse common variables names (<code>count</code>, <code>index</code>, <code>current</code>, <code>value</code>, etc) in different scopes without collisions.</p>
<p><code>foo()</code> and <code>bar()</code> function scopes have their own, but same named, variables <code>count</code>:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// "foo" function scope</span>
  <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token comment">// logs 0</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// "bar" function scope</span>
  <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token comment">// logs 1</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><code>count</code> variables from <code>foo()</code> and <code>bar()</code> function scopes do not collide.</p>
<h2 id="2-scopes-nesting"><a href="https://dmitripavlutin.com/javascript-closure/#2-scopes-nesting"></a>2. Scopes nesting<a aria-hidden="true" class="anchor-heading icon-link" href="#2-scopes-nesting"></a></h2>
<p>Let's play a bit more with scopes, and nest one scope into another. For example, the function <code>innerFunc()</code> is nested inside an outer function <code>outerFunc()</code>.</p>
<p>How would the 2 function scopes interact with each other? Can I access the variable <code>outerVar</code> of <code>outerFunc()</code> from within <code>innerFunc()</code> scope?</p>
<p>Let's try that in the example:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">outerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// the outer scope</span>
  <span class="token keyword">let</span> outerVar <span class="token operator">=</span> <span class="token string">"I am outside!"</span>
  <span class="token keyword">function</span> <span class="token function">innerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// the inner scope</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>outerVar<span class="token punctuation">)</span> <span class="token comment">// => logs "I am outside!"</span>
  <span class="token punctuation">}</span>
  <span class="token function">innerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">outerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Indeed, <code>outerVar</code> variable is accessible inside <code>innerFunc()</code> scope. The variables of the outer scope are accessible inside the inner scope.</p>
<p>Now you know 2 interesting things:</p>
<ul>
<li><em>Scopes can be nested</em></li>
<li><em>The variables of the outer scope are accessible inside the inner scope</em></li>
</ul>
<h2 id="3-the-lexical-scope">3. The lexical scope<a aria-hidden="true" class="anchor-heading icon-link" href="#3-the-lexical-scope"></a></h2>
<p>How does JavaScript understand that <code>outerVar</code> inside <code>innerFunc()</code> corresponds to the variable <code>outerVar</code> of <code>outerFunc()</code>?</p>
<p>JavaScript implements a scoping mechanism named <em>lexical scoping</em> (or static scoping). Lexical scoping means that the accessibility of variables is determined by the position of the variables inside the nested scopes.</p>
<p>Simpler, the lexical scoping means that inside the inner scope you can access variables of outer scopes.</p>
<p>It's called <em>lexical</em> (or <em>static</em>) because the engine determines (at <a href="https://en.wikipedia.org/wiki/Lexical_analysis">lexing time</a>) the nesting of scopes just by looking at the JavaScript source code, without executing it.</p>
<p>The distilled idea of the lexical scope:</p>
<blockquote>
<p><em>The lexical scope</em> consists of outer scopes determined statically.</p>
</blockquote>
<p>For example:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> myGlobal <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> myVar <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>myGlobal<span class="token punctuation">)</span> <span class="token comment">// logs "0"</span>
  <span class="token keyword">function</span> <span class="token function">innerOfFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> myInnerVar <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">,</span> myGlobal<span class="token punctuation">)</span> <span class="token comment">// logs "1 0"</span>
    <span class="token keyword">function</span> <span class="token function">innerOfInnerOfFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>myInnerVar<span class="token punctuation">,</span> myVar<span class="token punctuation">,</span> myGlobal<span class="token punctuation">)</span> <span class="token comment">// logs "2 1 0"</span>
    <span class="token punctuation">}</span>
    <span class="token function">innerOfInnerOfFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">innerOfFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>The lexical scope of <code>innerOfInnerOfFunc()</code> consits of scopes of <code>innerOfFunc()</code>, <code>func()</code> and global scope (the outermost scope). Within <code>innerOfInnerOfFunc()</code> you can access the lexical scope variables <code>myInnerVar</code>, <code>myVar</code> and <code>myGlobal</code>.</p>
<p>The lexical scope of <code>innerFunc()</code> consists of <code>func()</code> and global scope. Within <code>innerOfFunc()</code> you can access the lexical scope variables <code>myVar</code> and <code>myGlobal</code>.</p>
<p>Finally, the lexical scope of <code>func()</code> consists of only the global scope. Within <code>func()</code> you can access the lexical scope variable <code>myGlobal</code>.</p>
<h2 id="4-the-closure"><a href="https://dmitripavlutin.com/javascript-closure/#4-the-closure"></a>4. The closure<a aria-hidden="true" class="anchor-heading icon-link" href="#4-the-closure"></a></h2>
<p>Ok, the lexical scope allows to access the variables statically of the outer scopes. There's just one step until the closure!</p>
<p>Let's take a look again at the <code>outerFunc()</code> and <code>innerFunc()</code> example:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">outerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> outerVar <span class="token operator">=</span> <span class="token string">"I am outside!"</span>
  <span class="token keyword">function</span> <span class="token function">innerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>outerVar<span class="token punctuation">)</span> <span class="token comment">// => logs "I am outside!"</span>
  <span class="token punctuation">}</span>
  <span class="token function">innerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">outerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Inside the <code>innerFunc()</code> scope, the variable <code>outerVar</code> is accessed from the lexical scope. That's known already.</p>
<p>Note that <code>innerFunc()</code> invocation happens inside its lexical scope (the scope of <code>outerFunc()</code>).</p>
<p>Let's make a change: <code>innerFunc()</code> to be invoked outside of its lexical scope: in a function <code>exec()</code>. Would <code>innerFunc()</code> still be able to access <code>outerVar</code>?</p>
<p>Let's make the adjustments to the code snippet:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">outerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> outerVar <span class="token operator">=</span> <span class="token string">"I am outside!"</span>
  <span class="token keyword">function</span> <span class="token function">innerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>outerVar<span class="token punctuation">)</span> <span class="token comment">// => logs "I am outside!"</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> innerFunc
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> myInnerFunc <span class="token operator">=</span> <span class="token function">outerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">myInnerFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Now <code>innerFunc()</code> is executed outside of its lexical scope, but exactly in the scope of <code>exec()</code> function. And what's important:</p>
<p><em><code>innerFunc()</code> still has access to <code>outerVar</code> from its lexical scope, even being executed outside of its lexical scope.</em></p>
<p>In other words, <code>innerFunc()</code> <em>closes over</em> (a.k.a. captures, remembers) the variable <code>outerVar</code> from its lexical scope.</p>
<p>In other words, <code>innerFunc()</code> is a <em>closure</em> because it closes over the variable <code>outerVar</code> from its lexical scope.</p>
<p>You've made the final step to understanding what a closure is:</p>
<blockquote>
<p><em>The closure</em> is a function that accesses its lexical scope even executed outside of its lexical scope.</p>
</blockquote>
<p>Simpler, the closure is a function that remembers the variables from the place where it is defined, regardless of where it is executed later.</p>
<p>A rule of thumb to identify a closure: if inside a function you see an alien variable (not defined inside that function), most likely that function is a closure because the alien variable is captured.</p>
<p>In the previous code snippet, <code>outerVar</code> is an alien variable inside the closure <code>innerFunc()</code> captured from <code>outerFunc()</code> scope.</p>
<p>Let's continue with examples that demonstrate why the closure is useful.</p>
<h2 id="5-closure-examples"><a href="https://dmitripavlutin.com/javascript-closure/#5-closure-examples"></a>5. Closure examples<a aria-hidden="true" class="anchor-heading icon-link" href="#5-closure-examples"></a></h2>
<h3 id="51-event-handler"><a href="https://dmitripavlutin.com/javascript-closure/#51-event-handler"></a>5.1 Event handler<a aria-hidden="true" class="anchor-heading icon-link" href="#51-event-handler"></a></h3>
<p>Let's display how many times a button is clicked:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> countClicked <span class="token operator">=</span> <span class="token number">0</span>
myButton<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  countClicked<span class="token operator">++</span>
  myText<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You clicked </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>countClicked<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> times</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>When the button is clicked, <code>handleClick()</code> is executed somewhere inside of the DOM code. The execution happens far from the place of the definition.</p>
<p>But being a closure, <code>handleClick()</code> captures <code>countClicked</code> from the lexical scope and updates it when a click happens. Even more, <code>myText</code> is captured too.</p>
<h3 id="52-callbacks"><a href="https://dmitripavlutin.com/javascript-closure/#52-callbacks"></a>5.2 Callbacks<a aria-hidden="true" class="anchor-heading icon-link" href="#52-callbacks"></a></h3>
<p>Capturing variables from the lexical scope is useful in callbacks.</p>
<p>A <code>setTimeout()</code> callback:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">"Hello, World!"</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token comment">// logs "Hello, World!"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre>
<p>The <code>callback()</code> is a closure because it captures the variable <code>message</code>.</p>
<p>An iterator function for <code>forEach()</code>:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> countEven <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
items<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>number <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    countEven<span class="token operator">++</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
countEven <span class="token comment">// => 2</span>
</code></pre>
<p>The <code>iterator</code> is a closure because it captures <code>countEven</code> variable.</p>
<h3 id="53-functional-programming"><a href="https://dmitripavlutin.com/javascript-closure/#53-functional-programming"></a>5.3 Functional programming<a aria-hidden="true" class="anchor-heading icon-link" href="#53-functional-programming"></a></h3>
<p>Currying happens when a function returns another function until the arguments are fully supplied.</p>
<p>For example:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token keyword">function</span> <span class="token function">executeMultiply</span><span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> a <span class="token operator">*</span> b
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> double <span class="token operator">=</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">double</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// => 6</span>
<span class="token function">double</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// => 10</span>
<span class="token keyword">const</span> triple <span class="token operator">=</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">triple</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// => 12</span>
</code></pre>
<p><code>multiply</code> is a curried function that returns another function.</p>
<p>Currying, an important concept of functional programming, is also possible thanks to closures.</p>
<p><code>executeMultiply(b)</code> is a closure that captures <code>a</code> from its lexical scope. When the closure is invoked, the captured variable <code>a</code> and the parameter <code>b</code> are used to calculate <code>a * b</code>.</p>
<h2 id="6-conclusion"><a href="https://dmitripavlutin.com/javascript-closure/#6-conclusion"></a>6. Conclusion<a aria-hidden="true" class="anchor-heading icon-link" href="#6-conclusion"></a></h2>
<p>The scope rules the accessibility of variables. There can be a function or a block scope.</p>
<p>The lexical scope allows a function scope to access statically the variables from the outer scopes.</p>
<p>Finally, a closure is a function that captures variables from its lexical scope. In simple words, the closure remembers the variables from the place where it is defined, no matter where it is executed.</p>
<p>Closures allow event handlers, callbacks to capture variables. They're used in functional programming. Moreover, you could be asked how closures work during a Frontend job interview.</p>
<p>What about a challenge? <a href="https://dmitripavlutin.com/javascript-closures-interview-questions/">7 Interview Questions on JavaScript Closures. Can You Answer Them?</a></p></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#1-the-scope" title="1. The scope">1. The scope</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-scopes-nesting" title="2. Scopes nesting">2. Scopes nesting</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#3-the-lexical-scope" title="3. The lexical scope">3. The lexical scope</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#4-the-closure" title="4. The closure">4. The closure</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#5-closure-examples" title="5. Closure examples">5. Closure examples</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#51-event-handler" title="5.1 Event handler">5.1 Event handler</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#52-callbacks" title="5.2 Callbacks">5.2 Callbacks</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#53-functional-programming" title="5.3 Functional programming">5.3 Functional programming</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#6-conclusion" title="6. Conclusion">6. Conclusion</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"vf7legeg0iluoyi3l1haomp","title":"JavaScript Closure: A Simple Explanation","desc":"","updated":1675316794256,"created":1675315983636,"custom":{},"fname":"dev.javascript.dmitri-pavlutin--javascript-closure","type":"note","vault":{"fsPath":"vault"},"contentHash":"5aa8d66d1225a3379bbfb0fbcfd85acd","links":[],"anchors":{"1-the-scope":{"type":"header","text":"1. The scope","value":"1-the-scope","line":18,"column":0,"depth":2},"2-scopes-nesting":{"type":"header","text":"2. Scopes nesting","value":"2-scopes-nesting","line":71,"column":0,"depth":2},"3-the-lexical-scope":{"type":"header","text":"3. The lexical scope","value":"3-the-lexical-scope","line":99,"column":0,"depth":2},"4-the-closure":{"type":"header","text":"4. The closure","value":"4-the-closure","line":139,"column":0,"depth":2},"5-closure-examples":{"type":"header","text":"5. Closure examples","value":"5-closure-examples","line":199,"column":0,"depth":2},"51-event-handler":{"type":"header","text":"5.1 Event handler","value":"51-event-handler","line":201,"column":0,"depth":3},"52-callbacks":{"type":"header","text":"5.2 Callbacks","value":"52-callbacks","line":217,"column":0,"depth":3},"53-functional-programming":{"type":"header","text":"5.3 Functional programming","value":"53-functional-programming","line":247,"column":0,"depth":3},"6-conclusion":{"type":"header","text":"6. Conclusion","value":"6-conclusion","line":272,"column":0,"depth":2}},"children":[],"parent":"IowIScQvzEu3KQ4dvwPTt","data":{}},"body":"\u003ch1 id=\"javascript-closure-a-simple-explanation\"\u003eJavaScript Closure: A Simple Explanation\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#javascript-closure-a-simple-explanation\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://dmitripavlutin.com/javascript-closure/\"\u003ehttps://dmitripavlutin.com/javascript-closure/\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eThe callbacks, event handlers, higher-order functions can access outer scope variables thanks to the closure. The closure concept is important in functional programming and is often asked during the JavaScript coding interview.\u003c/p\u003e\n\u003cp\u003eWhile being used everywhere, closures are difficult to grasp. If you haven't had your \"Aha!\" moment in understanding closures, then this post is for you.\u003c/p\u003e\n\u003cp\u003eI'll start with the fundamental terms: scope and lexical scope. Then, after grasping the basics, you'll need just one step to finally understand closures.\u003c/p\u003e\n\u003cp\u003eBefore starting, I suggest you resist the urge to skip the scope and lexical scope sections. These concepts are crucial to closures, and if you get them well, the idea of closure becomes self-evident.\u003c/p\u003e\n\u003ch2 id=\"1-the-scope\"\u003e\u003ca href=\"https://dmitripavlutin.com/javascript-closure/#1-the-scope\"\u003e\u003c/a\u003e1. The scope\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#1-the-scope\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eWhen you define a variable, you want it to exist within some boundaries. E.g. a \u003ccode\u003eresult\u003c/code\u003e variable makes sense to exist within a \u003ccode\u003ecalculate()\u003c/code\u003e function, as an internal detail. Outside of the \u003ccode\u003ecalculate()\u003c/code\u003e, the \u003ccode\u003eresult\u003c/code\u003e variable is useless.\u003c/p\u003e\n\u003cp\u003eThe accessibility of variables is managed by \u003cem\u003escope\u003c/em\u003e. You are free to access the variable defined within its scope. But outside of that scope, the variable is inaccessible.\u003c/p\u003e\n\u003cp\u003eIn JavaScript, a scope is created by a function or a code block.\u003c/p\u003e\n\u003cp\u003eLet's see how the scope affects the availability of a variable \u003ccode\u003ecount\u003c/code\u003e. This variable belongs to the scope created by function \u003ccode\u003efoo()\u003c/code\u003e:\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003efoo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// The function scope\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e count \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\n  \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecount\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// logs 0\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token function\"\u003efoo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecount\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ReferenceError: count is not defined\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003ecount\u003c/code\u003e is freely accessed within the scope of \u003ccode\u003efoo()\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eHowever, outside of the \u003ccode\u003efoo()\u003c/code\u003e scope, \u003ccode\u003ecount\u003c/code\u003e is inaccessible. If you try to access \u003ccode\u003ecount\u003c/code\u003e from outside anyways, JavaScript throws \u003ccode\u003eReferenceError: count is not defined\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eIf you've defined a variable inside of a function or code block, then you can use this variable only within that function or code block. The above example demonstrates this behavior.\u003c/p\u003e\n\u003cp\u003eNow, let's see a general formulation:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cem\u003eThe scope\u003c/em\u003e is a space policy that rules the accessibility of variables.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eAn immediate property arises — the scope \u003cem\u003eisolates\u003c/em\u003e variables. That's great because \u003cem\u003edifferent scopes can have variables with the same name\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eYou can reuse common variables names (\u003ccode\u003ecount\u003c/code\u003e, \u003ccode\u003eindex\u003c/code\u003e, \u003ccode\u003ecurrent\u003c/code\u003e, \u003ccode\u003evalue\u003c/code\u003e, etc) in different scopes without collisions.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003efoo()\u003c/code\u003e and \u003ccode\u003ebar()\u003c/code\u003e function scopes have their own, but same named, variables \u003ccode\u003ecount\u003c/code\u003e:\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003efoo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// \"foo\" function scope\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e count \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\n  \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecount\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// logs 0\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003ebar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// \"bar\" function scope\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e count \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\n  \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecount\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// logs 1\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token function\"\u003efoo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token function\"\u003ebar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003ecount\u003c/code\u003e variables from \u003ccode\u003efoo()\u003c/code\u003e and \u003ccode\u003ebar()\u003c/code\u003e function scopes do not collide.\u003c/p\u003e\n\u003ch2 id=\"2-scopes-nesting\"\u003e\u003ca href=\"https://dmitripavlutin.com/javascript-closure/#2-scopes-nesting\"\u003e\u003c/a\u003e2. Scopes nesting\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#2-scopes-nesting\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eLet's play a bit more with scopes, and nest one scope into another. For example, the function \u003ccode\u003einnerFunc()\u003c/code\u003e is nested inside an outer function \u003ccode\u003eouterFunc()\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eHow would the 2 function scopes interact with each other? Can I access the variable \u003ccode\u003eouterVar\u003c/code\u003e of \u003ccode\u003eouterFunc()\u003c/code\u003e from within \u003ccode\u003einnerFunc()\u003c/code\u003e scope?\u003c/p\u003e\n\u003cp\u003eLet's try that in the example:\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eouterFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// the outer scope\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e outerVar \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"I am outside!\"\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003einnerFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// the inner scope\u003c/span\u003e\n    \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eouterVar\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// =\u003e logs \"I am outside!\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003einnerFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token function\"\u003eouterFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIndeed, \u003ccode\u003eouterVar\u003c/code\u003e variable is accessible inside \u003ccode\u003einnerFunc()\u003c/code\u003e scope. The variables of the outer scope are accessible inside the inner scope.\u003c/p\u003e\n\u003cp\u003eNow you know 2 interesting things:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cem\u003eScopes can be nested\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003cem\u003eThe variables of the outer scope are accessible inside the inner scope\u003c/em\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"3-the-lexical-scope\"\u003e3. The lexical scope\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#3-the-lexical-scope\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eHow does JavaScript understand that \u003ccode\u003eouterVar\u003c/code\u003e inside \u003ccode\u003einnerFunc()\u003c/code\u003e corresponds to the variable \u003ccode\u003eouterVar\u003c/code\u003e of \u003ccode\u003eouterFunc()\u003c/code\u003e?\u003c/p\u003e\n\u003cp\u003eJavaScript implements a scoping mechanism named \u003cem\u003elexical scoping\u003c/em\u003e (or static scoping). Lexical scoping means that the accessibility of variables is determined by the position of the variables inside the nested scopes.\u003c/p\u003e\n\u003cp\u003eSimpler, the lexical scoping means that inside the inner scope you can access variables of outer scopes.\u003c/p\u003e\n\u003cp\u003eIt's called \u003cem\u003elexical\u003c/em\u003e (or \u003cem\u003estatic\u003c/em\u003e) because the engine determines (at \u003ca href=\"https://en.wikipedia.org/wiki/Lexical_analysis\"\u003elexing time\u003c/a\u003e) the nesting of scopes just by looking at the JavaScript source code, without executing it.\u003c/p\u003e\n\u003cp\u003eThe distilled idea of the lexical scope:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cem\u003eThe lexical scope\u003c/em\u003e consists of outer scopes determined statically.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eFor example:\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e myGlobal \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003efunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e myVar \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\n  \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emyGlobal\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// logs \"0\"\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003einnerOfFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e myInnerVar \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\n    \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emyVar\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e myGlobal\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// logs \"1 0\"\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003einnerOfInnerOfFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emyInnerVar\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e myVar\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e myGlobal\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// logs \"2 1 0\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003einnerOfInnerOfFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003einnerOfFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token function\"\u003efunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe lexical scope of \u003ccode\u003einnerOfInnerOfFunc()\u003c/code\u003e consits of scopes of \u003ccode\u003einnerOfFunc()\u003c/code\u003e, \u003ccode\u003efunc()\u003c/code\u003e and global scope (the outermost scope). Within \u003ccode\u003einnerOfInnerOfFunc()\u003c/code\u003e you can access the lexical scope variables \u003ccode\u003emyInnerVar\u003c/code\u003e, \u003ccode\u003emyVar\u003c/code\u003e and \u003ccode\u003emyGlobal\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThe lexical scope of \u003ccode\u003einnerFunc()\u003c/code\u003e consists of \u003ccode\u003efunc()\u003c/code\u003e and global scope. Within \u003ccode\u003einnerOfFunc()\u003c/code\u003e you can access the lexical scope variables \u003ccode\u003emyVar\u003c/code\u003e and \u003ccode\u003emyGlobal\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eFinally, the lexical scope of \u003ccode\u003efunc()\u003c/code\u003e consists of only the global scope. Within \u003ccode\u003efunc()\u003c/code\u003e you can access the lexical scope variable \u003ccode\u003emyGlobal\u003c/code\u003e.\u003c/p\u003e\n\u003ch2 id=\"4-the-closure\"\u003e\u003ca href=\"https://dmitripavlutin.com/javascript-closure/#4-the-closure\"\u003e\u003c/a\u003e4. The closure\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#4-the-closure\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eOk, the lexical scope allows to access the variables statically of the outer scopes. There's just one step until the closure!\u003c/p\u003e\n\u003cp\u003eLet's take a look again at the \u003ccode\u003eouterFunc()\u003c/code\u003e and \u003ccode\u003einnerFunc()\u003c/code\u003e example:\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eouterFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e outerVar \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"I am outside!\"\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003einnerFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eouterVar\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// =\u003e logs \"I am outside!\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003einnerFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token function\"\u003eouterFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eInside the \u003ccode\u003einnerFunc()\u003c/code\u003e scope, the variable \u003ccode\u003eouterVar\u003c/code\u003e is accessed from the lexical scope. That's known already.\u003c/p\u003e\n\u003cp\u003eNote that \u003ccode\u003einnerFunc()\u003c/code\u003e invocation happens inside its lexical scope (the scope of \u003ccode\u003eouterFunc()\u003c/code\u003e).\u003c/p\u003e\n\u003cp\u003eLet's make a change: \u003ccode\u003einnerFunc()\u003c/code\u003e to be invoked outside of its lexical scope: in a function \u003ccode\u003eexec()\u003c/code\u003e. Would \u003ccode\u003einnerFunc()\u003c/code\u003e still be able to access \u003ccode\u003eouterVar\u003c/code\u003e?\u003c/p\u003e\n\u003cp\u003eLet's make the adjustments to the code snippet:\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eouterFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e outerVar \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"I am outside!\"\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003einnerFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eouterVar\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// =\u003e logs \"I am outside!\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e innerFunc\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eexec\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e myInnerFunc \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eouterFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003emyInnerFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token function\"\u003eexec\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow \u003ccode\u003einnerFunc()\u003c/code\u003e is executed outside of its lexical scope, but exactly in the scope of \u003ccode\u003eexec()\u003c/code\u003e function. And what's important:\u003c/p\u003e\n\u003cp\u003e\u003cem\u003e\u003ccode\u003einnerFunc()\u003c/code\u003e still has access to \u003ccode\u003eouterVar\u003c/code\u003e from its lexical scope, even being executed outside of its lexical scope.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eIn other words, \u003ccode\u003einnerFunc()\u003c/code\u003e \u003cem\u003ecloses over\u003c/em\u003e (a.k.a. captures, remembers) the variable \u003ccode\u003eouterVar\u003c/code\u003e from its lexical scope.\u003c/p\u003e\n\u003cp\u003eIn other words, \u003ccode\u003einnerFunc()\u003c/code\u003e is a \u003cem\u003eclosure\u003c/em\u003e because it closes over the variable \u003ccode\u003eouterVar\u003c/code\u003e from its lexical scope.\u003c/p\u003e\n\u003cp\u003eYou've made the final step to understanding what a closure is:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cem\u003eThe closure\u003c/em\u003e is a function that accesses its lexical scope even executed outside of its lexical scope.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eSimpler, the closure is a function that remembers the variables from the place where it is defined, regardless of where it is executed later.\u003c/p\u003e\n\u003cp\u003eA rule of thumb to identify a closure: if inside a function you see an alien variable (not defined inside that function), most likely that function is a closure because the alien variable is captured.\u003c/p\u003e\n\u003cp\u003eIn the previous code snippet, \u003ccode\u003eouterVar\u003c/code\u003e is an alien variable inside the closure \u003ccode\u003einnerFunc()\u003c/code\u003e captured from \u003ccode\u003eouterFunc()\u003c/code\u003e scope.\u003c/p\u003e\n\u003cp\u003eLet's continue with examples that demonstrate why the closure is useful.\u003c/p\u003e\n\u003ch2 id=\"5-closure-examples\"\u003e\u003ca href=\"https://dmitripavlutin.com/javascript-closure/#5-closure-examples\"\u003e\u003c/a\u003e5. Closure examples\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#5-closure-examples\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"51-event-handler\"\u003e\u003ca href=\"https://dmitripavlutin.com/javascript-closure/#51-event-handler\"\u003e\u003c/a\u003e5.1 Event handler\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#51-event-handler\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eLet's display how many times a button is clicked:\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e countClicked \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\nmyButton\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eaddEventListener\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"click\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003ehandleClick\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  countClicked\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\n  myText\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003einnerText\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003eYou clicked \u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ecountClicked\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e times\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWhen the button is clicked, \u003ccode\u003ehandleClick()\u003c/code\u003e is executed somewhere inside of the DOM code. The execution happens far from the place of the definition.\u003c/p\u003e\n\u003cp\u003eBut being a closure, \u003ccode\u003ehandleClick()\u003c/code\u003e captures \u003ccode\u003ecountClicked\u003c/code\u003e from the lexical scope and updates it when a click happens. Even more, \u003ccode\u003emyText\u003c/code\u003e is captured too.\u003c/p\u003e\n\u003ch3 id=\"52-callbacks\"\u003e\u003ca href=\"https://dmitripavlutin.com/javascript-closure/#52-callbacks\"\u003e\u003c/a\u003e5.2 Callbacks\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#52-callbacks\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eCapturing variables from the lexical scope is useful in callbacks.\u003c/p\u003e\n\u003cp\u003eA \u003ccode\u003esetTimeout()\u003c/code\u003e callback:\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e message \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Hello, World!\"\u003c/span\u003e\n\u003cspan class=\"token function\"\u003esetTimeout\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003ecallback\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emessage\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// logs \"Hello, World!\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe \u003ccode\u003ecallback()\u003c/code\u003e is a closure because it captures the variable \u003ccode\u003emessage\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eAn iterator function for \u003ccode\u003eforEach()\u003c/code\u003e:\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e countEven \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e items \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e100\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\nitems\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eforEach\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eiterator\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enumber \u003cspan class=\"token operator\"\u003e%\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    countEven\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ncountEven \u003cspan class=\"token comment\"\u003e// =\u003e 2\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe \u003ccode\u003eiterator\u003c/code\u003e is a closure because it captures \u003ccode\u003ecountEven\u003c/code\u003e variable.\u003c/p\u003e\n\u003ch3 id=\"53-functional-programming\"\u003e\u003ca href=\"https://dmitripavlutin.com/javascript-closure/#53-functional-programming\"\u003e\u003c/a\u003e5.3 Functional programming\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#53-functional-programming\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eCurrying happens when a function returns another function until the arguments are fully supplied.\u003c/p\u003e\n\u003cp\u003eFor example:\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003emultiply\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eexecuteMultiply\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e a \u003cspan class=\"token operator\"\u003e*\u003c/span\u003e b\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e double \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003emultiply\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token function\"\u003edouble\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// =\u003e 6\u003c/span\u003e\n\u003cspan class=\"token function\"\u003edouble\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// =\u003e 10\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e triple \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003emultiply\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token function\"\u003etriple\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// =\u003e 12\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003emultiply\u003c/code\u003e is a curried function that returns another function.\u003c/p\u003e\n\u003cp\u003eCurrying, an important concept of functional programming, is also possible thanks to closures.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eexecuteMultiply(b)\u003c/code\u003e is a closure that captures \u003ccode\u003ea\u003c/code\u003e from its lexical scope. When the closure is invoked, the captured variable \u003ccode\u003ea\u003c/code\u003e and the parameter \u003ccode\u003eb\u003c/code\u003e are used to calculate \u003ccode\u003ea * b\u003c/code\u003e.\u003c/p\u003e\n\u003ch2 id=\"6-conclusion\"\u003e\u003ca href=\"https://dmitripavlutin.com/javascript-closure/#6-conclusion\"\u003e\u003c/a\u003e6. Conclusion\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#6-conclusion\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eThe scope rules the accessibility of variables. There can be a function or a block scope.\u003c/p\u003e\n\u003cp\u003eThe lexical scope allows a function scope to access statically the variables from the outer scopes.\u003c/p\u003e\n\u003cp\u003eFinally, a closure is a function that captures variables from its lexical scope. In simple words, the closure remembers the variables from the place where it is defined, no matter where it is executed.\u003c/p\u003e\n\u003cp\u003eClosures allow event handlers, callbacks to capture variables. They're used in functional programming. Moreover, you could be asked how closures work during a Frontend job interview.\u003c/p\u003e\n\u003cp\u003eWhat about a challenge? \u003ca href=\"https://dmitripavlutin.com/javascript-closures-interview-questions/\"\u003e7 Interview Questions on JavaScript Closures. Can You Answer Them?\u003c/a\u003e\u003c/p\u003e","noteIndex":{"id":"Iy0MoL0KnL55Br3AfTS2C","title":"Luke","desc":"","updated":1766965759366,"created":1644449449778,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"a724de3efd251cf89fe82a5860d9008b","links":[{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"life-tips","position":{"start":{"line":43,"column":5,"offset":2710},"end":{"line":43,"column":29,"offset":2734},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"life-tips","anchorHeader":"wodenokoto"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2026.articles","alias":"What I read in 2026","position":{"start":{"line":72,"column":3,"offset":4440},"end":{"line":72,"column":45,"offset":4482},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2026.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2025.articles","alias":"2025","position":{"start":{"line":73,"column":5,"offset":4487},"end":{"line":73,"column":32,"offset":4514},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2025.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2024.articles","alias":"2024","position":{"start":{"line":74,"column":5,"offset":4519},"end":{"line":74,"column":32,"offset":4546},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2024.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2023.articles","alias":"2023","position":{"start":{"line":75,"column":5,"offset":4551},"end":{"line":75,"column":32,"offset":4578},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2023.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2022.articles","alias":"2022","position":{"start":{"line":76,"column":5,"offset":4583},"end":{"line":76,"column":32,"offset":4610},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2022.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-struggled-brag-in","position":{"start":{"line":82,"column":3,"offset":4746},"end":{"line":82,"column":39,"offset":4782},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-struggled-brag-in"}}],"anchors":{"what-i-read-in-past":{"type":"header","text":"What I read in past","value":"what-i-read-in-past","line":76,"column":0,"depth":2}},"children":["zd4mq442jike0pr0wba1u3m","6hzeqsofq67gdk88flxlkhp","778ijii93yu5uwnrwmn5zi4","g1fngdjl25nes6fs3lip602","ZbdkdApFqLdks4Moq92R9","uoc5hhki3o4py15cesddu8q","9qf7j06jtdkm6rnx9ymvwb0","5zn10cvj7ajy2gh2is5nqmg","4qo9ma0z0yu1czns6pxl7y5","ok0e729ho7o09xetujkxc0m","GR5x8HnNFEN6fU2UBSEIK","yirtnlj8q24yutcf3ss1xqy","eq0wc6t7wl2wv221yb68ro4","7x2fnv4j6gxts08qk0jguny","ettkt3iClONnxpbGwBVLl","7l4knev6v613tbuoskvmbdg","hvh5bud6yp7dc89tuh95tr9","4fvoqrplw0cweo554usbjos","f8qsfql0a9v8thpeo82udfa","1swsbrhqi9jk41v9eodyi5q","SQqYupi6EFddTerBA8RRD","hjNeNc1F2JUh0lTWanH4h","qf0l4wbrc9jgooyzexmbq5v","o7xruzrah5wzqetottecss7","z1zo2mp6ddji5p317i4x9xw","v06c2tjelh341x4resa50fh","0yqesk4rcffwgyuab5x8rfa","sy2vkbtyu671chkvgn1yt8j","ufixpmxoydiccoh59kphrib","alswadkx4wb05y1z9iwfzfv","1daut9dpw70xd0zh5a7j5p4"],"parent":null,"data":{},"body":"\nHi there 👋. I'm a Front-end developer.\n\n---\n\n- 현실은 인간의 연산으로 완전히 파악할 수 없는 복잡계. 주어진 상황과 능력으로 할 수 있는 최선의 적응은 단순함과 꾸준함.\n\n  - 파산을 면하는 선에서 여러가지를 해보고 자신에게 맞는 걸 위주로 꾸준히. 그를 위해 단순, 편안, 쾌적함이 필요.\n\n- 🥱 -\u003e 🤔💡🌱 - [On The Death of Daydreaming](https://www.afterbabel.com/p/on-the-death-of-daydreaming)\n  - boredom -\u003e easy fun -\u003e art -\u003e profit?\n\n\u003e I've often described my motivation for building software to others using imagery: I like to go find a secluded beach, build a large, magnificent sand castle, and then walk away. Will anyone notice? Probably not. Will the waves eventually destroy it? Yep. Did I still get immense satisfaction? Absolutely. - [aliasxneo](https://news.ycombinator.com/item?id=41497113)\n\n\u003e We love to see the process, not just the result. The imperfections in your work can be beautiful if they show your struggle for perfection, not a lack of care. - [ralphammer](https://ralphammer.com/is-perfection-boring/)\n\n\u003e Simplicity, even if it sacrifices some ideal functionality has better survival characteristics than the-right-thing. - [The Rise of Worse is Better](https://www.dreamsongs.com/RiseOfWorseIsBetter.html)\n\n\u003e [Roberto Blake was talking about making 100 crappy videos](https://www.youtube.com/watch?v=OnUBaQ1Sp_E) to get better over time. Putting in the reps and improving a little bit each time.\n\u003e\n\u003e Putting in the work without expecting any external reward at first (eg views, followers, likes, etc) will pay off in the long run. - [100 Scrappy Things](https://www.florin-pop.com/blog/100-scrappy-things/)\n\n\u003e Make the difficult habitual, the habitual easy, and the easy beautiful. - [Constantin S. Stanislavski](https://www.goodreads.com/quotes/7102271-make-the-difficult-habitual-the-habitual-easy-and-the-easy)\n\n\u003e A good match is a **structured** dance, where players aim to **score** while they are following well-defined **rules**. This **freedom within a structure** is what makes it fun. - [ralphammer](https://ralphammer.com/how-to-get-started/)\n\n- [Pivot Points](https://longform.asmartbear.com/pivot-points/)\n\n  - non-judgmental aspects of personality that can be strengths in some contexts and weaknesses in others\n  - Pivot Points are fixed in the short term\n\n- [Hedged Bets](https://longform.asmartbear.com/predict-the-future/#hedged-bets)\n  - trading slightly less maximum upside for predictable, net-positive outcomes.\n\n\u003e “Motivation often comes after starting, not before. Action produces momentum.”\n\u003e [When you start a new habit, it should take less than two minutes to do.](https://jamesclear.com/how-to-stop-procrastinating)\n\u003e\n\u003e - James Clear\n\n\u003e Focus is more about **not** keeping busy when you need to wait for something.  \n\u003e Eat the boredom for a minute.\n\u003e\n\u003e - [[life-tips#wodenokoto]]\n\n\u003e [4 minutes run hard enough to push heart rate to 90%, 3 minutes recover, repeat 4 times](https://news.ycombinator.com/item?id=34213181)\n\u003e\n\u003e - https://www.ntnu.edu/cerg/advice\n\u003e - [Get running with Couch to 5K](https://www.nhs.uk/live-well/exercise/running-and-aerobic-exercises/get-running-with-couch-to-5k/)\n\n\u003e [recommended routine - bodyweightfitness](https://www.reddit.com/r/bodyweightfitness/wiki/kb/recommended_routine/) - I Don't Have This Much Time!\n\u003e\n\u003e - Don't workout at all (saves anywhere from 20 to 60 minutes, but really, really, really, really, really, really, really, really, really not recommended)\n\n\u003e 도무지 읽히지 않는 책 앞에서 내가 택한 방법은 펼쳐진 페이지 앞에서 멍때리기이다. 다르게 표현하면 이렇다. 펼쳐진 두 페이지 앞에서 오래 머물기.\n\u003e\n\u003e 책을 펼쳐놓는 것으로 충분하다. 읽지 못해도 좋다. 매일 정해진 진도를 나가야 하는 학교 수업이 아니니까. 하지만 읽지 않아도 괜찮다고 해서 펼쳐두지조차 않으면 곤란하다. 가능한 한 자주 책을 펼쳐두도록 하자. 전혀 읽지 않고 멍하니 바라보고 있다가 다시 덮게 되더라도\n\u003e\n\u003e - 막막한 독서. 시로군. P.10~13\n\n\u003e I think it should be everyone's primary focus to sleep well, drink water, get outside, get active, and eat generally decently. I hate to say it, but if you're not eating a good amount of vegetables and fruit, decent protein, sleep, etc, no amount of XYZ will catch up to that detriment. - [CE02](https://news.ycombinator.com/item?id=35056071)\n\n\u003e My real battle is doing good versus doing nothing. - [Deirdre Sullivan](https://www.npr.org/2005/08/08/4785079/always-go-to-the-funeral)\n\n[Kind Engineering](https://kind.engineering/) - How To Engineer Kindness\n\n\u003e Sometimes magic is just someone spending more time on something than anyone else might reasonably expect. - [Teller](https://www.goodreads.com/quotes/6641527-sometimes-magic-is-just-someone-spending-more-time-on-something)\n\n---\n\n## What I read in past\n\n- [[What I read in 2026|read.2026.articles]]\n  - [[2025|read.2025.articles]]\n  - [[2024|read.2024.articles]]\n  - [[2023|read.2023.articles]]\n  - [[2022|read.2022.articles]]\n- 📝 [Gists](https://gist.github.com/Luke-SNAW)\n- 📜 [Journals](https://luke-snaw.github.io/Luke-SNAW__netlify-CMS.github.io/)\n\n---\n\n- [[journal.what-i-struggled-brag-in]]\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":false,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.115.0","enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Luke SNAW","description":"Personal knowledge space"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","siteUrl":"https://luke-snaw.github.io/","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"vf7legeg0iluoyi3l1haomp"},"buildId":"wirstT2ztC8OQsbzKjhvw","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>