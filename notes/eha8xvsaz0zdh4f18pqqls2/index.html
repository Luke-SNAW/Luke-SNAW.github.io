<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>DB</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="DB"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://luke-snaw.github.io//notes/eha8xvsaz0zdh4f18pqqls2/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="7/1/2022"/><meta property="article:modified_time" content="4/1/2025"/><link rel="canonical" href="https://luke-snaw.github.io//notes/eha8xvsaz0zdh4f18pqqls2/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9d8e0603730b15a3.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/vOE8u-mg___OsOsz4tjEg/_buildManifest.js" defer=""></script><script src="/_next/static/vOE8u-mg___OsOsz4tjEg/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="db">DB<a aria-hidden="true" class="anchor-heading icon-link" href="#db"></a></h1>
<h2 id="collections">Collections<a aria-hidden="true" class="anchor-heading icon-link" href="#collections"></a></h2>
<ul>
<li>
<p><a href="https://gvwilson.github.io/sql-tutorial/">SQL for the Weary</a></p>
</li>
<li>
<p><a href="https://rahulraj.io/a-better-deletion-approach-than-soft-delete/">Use cases of soft delete</a></p>
<blockquote>
<ul>
<li>You want to delete records, but also want to retain them for n number of days, just for a safer side against accidental deletion.</li>
<li>You want to exclude some records (permanent retain) under explicit requirements, even if they match the criteria of an eligible record to be deleted.</li>
<li>You don't want to delete the actual resource before returning the resource back. Basically, deletion before returning the value is not desired.</li>
<li>You don't want to modify existing table schema(s) to accommodate soft delete key.</li>
<li>You want the tables as loosely coupled as possible without having to worry about deletion logic.</li>
</ul>
</blockquote>
</li>
<li>
<p><a href="https://brandur.org/soft-deletion">Soft Deletion Probably Isn't Worth It</a></p>
<ul>
<li><a href="https://news.ycombinator.com/item?id=32156009">https://news.ycombinator.com/item?id=32156009</a></li>
<li><a href="https://brandur.org/fragments/deleted-record-insert">Easy, alternative soft deletion: <code>deleted_record_insert</code></a></li>
</ul>
</li>
<li>
<p><a href="https://sirupsen.com/index-merges">Index Merges vs Composite Indexes in Postgres and MySQL</a></p>
<blockquote>
<p>Composite indexes are about 10x faster than index merges. In Postgres, the gap is larger than in MySQL because Postgres doesn't support index-only scans for queries that involve index merges.</p>
</blockquote>
</li>
<li>
<p><a href="https://planetscale.com/courses/mysql-for-developers/introduction/course-introduction">MySQL for Developers</a> <a class="color-tag" style="--tag-color: #c77986;" href="/notes/0ce4gh9w22elz738jbxchfo">#bookshelf</a></p>
</li>
<li>
<p><a href="https://planetscale.com/blog/how-does-database-sharding-work">How does database sharding work?</a></p>
<blockquote>
<p>why are you not using a database that does sharding for you? Over the past few years the so-called “serverless” database has gotten a lot more traction.</p>
</blockquote>
<blockquote>
<p>This is the most important paragraph in the article. In a world where things like Dynamo/Cassandra or Spanner/Cockroach exist, manually-sharded DB solutions are pretty much entirely obsolete. Spanner exists because Google got so sick of people building and maintaining bespoke solutions for replication and resharding, which would inevitably have their own set of quirks, bugs, consistency gaps, scaling limits, and manual operations required to reshard or rebalance from time to time. When it's part of the database itself, all those problems just... disappear. It's like a single database that just happens to spread itself across multiple machines. It's an actual distributed cloud solution.<br>
My current employer uses sharded and replicated Postgres via RDS. Even basic things like deploying schema changes to every shard are an unbelievable pain in the ass, and changing the number of shards on a major database is a high-touch, multi-day operation. After having worked with Spanner in the past, it's like going back to the stone age, like we're only a step above babysitting individual machines in a closet. Nobody should do this. — <a href="https://news.ycombinator.com/item?id=35478332">GeneralMayhem</a></p>
</blockquote>
</li>
<li>
<p><a href="https://iorilan.medium.com/a-5-years-tech-lead-said-they-shard-a-database-to-scale-but-then-he-failed-to-answer-this-question-8be39115dcb0">A 5 years+ tech lead said they shard a database to scale but then he failed to answer this question</a></p>
</li>
<li>
<p><a href="https://martinfowler.com/bliki/OrmHate.html">OrmHate</a></p>
<blockquote>
<p>Essentially the ORM can handle about 80-90% of the mapping problems, but that last chunk always needs careful work by somebody who really understands how a relational database works.<br>
... A framework that allows me to avoid 80% of that is worthwhile even if it is only 80%.<br>
To avoid the mapping problem you have two alternatives. Either you use the relational model in memory, or you don't use it in the database.</p>
</blockquote>
</li>
<li>
<p><a href="https://www.dedp.online/">Data Engineering Design Patterns</a> <a class="color-tag" style="--tag-color: #c77986;" href="/notes/0ce4gh9w22elz738jbxchfo">#bookshelf</a></p>
</li>
<li>
<p><a href="https://bigmachine.io/databases/its-time-to-get-over-that-stored-procedure-aversion-you-have/">It's Time To Get Over That Stored Procedure Aversion You Have</a></p>
</li>
<li>
<p><a href="https://uuid7.com/">UUIDv7: The Time-Sortable Identifier for Modern Databases</a></p>
</li>
<li>
<p><a href="https://brandur.org/nanoglyphs/026-ids">Identity Crisis: Sequence v. UUID as Primary Key</a></p>
</li>
<li>
<p><a href="https://challahscript.com/what_i_wish_someone_told_me_about_postgres">What I Wish Someone Told Me About DB(Postgres)</a></p>
</li>
<li>
<p><a href="https://www.stemlaur.com/blog/2021/03/30/tech-hibern-hate/">Stop using JPA/Hibernate</a></p>
</li>
<li>
<p><a href="https://matt.blwt.io/post/7-databases-in-7-weeks-for-2025/">7 Databases in 7 Weeks for 2025</a></p>
</li>
<li>
<p><a href="https://mccue.dev/pages/3-11-25-life-altering-postgresql-patterns">Life Altering Postgresql Patterns</a></p>
</li>
</ul>
<h2 id="postgresql">PostgreSQL<a aria-hidden="true" class="anchor-heading icon-link" href="#postgresql"></a></h2>
<ul>
<li><a href="https://dbconvert.com/blog/mysql-vs-postgresql/">MySQL vs PostgreSQL in 2023.</a></li>
<li><a href="https://gist.github.com/cpursley/c8fb81fe8a7e5df038158bdfe0f06dbb">Postgresql is enough</a>
<blockquote>
<ul>
<li><a href="https://news.ycombinator.com/item?id=39274174">As an application grows in complexity, you start to realize <em>why</em> there's a stack, rather than just a single technology to rule them all. Trying to cram everything into Postgres (or lambdas, or S3, or firebase, or whatever other tech you're trying to consolidate on) starts to get really uncomfortable.</a></li>
<li><a href="https://news.ycombinator.com/item?id=39274805">... both worked: the PG queue was never grown out of, and generally SQS was easy to work with &#x26; reliable. But what I've also seen is "Let's introduce bespoke tech that nobody on the team, including the person introducing it, has experience in, for a queue that isn't even the main focus of what we're building" — this I'm less fine with.</a></li>
</ul>
</blockquote>
</li>
<li><a href="https://sive.rs/pg">Simplify: move code into database functions</a>
<ul>
<li>Databases outlive the applications that access them.</li>
<li>the database is actually <a href="https://www.postgresql.org/docs/current/server-programming.html">quite smart</a>.</li>
<li>examples: <a href="https://www.postgresql.org/docs/current/ddl-constraints.html">constraints</a>, <a href="https://www.postgresql.org/docs/current/trigger-definition.html">triggers</a>, functions, <a href="https://www.postgresql.org/docs/current/functions-json.html#FUNCTIONS-JSON-CREATION-TABLE">create JSON directly</a>.</li>
<li>If you like JavaScript, check out the promising <a href="https://plv8.github.io/">plv8</a>.</li>
<li><strong>branching? source code history(Migrations)?</strong>
<ul>
<li><a href="https://github.com/kblok/tech-posts/blob/master/working-with-stored-procedures.md">How to work with stored procedures and not die trying</a>?</li>
<li><a href="https://dba.stackexchange.com/a/33544">You can use a DDL trigger to keep all revisions in a table in a separate database (and of course back up that database frequently).</a> - <a href="http://www.mssqltips.com/sqlservertip/2085/sql-server-ddl-triggers-to-track-all-database-changes/">SQL Server DDL Triggers to Track All Database Changes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="features-id-like-in-postgresql"><a href="https://gilslotd.com/blog/features_id_postgresql">Features I'd like in PostgreSQL</a><a aria-hidden="true" class="anchor-heading icon-link" href="#features-id-like-in-postgresql"></a></h3>
<ul>
<li>–i-am-a-dummy mode</li>
<li>Unit test mode (random result sorting)</li>
<li>Query progress in psql</li>
<li>Pandas-like join validation</li>
<li>JIT support for CREATE INDEX</li>
<li>Reduce the memory usage of prepared queries</li>
</ul>
<hr>
<strong>Children</strong>
<ol>
<li><a href="/notes/gyry0ci0rohsl5gvjpsvws1">DB tools</a></li>
<li><a href="/notes/pytn4f8md64usu5rf6luoce">Efficient Pagination Using Deferred Joins</a></li>
<li><a href="/notes/mtpui4ue21ot6ggoxp75l6s">MySQL EXPLAIN ANALYZE</a></li>
<li><a href="/notes/droc7w967f365b24yxuvm1y">SQLite</a></li>
<li><a href="/notes/gospyun0oi7prijb9ompk6j">SQLite the only database you will ever need in most cases</a></li>
<li><a href="/notes/3ygr2ph38je7kt5jgvci8mi">Temporary tables in SQLite</a></li>
<li><a href="/notes/4yc7ze5ur5zu4cr1nardho0">Things You Should Know About Databases</a></li>
<li><a href="/notes/4422qtgalzn3o8syba1riv8">We switched to cursor-based pagination</a></li>
<li><a href="/notes/xyg5ao6vugkef44ahxssq60">postgres</a></li>
</ol></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#collections" title="Collections">Collections</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#postgresql" title="PostgreSQL">PostgreSQL</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#features-id-like-in-postgresql" title="Features I&#x27;d like in PostgreSQL">Features I&#x27;d like in PostgreSQL</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"eha8xvsaz0zdh4f18pqqls2","title":"DB","desc":"","updated":1743469829656,"created":1656645858715,"custom":{},"fname":"dev.DB","type":"note","vault":{"fsPath":"vault"},"contentHash":"90f25cd75e47e492abfde4261c1f2ddf","links":[{"type":"wiki","from":{"fname":"dev.DB","id":"eha8xvsaz0zdh4f18pqqls2","vaultName":"vault"},"value":"tags.bookshelf","alias":"#bookshelf","position":{"start":{"line":16,"column":113,"offset":1455},"end":{"line":16,"column":123,"offset":1465},"indent":[]},"xvault":false,"to":{"fname":"tags.bookshelf"}},{"type":"wiki","from":{"fname":"dev.DB","id":"eha8xvsaz0zdh4f18pqqls2","vaultName":"vault"},"value":"tags.bookshelf","alias":"#bookshelf","position":{"start":{"line":29,"column":64,"offset":3728},"end":{"line":29,"column":74,"offset":3738},"indent":[]},"xvault":false,"to":{"fname":"tags.bookshelf"}}],"anchors":{"collections":{"type":"header","text":"Collections","value":"collections","line":8,"column":0,"depth":2},"postgresql":{"type":"header","text":"PostgreSQL","value":"postgresql","line":44,"column":0,"depth":2},"features-id-like-in-postgresql":{"type":"header","text":"Features I'd like in PostgreSQL","value":"features-id-like-in-postgresql","line":59,"column":0,"depth":3}},"children":["4yc7ze5ur5zu4cr1nardho0","4422qtgalzn3o8syba1riv8","mtpui4ue21ot6ggoxp75l6s","xyg5ao6vugkef44ahxssq60","gospyun0oi7prijb9ompk6j","droc7w967f365b24yxuvm1y","3ygr2ph38je7kt5jgvci8mi","gyry0ci0rohsl5gvjpsvws1","pytn4f8md64usu5rf6luoce","64t4wj87meokgs16bbcb857"],"parent":"ZbdkdApFqLdks4Moq92R9","data":{}},"body":"\u003ch1 id=\"db\"\u003eDB\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#db\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"collections\"\u003eCollections\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#collections\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://gvwilson.github.io/sql-tutorial/\"\u003eSQL for the Weary\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://rahulraj.io/a-better-deletion-approach-than-soft-delete/\"\u003eUse cases of soft delete\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cul\u003e\n\u003cli\u003eYou want to delete records, but also want to retain them for n number of days, just for a safer side against accidental deletion.\u003c/li\u003e\n\u003cli\u003eYou want to exclude some records (permanent retain) under explicit requirements, even if they match the criteria of an eligible record to be deleted.\u003c/li\u003e\n\u003cli\u003eYou don't want to delete the actual resource before returning the resource back. Basically, deletion before returning the value is not desired.\u003c/li\u003e\n\u003cli\u003eYou don't want to modify existing table schema(s) to accommodate soft delete key.\u003c/li\u003e\n\u003cli\u003eYou want the tables as loosely coupled as possible without having to worry about deletion logic.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://brandur.org/soft-deletion\"\u003eSoft Deletion Probably Isn't Worth It\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://news.ycombinator.com/item?id=32156009\"\u003ehttps://news.ycombinator.com/item?id=32156009\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://brandur.org/fragments/deleted-record-insert\"\u003eEasy, alternative soft deletion: \u003ccode\u003edeleted_record_insert\u003c/code\u003e\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://sirupsen.com/index-merges\"\u003eIndex Merges vs Composite Indexes in Postgres and MySQL\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eComposite indexes are about 10x faster than index merges. In Postgres, the gap is larger than in MySQL because Postgres doesn't support index-only scans for queries that involve index merges.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://planetscale.com/courses/mysql-for-developers/introduction/course-introduction\"\u003eMySQL for Developers\u003c/a\u003e \u003ca class=\"color-tag\" style=\"--tag-color: #c77986;\" href=\"/notes/0ce4gh9w22elz738jbxchfo\"\u003e#bookshelf\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://planetscale.com/blog/how-does-database-sharding-work\"\u003eHow does database sharding work?\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ewhy are you not using a database that does sharding for you? Over the past few years the so-called “serverless” database has gotten a lot more traction.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThis is the most important paragraph in the article. In a world where things like Dynamo/Cassandra or Spanner/Cockroach exist, manually-sharded DB solutions are pretty much entirely obsolete. Spanner exists because Google got so sick of people building and maintaining bespoke solutions for replication and resharding, which would inevitably have their own set of quirks, bugs, consistency gaps, scaling limits, and manual operations required to reshard or rebalance from time to time. When it's part of the database itself, all those problems just... disappear. It's like a single database that just happens to spread itself across multiple machines. It's an actual distributed cloud solution.\u003cbr\u003e\nMy current employer uses sharded and replicated Postgres via RDS. Even basic things like deploying schema changes to every shard are an unbelievable pain in the ass, and changing the number of shards on a major database is a high-touch, multi-day operation. After having worked with Spanner in the past, it's like going back to the stone age, like we're only a step above babysitting individual machines in a closet. Nobody should do this. — \u003ca href=\"https://news.ycombinator.com/item?id=35478332\"\u003eGeneralMayhem\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://iorilan.medium.com/a-5-years-tech-lead-said-they-shard-a-database-to-scale-but-then-he-failed-to-answer-this-question-8be39115dcb0\"\u003eA 5 years+ tech lead said they shard a database to scale but then he failed to answer this question\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://martinfowler.com/bliki/OrmHate.html\"\u003eOrmHate\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eEssentially the ORM can handle about 80-90% of the mapping problems, but that last chunk always needs careful work by somebody who really understands how a relational database works.\u003cbr\u003e\n... A framework that allows me to avoid 80% of that is worthwhile even if it is only 80%.\u003cbr\u003e\nTo avoid the mapping problem you have two alternatives. Either you use the relational model in memory, or you don't use it in the database.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://www.dedp.online/\"\u003eData Engineering Design Patterns\u003c/a\u003e \u003ca class=\"color-tag\" style=\"--tag-color: #c77986;\" href=\"/notes/0ce4gh9w22elz738jbxchfo\"\u003e#bookshelf\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://bigmachine.io/databases/its-time-to-get-over-that-stored-procedure-aversion-you-have/\"\u003eIt's Time To Get Over That Stored Procedure Aversion You Have\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://uuid7.com/\"\u003eUUIDv7: The Time-Sortable Identifier for Modern Databases\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://brandur.org/nanoglyphs/026-ids\"\u003eIdentity Crisis: Sequence v. UUID as Primary Key\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://challahscript.com/what_i_wish_someone_told_me_about_postgres\"\u003eWhat I Wish Someone Told Me About DB(Postgres)\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://www.stemlaur.com/blog/2021/03/30/tech-hibern-hate/\"\u003eStop using JPA/Hibernate\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://matt.blwt.io/post/7-databases-in-7-weeks-for-2025/\"\u003e7 Databases in 7 Weeks for 2025\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://mccue.dev/pages/3-11-25-life-altering-postgresql-patterns\"\u003eLife Altering Postgresql Patterns\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"postgresql\"\u003ePostgreSQL\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#postgresql\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://dbconvert.com/blog/mysql-vs-postgresql/\"\u003eMySQL vs PostgreSQL in 2023.\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://gist.github.com/cpursley/c8fb81fe8a7e5df038158bdfe0f06dbb\"\u003ePostgresql is enough\u003c/a\u003e\n\u003cblockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://news.ycombinator.com/item?id=39274174\"\u003eAs an application grows in complexity, you start to realize \u003cem\u003ewhy\u003c/em\u003e there's a stack, rather than just a single technology to rule them all. Trying to cram everything into Postgres (or lambdas, or S3, or firebase, or whatever other tech you're trying to consolidate on) starts to get really uncomfortable.\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://news.ycombinator.com/item?id=39274805\"\u003e... both worked: the PG queue was never grown out of, and generally SQS was easy to work with \u0026#x26; reliable. But what I've also seen is \"Let's introduce bespoke tech that nobody on the team, including the person introducing it, has experience in, for a queue that isn't even the main focus of what we're building\" — this I'm less fine with.\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://sive.rs/pg\"\u003eSimplify: move code into database functions\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003eDatabases outlive the applications that access them.\u003c/li\u003e\n\u003cli\u003ethe database is actually \u003ca href=\"https://www.postgresql.org/docs/current/server-programming.html\"\u003equite smart\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003eexamples: \u003ca href=\"https://www.postgresql.org/docs/current/ddl-constraints.html\"\u003econstraints\u003c/a\u003e, \u003ca href=\"https://www.postgresql.org/docs/current/trigger-definition.html\"\u003etriggers\u003c/a\u003e, functions, \u003ca href=\"https://www.postgresql.org/docs/current/functions-json.html#FUNCTIONS-JSON-CREATION-TABLE\"\u003ecreate JSON directly\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003eIf you like JavaScript, check out the promising \u003ca href=\"https://plv8.github.io/\"\u003eplv8\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ebranching? source code history(Migrations)?\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/kblok/tech-posts/blob/master/working-with-stored-procedures.md\"\u003eHow to work with stored procedures and not die trying\u003c/a\u003e?\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://dba.stackexchange.com/a/33544\"\u003eYou can use a DDL trigger to keep all revisions in a table in a separate database (and of course back up that database frequently).\u003c/a\u003e - \u003ca href=\"http://www.mssqltips.com/sqlservertip/2085/sql-server-ddl-triggers-to-track-all-database-changes/\"\u003eSQL Server DDL Triggers to Track All Database Changes\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"features-id-like-in-postgresql\"\u003e\u003ca href=\"https://gilslotd.com/blog/features_id_postgresql\"\u003eFeatures I'd like in PostgreSQL\u003c/a\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#features-id-like-in-postgresql\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e–i-am-a-dummy mode\u003c/li\u003e\n\u003cli\u003eUnit test mode (random result sorting)\u003c/li\u003e\n\u003cli\u003eQuery progress in psql\u003c/li\u003e\n\u003cli\u003ePandas-like join validation\u003c/li\u003e\n\u003cli\u003eJIT support for CREATE INDEX\u003c/li\u003e\n\u003cli\u003eReduce the memory usage of prepared queries\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cstrong\u003eChildren\u003c/strong\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"/notes/gyry0ci0rohsl5gvjpsvws1\"\u003eDB tools\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/pytn4f8md64usu5rf6luoce\"\u003eEfficient Pagination Using Deferred Joins\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/mtpui4ue21ot6ggoxp75l6s\"\u003eMySQL EXPLAIN ANALYZE\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/droc7w967f365b24yxuvm1y\"\u003eSQLite\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/gospyun0oi7prijb9ompk6j\"\u003eSQLite the only database you will ever need in most cases\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/3ygr2ph38je7kt5jgvci8mi\"\u003eTemporary tables in SQLite\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/4yc7ze5ur5zu4cr1nardho0\"\u003eThings You Should Know About Databases\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/4422qtgalzn3o8syba1riv8\"\u003eWe switched to cursor-based pagination\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/xyg5ao6vugkef44ahxssq60\"\u003epostgres\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e","noteIndex":{"id":"Iy0MoL0KnL55Br3AfTS2C","title":"Luke","desc":"","updated":1761796791487,"created":1644449449778,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"4e745570ca97988a0362cb939b760952","links":[{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"life-tips","position":{"start":{"line":41,"column":5,"offset":2603},"end":{"line":41,"column":29,"offset":2627},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"life-tips","anchorHeader":"wodenokoto"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2025","alias":"What I read in 2025","position":{"start":{"line":70,"column":3,"offset":4333},"end":{"line":70,"column":54,"offset":4384},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2025"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2024","alias":"2024","position":{"start":{"line":71,"column":5,"offset":4389},"end":{"line":71,"column":41,"offset":4425},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2024"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2023","alias":"2023","position":{"start":{"line":72,"column":5,"offset":4430},"end":{"line":72,"column":41,"offset":4466},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2023"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-read-in.2022","alias":"2022","position":{"start":{"line":73,"column":5,"offset":4471},"end":{"line":73,"column":41,"offset":4507},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-read-in.2022"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-struggled-brag-in","position":{"start":{"line":79,"column":3,"offset":4643},"end":{"line":79,"column":39,"offset":4679},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-struggled-brag-in"}}],"anchors":{"what-i-read-in-past":{"type":"header","text":"What I read in past","value":"what-i-read-in-past","line":74,"column":0,"depth":2}},"children":["zd4mq442jike0pr0wba1u3m","6hzeqsofq67gdk88flxlkhp","778ijii93yu5uwnrwmn5zi4","g1fngdjl25nes6fs3lip602","ZbdkdApFqLdks4Moq92R9","uoc5hhki3o4py15cesddu8q","9qf7j06jtdkm6rnx9ymvwb0","5zn10cvj7ajy2gh2is5nqmg","4qo9ma0z0yu1czns6pxl7y5","ok0e729ho7o09xetujkxc0m","GR5x8HnNFEN6fU2UBSEIK","yirtnlj8q24yutcf3ss1xqy","eq0wc6t7wl2wv221yb68ro4","7x2fnv4j6gxts08qk0jguny","ettkt3iClONnxpbGwBVLl","7l4knev6v613tbuoskvmbdg","hvh5bud6yp7dc89tuh95tr9","4fvoqrplw0cweo554usbjos","f8qsfql0a9v8thpeo82udfa","1swsbrhqi9jk41v9eodyi5q","SQqYupi6EFddTerBA8RRD","hjNeNc1F2JUh0lTWanH4h","qf0l4wbrc9jgooyzexmbq5v","uur1lkol353z9vfeqb3n5bv","cd9n1czq3ursgkby985wkmm","k1sr43vwnfqztwc0s43pkcf","wfde75rhdvq2yfa2zy2q6rv","rjcmdv60jokmbw6zoq8u2ef","ujapvww8o6v3kpmlhtryq4k","pkwewou9d5e8ystswn1j2b4"],"parent":null,"data":{},"body":"\nHi there 👋. I'm a Front-end developer.\n\n---\n\n- 단순함과 꾸준함은 가장 쉬우면서도 지키기 어려운 원칙.\n\n- 🥱 -\u003e 🤔💡🌱 - [On The Death of Daydreaming](https://www.afterbabel.com/p/on-the-death-of-daydreaming)\n  - boredom -\u003e easy fun -\u003e art -\u003e profit?\n\n\u003e I've often described my motivation for building software to others using imagery: I like to go find a secluded beach, build a large, magnificent sand castle, and then walk away. Will anyone notice? Probably not. Will the waves eventually destroy it? Yep. Did I still get immense satisfaction? Absolutely. - [aliasxneo](https://news.ycombinator.com/item?id=41497113)\n\n\u003e We love to see the process, not just the result. The imperfections in your work can be beautiful if they show your struggle for perfection, not a lack of care. - [ralphammer](https://ralphammer.com/is-perfection-boring/)\n\n\u003e Simplicity, even if it sacrifices some ideal functionality has better survival characteristics than the-right-thing. - [The Rise of Worse is Better](https://www.dreamsongs.com/RiseOfWorseIsBetter.html)\n\n\u003e [Roberto Blake was talking about making 100 crappy videos](https://www.youtube.com/watch?v=OnUBaQ1Sp_E) to get better over time. Putting in the reps and improving a little bit each time.\n\u003e\n\u003e Putting in the work without expecting any external reward at first (eg views, followers, likes, etc) will pay off in the long run. - [100 Scrappy Things](https://www.florin-pop.com/blog/100-scrappy-things/)\n\n\u003e Make the difficult habitual, the habitual easy, and the easy beautiful. - [Constantin S. Stanislavski](https://www.goodreads.com/quotes/7102271-make-the-difficult-habitual-the-habitual-easy-and-the-easy)\n\n\u003e A good match is a **structured** dance, where players aim to **score** while they are following well-defined **rules**. This **freedom within a structure** is what makes it fun. - [ralphammer](https://ralphammer.com/how-to-get-started/)\n\n- [Pivot Points](https://longform.asmartbear.com/pivot-points/)\n\n  - non-judgmental aspects of personality that can be strengths in some contexts and weaknesses in others\n  - Pivot Points are fixed in the short term\n\n- [Hedged Bets](https://longform.asmartbear.com/predict-the-future/#hedged-bets)\n  - trading slightly less maximum upside for predictable, net-positive outcomes.\n\n\u003e “Motivation often comes after starting, not before. Action produces momentum.”\n\u003e [When you start a new habit, it should take less than two minutes to do.](https://jamesclear.com/how-to-stop-procrastinating)\n\u003e\n\u003e - James Clear\n\n\u003e Focus is more about **not** keeping busy when you need to wait for something.  \n\u003e Eat the boredom for a minute.\n\u003e\n\u003e - [[life-tips#wodenokoto]]\n\n\u003e [4 minutes run hard enough to push heart rate to 90%, 3 minutes recover, repeat 4 times](https://news.ycombinator.com/item?id=34213181)\n\u003e\n\u003e - https://www.ntnu.edu/cerg/advice\n\u003e - [Get running with Couch to 5K](https://www.nhs.uk/live-well/exercise/running-and-aerobic-exercises/get-running-with-couch-to-5k/)\n\n\u003e [recommended routine - bodyweightfitness](https://www.reddit.com/r/bodyweightfitness/wiki/kb/recommended_routine/) - I Don't Have This Much Time!\n\u003e\n\u003e - Don't workout at all (saves anywhere from 20 to 60 minutes, but really, really, really, really, really, really, really, really, really not recommended)\n\n\u003e 도무지 읽히지 않는 책 앞에서 내가 택한 방법은 펼쳐진 페이지 앞에서 멍때리기이다. 다르게 표현하면 이렇다. 펼쳐진 두 페이지 앞에서 오래 머물기.\n\u003e\n\u003e 책을 펼쳐놓는 것으로 충분하다. 읽지 못해도 좋다. 매일 정해진 진도를 나가야 하는 학교 수업이 아니니까. 하지만 읽지 않아도 괜찮다고 해서 펼쳐두지조차 않으면 곤란하다. 가능한 한 자주 책을 펼쳐두도록 하자. 전혀 읽지 않고 멍하니 바라보고 있다가 다시 덮게 되더라도\n\u003e\n\u003e - 막막한 독서. 시로군. P.10~13\n\n\u003e I think it should be everyone's primary focus to sleep well, drink water, get outside, get active, and eat generally decently. I hate to say it, but if you're not eating a good amount of vegetables and fruit, decent protein, sleep, etc, no amount of XYZ will catch up to that detriment. - [CE02](https://news.ycombinator.com/item?id=35056071)\n\n\u003e My real battle is doing good versus doing nothing. - [Deirdre Sullivan](https://www.npr.org/2005/08/08/4785079/always-go-to-the-funeral)\n\n[Kind Engineering](https://kind.engineering/) - How To Engineer Kindness\n\n\u003e Sometimes magic is just someone spending more time on something than anyone else might reasonably expect. - [Teller](https://www.goodreads.com/quotes/6641527-sometimes-magic-is-just-someone-spending-more-time-on-something)\n\n---\n\n## What I read in past\n\n- [[What I read in 2025|journal.what-i-read-in.2025]]\n  - [[2024|journal.what-i-read-in.2024]]\n  - [[2023|journal.what-i-read-in.2023]]\n  - [[2022|journal.what-i-read-in.2022]]\n- 📝 [Gists](https://gist.github.com/Luke-SNAW)\n- 📜 [Journals](https://luke-snaw.github.io/Luke-SNAW__netlify-CMS.github.io/)\n\n---\n\n- [[journal.what-i-struggled-brag-in]]\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":false,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.115.0","enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Luke SNAW","description":"Personal knowledge space"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","siteUrl":"https://luke-snaw.github.io/","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"eha8xvsaz0zdh4f18pqqls2"},"buildId":"vOE8u-mg___OsOsz4tjEg","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>