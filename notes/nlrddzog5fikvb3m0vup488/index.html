<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>API Bites — Payload Conventions</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="API Bites — Payload Conventions"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://luke-snaw.github.io//notes/nlrddzog5fikvb3m0vup488/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="11/27/2022"/><meta property="article:modified_time" content="11/27/2022"/><link rel="canonical" href="https://luke-snaw.github.io//notes/nlrddzog5fikvb3m0vup488/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9d8e0603730b15a3.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/wirstT2ztC8OQsbzKjhvw/_buildManifest.js" defer=""></script><script src="/_next/static/wirstT2ztC8OQsbzKjhvw/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="api-bites--payload-conventions">API Bites — Payload Conventions<a aria-hidden="true" class="anchor-heading icon-link" href="#api-bites--payload-conventions"></a></h1>
<p>Encoding, Data Formats and Document Structure</p>
<blockquote>
<p><a href="https://medium.com/@trgoodwill/api-bites-payload-conventions-76ffde7f5eb2">https://medium.com/@trgoodwill/api-bites-payload-conventions-76ffde7f5eb2</a></p>
</blockquote>
<p>API Development Standards are a focused collection of imperatives, conventions and guidance, and are intended to improve the <strong><em>consistency, stability, generality, predictability and usability of business resource APIs</em></strong>.</p>
<p><em>The following</em> <strong><em>‘sample’ set of standards</em></strong> <em>is focused purely on payload conventions. More to come…</em></p>
<h2 id="encoding">Encoding<a aria-hidden="true" class="anchor-heading icon-link" href="#encoding"></a></h2>
<p>Unicode Transformation Format-8 (UTF-8) is the standard encoding type for all text and textual representations of data through APIs and is the default encoding for JSON (RFC 7159). UTF-8 encoding must be adhered to for all APIs published across the enterprise and externally. Other encodings may be used for ‘private’ partner APIs if and only if there are technical limitations to using UTF-8.</p>
<h2 id="interoperable-data-formats">Interoperable Data Formats<a aria-hidden="true" class="anchor-heading icon-link" href="#interoperable-data-formats"></a></h2>
<h3 id="json-as-the-default-format">JSON as the Default Format<a aria-hidden="true" class="anchor-heading icon-link" href="#json-as-the-default-format"></a></h3>
<p>All new and uplifted API implementations <em>really should</em> support the JSON data format at a minimum. This does not preclude other media types, such as XML.</p>
<p>JSON payload must comply with API Request and API Response document structure requirements. JSON ‘RequestBody’ and ‘Responses’ payloads should be defined under the OpenAPI 3.0 ‘application/json’ content keyword.</p>
<h3 id="other-media-types">Other Media Types<a aria-hidden="true" class="anchor-heading icon-link" href="#other-media-types"></a></h3>
<p>It is possible to request more than representation the same resource if multiple supported media types are specified in the OpenAPI 3.0 API specification.</p>
<p>The returned media type must conform to the value provided in the API request Accept header, or the 1st supported media type if multiple values are specified. The default content type is JSON (application/json).</p>
<p>If the requested media type(s) are unsupported, the server is expected to return an HTTP response status ‘415 — Unsupported Media Type’.</p>
<p>The practice of specifying media type with a resource label should be avoided for resource APIs documented with an OpenAPI specification (e.g. avoid ‘resource/{resourceId}.json’).</p>
<h3 id="date-time-format"><strong>Date-Time Format</strong><a aria-hidden="true" class="anchor-heading icon-link" href="#date-time-format"></a></h3>
<p>A consistent date-time format, conforming to <a href="https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14">RFC3339</a>, <strong><em>should</em></strong> be used. RFC3339 compliant date-time formats are provided by the OpenAPI 3.0 specification. Date-time fields should be defined in an API specification in the following manner:</p>
<ul>
<li>Date fields should be defined as type = “string”, format=”date”.</li>
<li>Datetime fields should be defined as type = “string”, format=”date-time”.</li>
</ul>
<p>The RFC 3339 profile of the standard ISO 8601, in Coordinated Universal Time (UTC), is the standard datetime format for data and timestamp fields in enterprise business resource APIs. The date format is <yyyy-mm-dd> while timestamp format is <yyyy-mm-dd>T&#x3C;hh:mm:ss>Z. Time duration values should be strings, formatted as recommended by ISO 8601, e.g. “P3Y6M4DT12H30M5S”. Any other representation of time in the source system should be converted to and from these standard formats when exchanging data via APIs.</yyyy-mm-dd></yyyy-mm-dd></p>
<h2 id="naming-conventions">Naming Conventions<a aria-hidden="true" class="anchor-heading icon-link" href="#naming-conventions"></a></h2>
<h3 id="field-names">Field Names<a aria-hidden="true" class="anchor-heading icon-link" href="#field-names"></a></h3>
<p>For request and response body field names (and query parameter names), case MUST be consistent. camelCase should probably be the default choice unless there are compelling reasons to go a different way. e.g. <code>"familyName" : "Jones"</code></p>
<p>Fields that represent arrays should be named using plural nouns (e.g. ‘products’).</p>
<h3 id="resource-names">Resource Names<a aria-hidden="true" class="anchor-heading icon-link" href="#resource-names"></a></h3>
<p>Resource names must be plural nouns when referring to a resource collection (there are potentially a number of instances) e.g. ‘/<strong>customers’</strong>. A singleton, such as ‘/customers/1234/<strong>cart’</strong> must be singular.</p>
<p><a href="https://api.myorg.com/store/v1/**customers">https://api.myorg.com/store/v1/**customers</a>**</p>
<p>Resource names should be lower-case and use only alphabetic characters, with hyphens employed to separate words in the URI. URIs are the only place where hyphens are used as a word separator. In all other situations, the word separation scheme should align with enterprise field naming conventions (e.g. camelCase or snake_case).</p>
<h3 id="resource-identifiers">Resource Identifiers<a aria-hidden="true" class="anchor-heading icon-link" href="#resource-identifiers"></a></h3>
<p>A resource identifier can be a string or numeric value, and must be URL safe. A protected or confidential resource identifier must be un-guessable and non-sequential, providing maximum abstraction from Personally Identifiable Information, primary keys, and time or order of creation. This requirement may be met with a randomly generated unique identifier, e.g.</p>
<p>/v1/applicants/<strong>538d9bb1</strong></p>
<p>The resource identifier must be immutable.</p>
<h3 id="resource-references">Resource References<a aria-hidden="true" class="anchor-heading icon-link" href="#resource-references"></a></h3>
<p>Resource identifiers returned with the core data should be referenced consistently — a standard should be mandated.</p>
<p>The most popular schemes are:</p>
<ul>
<li>Return an “id” field. e.g. <code>"id" : "12B34C"</code>. The name of the resource is implied, having been addressed in the URL.</li>
<li>Return an unambiguous concatenation of the resource name followed by the “Id” designation, e.g. <code>"customerId" : "12B34C"</code>.</li>
</ul>
<p>All <strong><em>external resource id references</em></strong> should in any case be concatenation of the resource name followed by the “Id” designation, e.g. <code>"orderId" : "34C56D"</code>.</p>
<h2 id="document-structure">Document Structure<a aria-hidden="true" class="anchor-heading icon-link" href="#document-structure"></a></h2>
<h3 id="root-level-object">Root Level Object<a aria-hidden="true" class="anchor-heading icon-link" href="#root-level-object"></a></h3>
<p>Request and response documents containing JSON data must contain a root level JSON object. This object defines the JSON document’s root. Obviously this does not apply to body-less API requests and responses, such as a GET request. e.g.</p>
<p><strong>POST</strong> /v1/persons{<br>
"familyName": "SMITH",<br>
"givenName": "Jane",<br>
"birthDate": "1992-01-01"<br>
}</p>
<h3 id="flat-structure">Flat Structure<a aria-hidden="true" class="anchor-heading icon-link" href="#flat-structure"></a></h3>
<p>There is little argument about the need for experience APIs to deliver the leanest, flattest JSON structures possible, <em>as per the above example</em>. In most scenarios, this imperative will also apply to business resource APIs, however alignment with regulatory or industry frameworks/formalisms will occasionally require a more structured approach. In any case, data structures should be as flat and lean as possible — expressing composability and cohesion in alignment with <a href="https://medium.com/@trgoodwill/where-do-business-resource-apis-come-from-472cc8422dec">core domain and conceptual contours principles.</a></p>
<h3 id="the-data-object">The “data” Object<a aria-hidden="true" class="anchor-heading icon-link" href="#the-data-object"></a></h3>
<p>Regulatory or industry frameworks <em>may</em> facilitate the transmission of structured metadata alongside business data (e.g. Open Banking), and when this is a significant organizational use-case, it may be advisable for the enterprise to consistently encapsulate business data in a “data” object.</p>
<p>The root object <strong><em>may</em></strong> in this case optionally contain a ‘meta’ top-level member in addition to the data member. The ‘meta’ object is used to provide additional information such as copyright, timestamps, origin, ownership, or other contextual data for regulatory or temporal analytical purposes. e.g.</p>
<p><strong>POST</strong> /v1/applications{<br>
"data": {<br>
"familyName": "SMITH",<br>
"givenName": "Jane",<br>
"birthDate": "1992-01-01"<br>
},<br>
"meta": {<br>
"classification": "sensitive",<br>
"consent": "538d9bb1–95c9–4ceb-864c-80887776573"<br>
}<br>
}</p>
<p>This requirement would apply to both request and response documents. When taking this approach, the “links” (or “_links”) object is also top-level and returned as a peer of the “data” member. E.g.</p>
<p><strong>GET</strong> /v1/applications/808877765733<strong>Response</strong> 200 OK<br>
Content-Type: application/json; charset=utf-8{<br>
"data": {<br>
"applicationId": "808877765733<strong>",<br>
</strong> "applicationDate": "2022-01-01",<br>
"applicationStatus": "submitted",<br>
},<br>
<strong>"links": {<br>
"memberReferrals": "/v1/applications/12345/memberReferrals",<br>
"cancelApplication": "/v1/applications/12345/cancel"<br>
}</strong><br>
}</p>
<p>Reserved top-level properties in this scheme might include (at least): <em>“data”, “meta”, “links”</em> (and/or <em>“_links”</em>)<em>, “messages”, “risk”</em> (Open Banking) and <em>“errors”.</em></p>
<p>It is worth taking the time to validate the requirement for such a structure. <em>Note that</em> <strong><em>in an OAuth2 context, the token should be the source-of-truth</em></strong> <em>for contextual information such as originating user and client system, and tokens may, by agreement or by virtue of applicable extended frameworks, carry additional claims relevant to the user and system context.</em></p>
<h2 id="request-document">Request Document<a aria-hidden="true" class="anchor-heading icon-link" href="#request-document"></a></h2>
<h3 id="resource-instances-and-collections">Resource Instances and Collections<a aria-hidden="true" class="anchor-heading icon-link" href="#resource-instances-and-collections"></a></h3>
<p>Client systems may interact with a single resource, or with the resource collection.</p>
<p>To interact with a single, specific manifest, for example, GET/HEAD, PUT, PATCH or DELETE requests are sent to the URI <code>/v1/manifests/{manifestId}</code></p>
<p>To interact with the collection of manifests, GET/HEAD or POST (and potentially, QUERY) requests are sent to the resource collection URI <code>/v1/manifests</code></p>
<h3 id="request-payload">Request Payload<a aria-hidden="true" class="anchor-heading icon-link" href="#request-payload"></a></h3>
<p>Resource instance payloads will be substantially similar across POST (request), GET (response) and PUT (request), and these should ideally reference a shared OpenAPI schema definition. PATCH payload will contain an optional subset of resource data.</p>
<p><em>Note that the ‘resourceId’ member (eg ‘customerId’) is not required (nor should it be supported) when a new resource is POSTed to the service. The resource Id is owned by the resource service and is returned in the POST response.</em></p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"familyName"</span><span class="token operator">:</span> <span class="token string">"Jones"</span><span class="token punctuation">,</span>
  <span class="token property">"givenName"</span><span class="token operator">:</span> <span class="token string">"James"</span><span class="token punctuation">,</span>
  <span class="token property">"birthDate"</span><span class="token operator">:</span> <span class="token string">"1983-01-01"</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="response-document">Response Document<a aria-hidden="true" class="anchor-heading icon-link" href="#response-document"></a></h2>
<h3 id="media-type">Media Type<a aria-hidden="true" class="anchor-heading icon-link" href="#media-type"></a></h3>
<p>The returned media type must conform to the value provided in the API request Accept header, or the 1st supported media type if multiple values are specified.</p>
<p>In the absence of an Accept header, the default content type should be JSON (application/json). If the requested media type is unsupported, the server must return an HTTP response of 415 — Unsupported Media Type.</p>
<h3 id="resource-identifier">Resource Identifier<a aria-hidden="true" class="anchor-heading icon-link" href="#resource-identifier"></a></h3>
<p>representations of resource data in a response document will always include the unique resource Id, e.g. <code>"customerId" : "12B34C"</code>. Refer to the “Naming Conventions” section above.</p>
<h3 id="related-resources">Related Resources<a aria-hidden="true" class="anchor-heading icon-link" href="#related-resources"></a></h3>
<p>A GET request to the parent resource should return ‘core’ resource data only. <em>Core and sub resource concepts are discussed</em> <a href="https://medium.com/@trgoodwill/where-do-business-resource-apis-come-from-472cc8422dec"><em>here</em></a><em>.</em></p>
<p>References to existentially related resources and sub-resources should be unambiguous, consisting of a concatenation of the resource name followed by the “Id” designation, e.g. <code>"orderId" : "34C56D"</code>.</p>
<p>Ideally, referenced resources should be nested, and contain the resource id together with the minimum of non-sensitive data pertinent to the context. e.g.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"applicationId"</span><span class="token operator">:</span> <span class="token string">"808877765733"</span><span class="token punctuation">,</span>
  <span class="token property">"applicationDate"</span><span class="token operator">:</span> <span class="token string">"2022-01-01"</span><span class="token punctuation">,</span>
  <span class="token property">"applicationStatus"</span><span class="token operator">:</span> <span class="token string">"submitted"</span><span class="token punctuation">,</span>
  <span class="token property">"applicant"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"applicantId"</span><span class="token operator">:</span> <span class="token string">"1234"</span><span class="token punctuation">,</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"John Smith"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="link-relations-and-hateoas">Link Relations and HATEOAS<a aria-hidden="true" class="anchor-heading icon-link" href="#link-relations-and-hateoas"></a></h3>
<p>Existentially related sub-resources may <strong><em>optionally</em></strong> be represented as links, however, take care linking versioned APIs external to the current namespace, as it creates dependencies, and such links may in fact be invalid for some clients when these services undergo major version changes. It is best to reserve links for operations and resources within the same versioned namespace.</p>
<p>When links are employed as HATEOAS (<a href="https://medium.com/@trgoodwill/the-engine-of-application-state-92bfdce0d41c"><strong>the engine of application state</strong></a>), applicable, adjacent state-lifecycle affordances are presented as links in the payload. In a managed API context, the name of every HATEOAS link should correspond to a documented operation with an explicitly defined request and response document, referring to an <strong><em>operationId</em></strong> or to an OAS 3 <strong><em>link name</em></strong>.</p>
<p>Links should employ the most efficient link format for the use-case. The simple format employed by the <a href="https://openbanking.atlassian.net/wiki/spaces/DZ/pages/1077805207/Read+Write+Data+API+Specification+-+v3.1.2#Read%2FWriteDataAPISpecification-v3.1.2-Links">Open Banking standard</a> is preferential to unnecessarily verbose mechanisms (such as HAL) which are <a href="https://medium.com/@trgoodwill/the-engine-of-application-state-92bfdce0d41c">poorly aligned with specification-first API management</a>. <em>HOWEVER</em>, development framework support should be considered.</p>
<p><em>More on HATEOAS and links in the article</em> <a href="https://medium.com/@trgoodwill/the-engine-of-application-state-92bfdce0d41c"><strong><em>The Engine of Application State</em></strong></a><strong><em>.</em></strong></p>
<p>Example:</p>
<p><strong>GET</strong> /v1/applications/808877765733<strong>Response</strong> 200 OK
Content-Type: application/json; charset=utf-8{
"applicationId": "808877765733<strong>",
</strong> "applicationDate": "2022-01-01",
"applicationStatus": "submitted",
<strong>"links": {
"memberReferrals": "/v1/applications/12345/memberReferrals",
"cancelApplication": "/v1/applications/12345/cancel"
}</strong>
}</p>
<h3 id="pagination">Pagination<a aria-hidden="true" class="anchor-heading icon-link" href="#pagination"></a></h3>
<p>Resource servers and their APIs <strong>SHOULD</strong> support pagination to assist in the management of payload size and performance.</p>
<p>Pagination strategies include (but are not limited to): page-based, offset-based, and cursor-based. The page query parameter can be used as a basis for any of these strategies. For example, a page-based strategy might use query parameters such as</p>
<ul>
<li>page[number] and page[size] e.g. <code>?page[number]**=**2&#x26;page[size]**=**10</code></li>
<li>an offset-based strategy might use page[offset] and page[limit].</li>
<li>a cursor-based strategy might use page[cursor].</li>
</ul>
<p>As with link notation, the pagination notation supported by development frameworks in common use should be considered. <em>Pagination notation</em> <strong><em>MUST</em></strong> <em>be consistent with</em> <a href="https://medium.com/@trgoodwill/the-engine-of-application-state-92bfdce0d41c"><em>hyperlink/HATEOAS conventions</em></a><em>.</em></p>
<p>Always refer to a URL-Path (URL part following the hostname and port).</p>
<p>“prev”: “/v1/resources/?page[number]=2&#x26;page[size]=1”</p>
<p>Pagination links MUST appear in the links object that corresponds to a collection. The following keys <strong>SHOULD</strong> be provided for page-based pagination links:</p>
<ul>
<li><strong><em>self</em></strong> : the current page of data</li>
<li><strong><em>first</em></strong> : the first page of data</li>
<li><strong><em>prev</em></strong> : the previous page of data</li>
<li><strong><em>next</em></strong> : the next page of data</li>
<li><strong><em>last</em></strong> : the last page of data</li>
</ul>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"links"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"self"</span><span class="token operator">:</span> <span class="token string">"/v1/orders?page[number]=3&#x26;page[size]=1"</span><span class="token punctuation">,</span>
    <span class="token property">"first"</span><span class="token operator">:</span> <span class="token string">"/v1/orders?page[number]=1&#x26;page[size]=1"</span><span class="token punctuation">,</span>
    <span class="token property">"prev"</span><span class="token operator">:</span> <span class="token string">"/v1/orders?page[number]=2&#x26;page[size]=1"</span><span class="token punctuation">,</span>
    <span class="token property">"next"</span><span class="token operator">:</span> <span class="token string">"/v1/orders?page[number]=4&#x26;page[size]=1"</span><span class="token punctuation">,</span>
    <span class="token property">"last"</span><span class="token operator">:</span> <span class="token string">"/v1/orders?page[number]=13&#x26;page[size]=1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Query Parameter Syntax and Amazon API Gateways</strong></p>
<p>Note that native Amazon API Gateways do not fully implement <a href="https://tools.ietf.org/html/rfc3986">RFC 3986</a> and are more restrictive — query parameters must conform to the regular expression <code>^[a-zA-Z0–9:._$-]+$</code></p>
<h3 id="collections-of-resources">Collections of Resources<a aria-hidden="true" class="anchor-heading icon-link" href="#collections-of-resources"></a></h3>
<p>A GET performed on a resource collection (without specifying a resource Id) will return potentially multiple resource instances in a “data” array. e.g.</p>
<p><strong>GET</strong> /v1/applications<strong>Response</strong> 200 OK
Content-Type: application/json; charset=utf-8{
"data": [
{
"applicationId": "808877765733<strong>",
</strong> "applicationDate": "2022-01-01",
"applicationStatus": "submitted"
},
{
"applicationId": "80851456484<strong>",
</strong> "applicationDate": "2022-06-01",
"applicationStatus": "pending"
}
]
}</p>
<p>The response to a GET on a collection <strong><em>must return a top-level data array even if only one record exists</em></strong>, or meets the filter criteria. This rule does not apply when no records exist, or meet filter requirements, in which case a response of 404 — Not found should be returned.</p>
<p>Uncontrolled arrays containing large data sets or large binary objects such as documents or images, must not be returned. <strong><em>Large arrays must be controlled by pagination</em></strong>. It is suggested that payload size should not exceed 2 Mb— primarily for the sake of performance and composability, and because this is a legacy default payload maximum for some platforms. Avoid exceeding 10 Mb at all costs — it is a hard limit for several platforms.</p>
<p>A POST may also be performed on a resource collection to create a new instance of the resource. The server should return a ‘Location’ header containing the relative path of the newly created resource, and an ‘id’ field containing the resource identifier. Additional <em>derived</em> data <em>may</em> be returned as deemed appropriate. A links object <em>may</em> be returned if relevant. e.g.</p>
<p><strong>POST</strong> /v1/applicants
{ "familyName": "Jones",
"givenName": "James",
"birthDate": "1983-01-01"
}<strong>Response</strong> 201 Created
Content-Type: application/json; charset=utf-8
Location: /v1/applicants/538d9bb1–95c9–4ceb-864c-808877765733{
"applicantId": "538d9bb1–95c9–4ceb-864c-808877765733",
}</p>
<p>These are the only operations that may be performed on a collection. Creating or updating multiple resource instances in the same request is not standardized, and should be avoided. There are factors such as receipt acknowledgement and how to handle partial success in a set of batches that add significant complexity.</p>
<h2 id="binary-and-multi-part-content">Binary and Multi-part Content<a aria-hidden="true" class="anchor-heading icon-link" href="#binary-and-multi-part-content"></a></h2>
<p>Implementation details for large binary uploads are often necessarily different from small JSON payloads (for example virus scanning, different tuning for HTTP variables for efficient compression, different DDOS protection strategies, etc). For these reasons, care needs to be taken with the modeling of binary data to avoid unnecessary imposts on performance and availability.</p>
<p>If at all possible, binary data should be modeled as a dedicated sub-resource on a separate path to facilitate upload and download as discrete operations.</p>
<p><em>More on this topic in the article:</em> <a href="https://medium.com/@trgoodwill/api-bites-binary-and-multi-part-content-283ef69fc5e9"><em>Binary and Multi-Part Content</em></a></p>
<h2 id="wrap-up">Wrap-up<a aria-hidden="true" class="anchor-heading icon-link" href="#wrap-up"></a></h2>
<p>Governed, opiniated standards and patterns will be required to enable <strong><em>seamless interoperability between independent, decoupled domains</em></strong>. While sample guidance and exemplars are offered in this article, there is often more than one tried-and-tested approach in any one area of API design — specific tactics and conventions should be tailored to the target environment.</p>
<h2 id="related-discussions-on-medium">Related Discussions on Medium<a aria-hidden="true" class="anchor-heading icon-link" href="#related-discussions-on-medium"></a></h2>
<p><a href="https://medium.com/@trgoodwill/api-bites-1af949efdd1b">API Bites — Versioning APIs</a></p>
<p><a href="https://medium.com/@trgoodwill/api-bites-7373b2127ed1">API Bites — API Path Conventions</a></p>
<p><a href="https://medium.com/@trgoodwill/api-bites-filtering-conventions-8a1a19c03975">API Bites — Filtering Conventions</a></p>
<p><a href="https://medium.com/@trgoodwill/283ef69fc5e9">API Bites — Binary and Multi-Part Content</a></p>
<p><a href="https://medium.com/@trgoodwill/where-do-business-resource-apis-come-from-472cc8422dec">Modeling Coherent and Composable Business Resource APIs</a></p>
<p><a href="https://medium.com/@trgoodwill/the-engine-of-application-state-92bfdce0d41c">The Engine of Application State. Aligning HATEOAS, Affordances and Business Events</a></p></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#encoding" title="Encoding">Encoding</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#interoperable-data-formats" title="Interoperable Data Formats">Interoperable Data Formats</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#json-as-the-default-format" title="JSON as the Default Format">JSON as the Default Format</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#other-media-types" title="Other Media Types">Other Media Types</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#date-time-format" title="Date-Time Format">Date-Time Format</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#naming-conventions" title="Naming Conventions">Naming Conventions</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#field-names" title="Field Names">Field Names</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#resource-names" title="Resource Names">Resource Names</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#resource-identifiers" title="Resource Identifiers">Resource Identifiers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#resource-references" title="Resource References">Resource References</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#document-structure" title="Document Structure">Document Structure</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#root-level-object" title="Root Level Object">Root Level Object</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#flat-structure" title="Flat Structure">Flat Structure</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#the-data-object" title="The “data” Object">The “data” Object</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#request-document" title="Request Document">Request Document</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#resource-instances-and-collections" title="Resource Instances and Collections">Resource Instances and Collections</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#request-payload" title="Request Payload">Request Payload</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#response-document" title="Response Document">Response Document</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#media-type" title="Media Type">Media Type</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#resource-identifier" title="Resource Identifier">Resource Identifier</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#related-resources" title="Related Resources">Related Resources</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#link-relations-and-hateoas" title="Link Relations and HATEOAS">Link Relations and HATEOAS</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#pagination" title="Pagination">Pagination</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#collections-of-resources" title="Collections of Resources">Collections of Resources</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#binary-and-multi-part-content" title="Binary and Multi-part Content">Binary and Multi-part Content</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#wrap-up" title="Wrap-up">Wrap-up</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#related-discussions-on-medium" title="Related Discussions on Medium">Related Discussions on Medium</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"nlrddzog5fikvb3m0vup488","title":"API Bites — Payload Conventions","desc":"","updated":1669536838759,"created":1669536544480,"custom":{},"fname":"dev.back-end.api-bites-payload-conventions","type":"note","vault":{"fsPath":"vault"},"contentHash":"b7e474cd4715b6585500dc53065975b9","links":[],"anchors":{"encoding":{"type":"header","text":"Encoding","value":"encoding","line":16,"column":0,"depth":2},"interoperable-data-formats":{"type":"header","text":"Interoperable Data Formats","value":"interoperable-data-formats","line":20,"column":0,"depth":2},"json-as-the-default-format":{"type":"header","text":"JSON as the Default Format","value":"json-as-the-default-format","line":22,"column":0,"depth":3},"other-media-types":{"type":"header","text":"Other Media Types","value":"other-media-types","line":28,"column":0,"depth":3},"date-time-format":{"type":"header","text":"Date-Time Format","value":"date-time-format","line":38,"column":0,"depth":3},"naming-conventions":{"type":"header","text":"Naming Conventions","value":"naming-conventions","line":47,"column":0,"depth":2},"field-names":{"type":"header","text":"Field Names","value":"field-names","line":49,"column":0,"depth":3},"resource-names":{"type":"header","text":"Resource Names","value":"resource-names","line":55,"column":0,"depth":3},"resource-identifiers":{"type":"header","text":"Resource Identifiers","value":"resource-identifiers","line":63,"column":0,"depth":3},"resource-references":{"type":"header","text":"Resource References","value":"resource-references","line":71,"column":0,"depth":3},"document-structure":{"type":"header","text":"Document Structure","value":"document-structure","line":82,"column":0,"depth":2},"root-level-object":{"type":"header","text":"Root Level Object","value":"root-level-object","line":84,"column":0,"depth":3},"flat-structure":{"type":"header","text":"Flat Structure","value":"flat-structure","line":94,"column":0,"depth":3},"the-data-object":{"type":"header","text":"The “data” Object","value":"the-data-object","line":98,"column":0,"depth":3},"request-document":{"type":"header","text":"Request Document","value":"request-document","line":135,"column":0,"depth":2},"resource-instances-and-collections":{"type":"header","text":"Resource Instances and Collections","value":"resource-instances-and-collections","line":137,"column":0,"depth":3},"request-payload":{"type":"header","text":"Request Payload","value":"request-payload","line":145,"column":0,"depth":3},"response-document":{"type":"header","text":"Response Document","value":"response-document","line":159,"column":0,"depth":2},"media-type":{"type":"header","text":"Media Type","value":"media-type","line":161,"column":0,"depth":3},"resource-identifier":{"type":"header","text":"Resource Identifier","value":"resource-identifier","line":167,"column":0,"depth":3},"related-resources":{"type":"header","text":"Related Resources","value":"related-resources","line":171,"column":0,"depth":3},"link-relations-and-hateoas":{"type":"header","text":"Link Relations and HATEOAS","value":"link-relations-and-hateoas","line":191,"column":0,"depth":3},"pagination":{"type":"header","text":"Pagination","value":"pagination","line":214,"column":0,"depth":3},"collections-of-resources":{"type":"header","text":"Collections of Resources","value":"collections-of-resources","line":254,"column":0,"depth":3},"binary-and-multi-part-content":{"type":"header","text":"Binary and Multi-part Content","value":"binary-and-multi-part-content","line":292,"column":0,"depth":2},"wrap-up":{"type":"header","text":"Wrap-up","value":"wrap-up","line":300,"column":0,"depth":2},"related-discussions-on-medium":{"type":"header","text":"Related Discussions on Medium","value":"related-discussions-on-medium","line":304,"column":0,"depth":2}},"children":[],"parent":"6w36dgapan7eummy1q6jpx1","data":{}},"body":"\u003ch1 id=\"api-bites--payload-conventions\"\u003eAPI Bites — Payload Conventions\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#api-bites--payload-conventions\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eEncoding, Data Formats and Document Structure\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/@trgoodwill/api-bites-payload-conventions-76ffde7f5eb2\"\u003ehttps://medium.com/@trgoodwill/api-bites-payload-conventions-76ffde7f5eb2\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eAPI Development Standards are a focused collection of imperatives, conventions and guidance, and are intended to improve the \u003cstrong\u003e\u003cem\u003econsistency, stability, generality, predictability and usability of business resource APIs\u003c/em\u003e\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eThe following\u003c/em\u003e \u003cstrong\u003e\u003cem\u003e‘sample’ set of standards\u003c/em\u003e\u003c/strong\u003e \u003cem\u003eis focused purely on payload conventions. More to come…\u003c/em\u003e\u003c/p\u003e\n\u003ch2 id=\"encoding\"\u003eEncoding\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#encoding\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eUnicode Transformation Format-8 (UTF-8) is the standard encoding type for all text and textual representations of data through APIs and is the default encoding for JSON (RFC 7159). UTF-8 encoding must be adhered to for all APIs published across the enterprise and externally. Other encodings may be used for ‘private’ partner APIs if and only if there are technical limitations to using UTF-8.\u003c/p\u003e\n\u003ch2 id=\"interoperable-data-formats\"\u003eInteroperable Data Formats\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#interoperable-data-formats\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"json-as-the-default-format\"\u003eJSON as the Default Format\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#json-as-the-default-format\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eAll new and uplifted API implementations \u003cem\u003ereally should\u003c/em\u003e support the JSON data format at a minimum. This does not preclude other media types, such as XML.\u003c/p\u003e\n\u003cp\u003eJSON payload must comply with API Request and API Response document structure requirements. JSON ‘RequestBody’ and ‘Responses’ payloads should be defined under the OpenAPI 3.0 ‘application/json’ content keyword.\u003c/p\u003e\n\u003ch3 id=\"other-media-types\"\u003eOther Media Types\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#other-media-types\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eIt is possible to request more than representation the same resource if multiple supported media types are specified in the OpenAPI 3.0 API specification.\u003c/p\u003e\n\u003cp\u003eThe returned media type must conform to the value provided in the API request Accept header, or the 1st supported media type if multiple values are specified. The default content type is JSON (application/json).\u003c/p\u003e\n\u003cp\u003eIf the requested media type(s) are unsupported, the server is expected to return an HTTP response status ‘415 — Unsupported Media Type’.\u003c/p\u003e\n\u003cp\u003eThe practice of specifying media type with a resource label should be avoided for resource APIs documented with an OpenAPI specification (e.g. avoid ‘resource/{resourceId}.json’).\u003c/p\u003e\n\u003ch3 id=\"date-time-format\"\u003e\u003cstrong\u003eDate-Time Format\u003c/strong\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#date-time-format\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eA consistent date-time format, conforming to \u003ca href=\"https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14\"\u003eRFC3339\u003c/a\u003e, \u003cstrong\u003e\u003cem\u003eshould\u003c/em\u003e\u003c/strong\u003e be used. RFC3339 compliant date-time formats are provided by the OpenAPI 3.0 specification. Date-time fields should be defined in an API specification in the following manner:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eDate fields should be defined as type = “string”, format=”date”.\u003c/li\u003e\n\u003cli\u003eDatetime fields should be defined as type = “string”, format=”date-time”.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe RFC 3339 profile of the standard ISO 8601, in Coordinated Universal Time (UTC), is the standard datetime format for data and timestamp fields in enterprise business resource APIs. The date format is \u003cyyyy-mm-dd\u003e while timestamp format is \u003cyyyy-mm-dd\u003eT\u0026#x3C;hh:mm:ss\u003eZ. Time duration values should be strings, formatted as recommended by ISO 8601, e.g. “P3Y6M4DT12H30M5S”. Any other representation of time in the source system should be converted to and from these standard formats when exchanging data via APIs.\u003c/yyyy-mm-dd\u003e\u003c/yyyy-mm-dd\u003e\u003c/p\u003e\n\u003ch2 id=\"naming-conventions\"\u003eNaming Conventions\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#naming-conventions\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"field-names\"\u003eField Names\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#field-names\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eFor request and response body field names (and query parameter names), case MUST be consistent. camelCase should probably be the default choice unless there are compelling reasons to go a different way. e.g. \u003ccode\u003e\"familyName\" : \"Jones\"\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eFields that represent arrays should be named using plural nouns (e.g. ‘products’).\u003c/p\u003e\n\u003ch3 id=\"resource-names\"\u003eResource Names\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#resource-names\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eResource names must be plural nouns when referring to a resource collection (there are potentially a number of instances) e.g. ‘/\u003cstrong\u003ecustomers’\u003c/strong\u003e. A singleton, such as ‘/customers/1234/\u003cstrong\u003ecart’\u003c/strong\u003e must be singular.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://api.myorg.com/store/v1/**customers\"\u003ehttps://api.myorg.com/store/v1/**customers\u003c/a\u003e**\u003c/p\u003e\n\u003cp\u003eResource names should be lower-case and use only alphabetic characters, with hyphens employed to separate words in the URI. URIs are the only place where hyphens are used as a word separator. In all other situations, the word separation scheme should align with enterprise field naming conventions (e.g. camelCase or snake_case).\u003c/p\u003e\n\u003ch3 id=\"resource-identifiers\"\u003eResource Identifiers\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#resource-identifiers\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eA resource identifier can be a string or numeric value, and must be URL safe. A protected or confidential resource identifier must be un-guessable and non-sequential, providing maximum abstraction from Personally Identifiable Information, primary keys, and time or order of creation. This requirement may be met with a randomly generated unique identifier, e.g.\u003c/p\u003e\n\u003cp\u003e/v1/applicants/\u003cstrong\u003e538d9bb1\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eThe resource identifier must be immutable.\u003c/p\u003e\n\u003ch3 id=\"resource-references\"\u003eResource References\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#resource-references\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eResource identifiers returned with the core data should be referenced consistently — a standard should be mandated.\u003c/p\u003e\n\u003cp\u003eThe most popular schemes are:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eReturn an “id” field. e.g. \u003ccode\u003e\"id\" : \"12B34C\"\u003c/code\u003e. The name of the resource is implied, having been addressed in the URL.\u003c/li\u003e\n\u003cli\u003eReturn an unambiguous concatenation of the resource name followed by the “Id” designation, e.g. \u003ccode\u003e\"customerId\" : \"12B34C\"\u003c/code\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAll \u003cstrong\u003e\u003cem\u003eexternal resource id references\u003c/em\u003e\u003c/strong\u003e should in any case be concatenation of the resource name followed by the “Id” designation, e.g. \u003ccode\u003e\"orderId\" : \"34C56D\"\u003c/code\u003e.\u003c/p\u003e\n\u003ch2 id=\"document-structure\"\u003eDocument Structure\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#document-structure\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"root-level-object\"\u003eRoot Level Object\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#root-level-object\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eRequest and response documents containing JSON data must contain a root level JSON object. This object defines the JSON document’s root. Obviously this does not apply to body-less API requests and responses, such as a GET request. e.g.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003ePOST\u003c/strong\u003e /v1/persons{\u003cbr\u003e\n\"familyName\": \"SMITH\",\u003cbr\u003e\n\"givenName\": \"Jane\",\u003cbr\u003e\n\"birthDate\": \"1992-01-01\"\u003cbr\u003e\n}\u003c/p\u003e\n\u003ch3 id=\"flat-structure\"\u003eFlat Structure\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#flat-structure\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThere is little argument about the need for experience APIs to deliver the leanest, flattest JSON structures possible, \u003cem\u003eas per the above example\u003c/em\u003e. In most scenarios, this imperative will also apply to business resource APIs, however alignment with regulatory or industry frameworks/formalisms will occasionally require a more structured approach. In any case, data structures should be as flat and lean as possible — expressing composability and cohesion in alignment with \u003ca href=\"https://medium.com/@trgoodwill/where-do-business-resource-apis-come-from-472cc8422dec\"\u003ecore domain and conceptual contours principles.\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"the-data-object\"\u003eThe “data” Object\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#the-data-object\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eRegulatory or industry frameworks \u003cem\u003emay\u003c/em\u003e facilitate the transmission of structured metadata alongside business data (e.g. Open Banking), and when this is a significant organizational use-case, it may be advisable for the enterprise to consistently encapsulate business data in a “data” object.\u003c/p\u003e\n\u003cp\u003eThe root object \u003cstrong\u003e\u003cem\u003emay\u003c/em\u003e\u003c/strong\u003e in this case optionally contain a ‘meta’ top-level member in addition to the data member. The ‘meta’ object is used to provide additional information such as copyright, timestamps, origin, ownership, or other contextual data for regulatory or temporal analytical purposes. e.g.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003ePOST\u003c/strong\u003e /v1/applications{\u003cbr\u003e\n\"data\": {\u003cbr\u003e\n\"familyName\": \"SMITH\",\u003cbr\u003e\n\"givenName\": \"Jane\",\u003cbr\u003e\n\"birthDate\": \"1992-01-01\"\u003cbr\u003e\n},\u003cbr\u003e\n\"meta\": {\u003cbr\u003e\n\"classification\": \"sensitive\",\u003cbr\u003e\n\"consent\": \"538d9bb1–95c9–4ceb-864c-80887776573\"\u003cbr\u003e\n}\u003cbr\u003e\n}\u003c/p\u003e\n\u003cp\u003eThis requirement would apply to both request and response documents. When taking this approach, the “links” (or “_links”) object is also top-level and returned as a peer of the “data” member. E.g.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eGET\u003c/strong\u003e /v1/applications/808877765733\u003cstrong\u003eResponse\u003c/strong\u003e 200 OK\u003cbr\u003e\nContent-Type: application/json; charset=utf-8{\u003cbr\u003e\n\"data\": {\u003cbr\u003e\n\"applicationId\": \"808877765733\u003cstrong\u003e\",\u003cbr\u003e\n\u003c/strong\u003e \"applicationDate\": \"2022-01-01\",\u003cbr\u003e\n\"applicationStatus\": \"submitted\",\u003cbr\u003e\n},\u003cbr\u003e\n\u003cstrong\u003e\"links\": {\u003cbr\u003e\n\"memberReferrals\": \"/v1/applications/12345/memberReferrals\",\u003cbr\u003e\n\"cancelApplication\": \"/v1/applications/12345/cancel\"\u003cbr\u003e\n}\u003c/strong\u003e\u003cbr\u003e\n}\u003c/p\u003e\n\u003cp\u003eReserved top-level properties in this scheme might include (at least): \u003cem\u003e“data”, “meta”, “links”\u003c/em\u003e (and/or \u003cem\u003e“_links”\u003c/em\u003e)\u003cem\u003e, “messages”, “risk”\u003c/em\u003e (Open Banking) and \u003cem\u003e“errors”.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eIt is worth taking the time to validate the requirement for such a structure. \u003cem\u003eNote that\u003c/em\u003e \u003cstrong\u003e\u003cem\u003ein an OAuth2 context, the token should be the source-of-truth\u003c/em\u003e\u003c/strong\u003e \u003cem\u003efor contextual information such as originating user and client system, and tokens may, by agreement or by virtue of applicable extended frameworks, carry additional claims relevant to the user and system context.\u003c/em\u003e\u003c/p\u003e\n\u003ch2 id=\"request-document\"\u003eRequest Document\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#request-document\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"resource-instances-and-collections\"\u003eResource Instances and Collections\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#resource-instances-and-collections\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eClient systems may interact with a single resource, or with the resource collection.\u003c/p\u003e\n\u003cp\u003eTo interact with a single, specific manifest, for example, GET/HEAD, PUT, PATCH or DELETE requests are sent to the URI \u003ccode\u003e/v1/manifests/{manifestId}\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eTo interact with the collection of manifests, GET/HEAD or POST (and potentially, QUERY) requests are sent to the resource collection URI \u003ccode\u003e/v1/manifests\u003c/code\u003e\u003c/p\u003e\n\u003ch3 id=\"request-payload\"\u003eRequest Payload\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#request-payload\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eResource instance payloads will be substantially similar across POST (request), GET (response) and PUT (request), and these should ideally reference a shared OpenAPI schema definition. PATCH payload will contain an optional subset of resource data.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eNote that the ‘resourceId’ member (eg ‘customerId’) is not required (nor should it be supported) when a new resource is POSTed to the service. The resource Id is owned by the resource service and is returned in the POST response.\u003c/em\u003e\u003c/p\u003e\n\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"familyName\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Jones\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"givenName\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"James\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"birthDate\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"1983-01-01\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"response-document\"\u003eResponse Document\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#response-document\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"media-type\"\u003eMedia Type\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#media-type\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThe returned media type must conform to the value provided in the API request Accept header, or the 1st supported media type if multiple values are specified.\u003c/p\u003e\n\u003cp\u003eIn the absence of an Accept header, the default content type should be JSON (application/json). If the requested media type is unsupported, the server must return an HTTP response of 415 — Unsupported Media Type.\u003c/p\u003e\n\u003ch3 id=\"resource-identifier\"\u003eResource Identifier\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#resource-identifier\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003erepresentations of resource data in a response document will always include the unique resource Id, e.g. \u003ccode\u003e\"customerId\" : \"12B34C\"\u003c/code\u003e. Refer to the “Naming Conventions” section above.\u003c/p\u003e\n\u003ch3 id=\"related-resources\"\u003eRelated Resources\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#related-resources\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eA GET request to the parent resource should return ‘core’ resource data only. \u003cem\u003eCore and sub resource concepts are discussed\u003c/em\u003e \u003ca href=\"https://medium.com/@trgoodwill/where-do-business-resource-apis-come-from-472cc8422dec\"\u003e\u003cem\u003ehere\u003c/em\u003e\u003c/a\u003e\u003cem\u003e.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eReferences to existentially related resources and sub-resources should be unambiguous, consisting of a concatenation of the resource name followed by the “Id” designation, e.g. \u003ccode\u003e\"orderId\" : \"34C56D\"\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eIdeally, referenced resources should be nested, and contain the resource id together with the minimum of non-sensitive data pertinent to the context. e.g.\u003c/p\u003e\n\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"applicationId\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"808877765733\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"applicationDate\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-01-01\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"applicationStatus\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"submitted\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"applicant\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"applicantId\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"1234\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"John Smith\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"link-relations-and-hateoas\"\u003eLink Relations and HATEOAS\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#link-relations-and-hateoas\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eExistentially related sub-resources may \u003cstrong\u003e\u003cem\u003eoptionally\u003c/em\u003e\u003c/strong\u003e be represented as links, however, take care linking versioned APIs external to the current namespace, as it creates dependencies, and such links may in fact be invalid for some clients when these services undergo major version changes. It is best to reserve links for operations and resources within the same versioned namespace.\u003c/p\u003e\n\u003cp\u003eWhen links are employed as HATEOAS (\u003ca href=\"https://medium.com/@trgoodwill/the-engine-of-application-state-92bfdce0d41c\"\u003e\u003cstrong\u003ethe engine of application state\u003c/strong\u003e\u003c/a\u003e), applicable, adjacent state-lifecycle affordances are presented as links in the payload. In a managed API context, the name of every HATEOAS link should correspond to a documented operation with an explicitly defined request and response document, referring to an \u003cstrong\u003e\u003cem\u003eoperationId\u003c/em\u003e\u003c/strong\u003e or to an OAS 3 \u003cstrong\u003e\u003cem\u003elink name\u003c/em\u003e\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003eLinks should employ the most efficient link format for the use-case. The simple format employed by the \u003ca href=\"https://openbanking.atlassian.net/wiki/spaces/DZ/pages/1077805207/Read+Write+Data+API+Specification+-+v3.1.2#Read%2FWriteDataAPISpecification-v3.1.2-Links\"\u003eOpen Banking standard\u003c/a\u003e is preferential to unnecessarily verbose mechanisms (such as HAL) which are \u003ca href=\"https://medium.com/@trgoodwill/the-engine-of-application-state-92bfdce0d41c\"\u003epoorly aligned with specification-first API management\u003c/a\u003e. \u003cem\u003eHOWEVER\u003c/em\u003e, development framework support should be considered.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eMore on HATEOAS and links in the article\u003c/em\u003e \u003ca href=\"https://medium.com/@trgoodwill/the-engine-of-application-state-92bfdce0d41c\"\u003e\u003cstrong\u003e\u003cem\u003eThe Engine of Application State\u003c/em\u003e\u003c/strong\u003e\u003c/a\u003e\u003cstrong\u003e\u003cem\u003e.\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eExample:\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eGET\u003c/strong\u003e /v1/applications/808877765733\u003cstrong\u003eResponse\u003c/strong\u003e 200 OK\nContent-Type: application/json; charset=utf-8{\n\"applicationId\": \"808877765733\u003cstrong\u003e\",\n\u003c/strong\u003e \"applicationDate\": \"2022-01-01\",\n\"applicationStatus\": \"submitted\",\n\u003cstrong\u003e\"links\": {\n\"memberReferrals\": \"/v1/applications/12345/memberReferrals\",\n\"cancelApplication\": \"/v1/applications/12345/cancel\"\n}\u003c/strong\u003e\n}\u003c/p\u003e\n\u003ch3 id=\"pagination\"\u003ePagination\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#pagination\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eResource servers and their APIs \u003cstrong\u003eSHOULD\u003c/strong\u003e support pagination to assist in the management of payload size and performance.\u003c/p\u003e\n\u003cp\u003ePagination strategies include (but are not limited to): page-based, offset-based, and cursor-based. The page query parameter can be used as a basis for any of these strategies. For example, a page-based strategy might use query parameters such as\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003epage[number] and page[size] e.g. \u003ccode\u003e?page[number]**=**2\u0026#x26;page[size]**=**10\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ean offset-based strategy might use page[offset] and page[limit].\u003c/li\u003e\n\u003cli\u003ea cursor-based strategy might use page[cursor].\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAs with link notation, the pagination notation supported by development frameworks in common use should be considered. \u003cem\u003ePagination notation\u003c/em\u003e \u003cstrong\u003e\u003cem\u003eMUST\u003c/em\u003e\u003c/strong\u003e \u003cem\u003ebe consistent with\u003c/em\u003e \u003ca href=\"https://medium.com/@trgoodwill/the-engine-of-application-state-92bfdce0d41c\"\u003e\u003cem\u003ehyperlink/HATEOAS conventions\u003c/em\u003e\u003c/a\u003e\u003cem\u003e.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eAlways refer to a URL-Path (URL part following the hostname and port).\u003c/p\u003e\n\u003cp\u003e“prev”: “/v1/resources/?page[number]=2\u0026#x26;page[size]=1”\u003c/p\u003e\n\u003cp\u003ePagination links MUST appear in the links object that corresponds to a collection. The following keys \u003cstrong\u003eSHOULD\u003c/strong\u003e be provided for page-based pagination links:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e\u003cem\u003eself\u003c/em\u003e\u003c/strong\u003e : the current page of data\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003cem\u003efirst\u003c/em\u003e\u003c/strong\u003e : the first page of data\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003cem\u003eprev\u003c/em\u003e\u003c/strong\u003e : the previous page of data\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003cem\u003enext\u003c/em\u003e\u003c/strong\u003e : the next page of data\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003cem\u003elast\u003c/em\u003e\u003c/strong\u003e : the last page of data\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"links\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"self\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/v1/orders?page[number]=3\u0026#x26;page[size]=1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"first\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/v1/orders?page[number]=1\u0026#x26;page[size]=1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"prev\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/v1/orders?page[number]=2\u0026#x26;page[size]=1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"next\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/v1/orders?page[number]=4\u0026#x26;page[size]=1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"last\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/v1/orders?page[number]=13\u0026#x26;page[size]=1\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eQuery Parameter Syntax and Amazon API Gateways\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eNote that native Amazon API Gateways do not fully implement \u003ca href=\"https://tools.ietf.org/html/rfc3986\"\u003eRFC 3986\u003c/a\u003e and are more restrictive — query parameters must conform to the regular expression \u003ccode\u003e^[a-zA-Z0–9:._$-]+$\u003c/code\u003e\u003c/p\u003e\n\u003ch3 id=\"collections-of-resources\"\u003eCollections of Resources\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#collections-of-resources\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eA GET performed on a resource collection (without specifying a resource Id) will return potentially multiple resource instances in a “data” array. e.g.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eGET\u003c/strong\u003e /v1/applications\u003cstrong\u003eResponse\u003c/strong\u003e 200 OK\nContent-Type: application/json; charset=utf-8{\n\"data\": [\n{\n\"applicationId\": \"808877765733\u003cstrong\u003e\",\n\u003c/strong\u003e \"applicationDate\": \"2022-01-01\",\n\"applicationStatus\": \"submitted\"\n},\n{\n\"applicationId\": \"80851456484\u003cstrong\u003e\",\n\u003c/strong\u003e \"applicationDate\": \"2022-06-01\",\n\"applicationStatus\": \"pending\"\n}\n]\n}\u003c/p\u003e\n\u003cp\u003eThe response to a GET on a collection \u003cstrong\u003e\u003cem\u003emust return a top-level data array even if only one record exists\u003c/em\u003e\u003c/strong\u003e, or meets the filter criteria. This rule does not apply when no records exist, or meet filter requirements, in which case a response of 404 — Not found should be returned.\u003c/p\u003e\n\u003cp\u003eUncontrolled arrays containing large data sets or large binary objects such as documents or images, must not be returned. \u003cstrong\u003e\u003cem\u003eLarge arrays must be controlled by pagination\u003c/em\u003e\u003c/strong\u003e. It is suggested that payload size should not exceed 2 Mb— primarily for the sake of performance and composability, and because this is a legacy default payload maximum for some platforms. Avoid exceeding 10 Mb at all costs — it is a hard limit for several platforms.\u003c/p\u003e\n\u003cp\u003eA POST may also be performed on a resource collection to create a new instance of the resource. The server should return a ‘Location’ header containing the relative path of the newly created resource, and an ‘id’ field containing the resource identifier. Additional \u003cem\u003ederived\u003c/em\u003e data \u003cem\u003emay\u003c/em\u003e be returned as deemed appropriate. A links object \u003cem\u003emay\u003c/em\u003e be returned if relevant. e.g.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003ePOST\u003c/strong\u003e /v1/applicants\n{ \"familyName\": \"Jones\",\n\"givenName\": \"James\",\n\"birthDate\": \"1983-01-01\"\n}\u003cstrong\u003eResponse\u003c/strong\u003e 201 Created\nContent-Type: application/json; charset=utf-8\nLocation: /v1/applicants/538d9bb1–95c9–4ceb-864c-808877765733{\n\"applicantId\": \"538d9bb1–95c9–4ceb-864c-808877765733\",\n}\u003c/p\u003e\n\u003cp\u003eThese are the only operations that may be performed on a collection. Creating or updating multiple resource instances in the same request is not standardized, and should be avoided. There are factors such as receipt acknowledgement and how to handle partial success in a set of batches that add significant complexity.\u003c/p\u003e\n\u003ch2 id=\"binary-and-multi-part-content\"\u003eBinary and Multi-part Content\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#binary-and-multi-part-content\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eImplementation details for large binary uploads are often necessarily different from small JSON payloads (for example virus scanning, different tuning for HTTP variables for efficient compression, different DDOS protection strategies, etc). For these reasons, care needs to be taken with the modeling of binary data to avoid unnecessary imposts on performance and availability.\u003c/p\u003e\n\u003cp\u003eIf at all possible, binary data should be modeled as a dedicated sub-resource on a separate path to facilitate upload and download as discrete operations.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eMore on this topic in the article:\u003c/em\u003e \u003ca href=\"https://medium.com/@trgoodwill/api-bites-binary-and-multi-part-content-283ef69fc5e9\"\u003e\u003cem\u003eBinary and Multi-Part Content\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"wrap-up\"\u003eWrap-up\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#wrap-up\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eGoverned, opiniated standards and patterns will be required to enable \u003cstrong\u003e\u003cem\u003eseamless interoperability between independent, decoupled domains\u003c/em\u003e\u003c/strong\u003e. While sample guidance and exemplars are offered in this article, there is often more than one tried-and-tested approach in any one area of API design — specific tactics and conventions should be tailored to the target environment.\u003c/p\u003e\n\u003ch2 id=\"related-discussions-on-medium\"\u003eRelated Discussions on Medium\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#related-discussions-on-medium\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/@trgoodwill/api-bites-1af949efdd1b\"\u003eAPI Bites — Versioning APIs\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/@trgoodwill/api-bites-7373b2127ed1\"\u003eAPI Bites — API Path Conventions\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/@trgoodwill/api-bites-filtering-conventions-8a1a19c03975\"\u003eAPI Bites — Filtering Conventions\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/@trgoodwill/283ef69fc5e9\"\u003eAPI Bites — Binary and Multi-Part Content\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/@trgoodwill/where-do-business-resource-apis-come-from-472cc8422dec\"\u003eModeling Coherent and Composable Business Resource APIs\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/@trgoodwill/the-engine-of-application-state-92bfdce0d41c\"\u003eThe Engine of Application State. Aligning HATEOAS, Affordances and Business Events\u003c/a\u003e\u003c/p\u003e","noteIndex":{"id":"Iy0MoL0KnL55Br3AfTS2C","title":"Luke","desc":"","updated":1766965759366,"created":1644449449778,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"a724de3efd251cf89fe82a5860d9008b","links":[{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"life-tips","position":{"start":{"line":43,"column":5,"offset":2710},"end":{"line":43,"column":29,"offset":2734},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"life-tips","anchorHeader":"wodenokoto"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2026.articles","alias":"What I read in 2026","position":{"start":{"line":72,"column":3,"offset":4440},"end":{"line":72,"column":45,"offset":4482},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2026.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2025.articles","alias":"2025","position":{"start":{"line":73,"column":5,"offset":4487},"end":{"line":73,"column":32,"offset":4514},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2025.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2024.articles","alias":"2024","position":{"start":{"line":74,"column":5,"offset":4519},"end":{"line":74,"column":32,"offset":4546},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2024.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2023.articles","alias":"2023","position":{"start":{"line":75,"column":5,"offset":4551},"end":{"line":75,"column":32,"offset":4578},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2023.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"read.2022.articles","alias":"2022","position":{"start":{"line":76,"column":5,"offset":4583},"end":{"line":76,"column":32,"offset":4610},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"read.2022.articles"}},{"type":"wiki","from":{"fname":"root","id":"Iy0MoL0KnL55Br3AfTS2C","vaultName":"vault"},"value":"journal.what-i-struggled-brag-in","position":{"start":{"line":82,"column":3,"offset":4746},"end":{"line":82,"column":39,"offset":4782},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"journal.what-i-struggled-brag-in"}}],"anchors":{"what-i-read-in-past":{"type":"header","text":"What I read in past","value":"what-i-read-in-past","line":76,"column":0,"depth":2}},"children":["zd4mq442jike0pr0wba1u3m","6hzeqsofq67gdk88flxlkhp","778ijii93yu5uwnrwmn5zi4","g1fngdjl25nes6fs3lip602","ZbdkdApFqLdks4Moq92R9","uoc5hhki3o4py15cesddu8q","9qf7j06jtdkm6rnx9ymvwb0","5zn10cvj7ajy2gh2is5nqmg","4qo9ma0z0yu1czns6pxl7y5","ok0e729ho7o09xetujkxc0m","GR5x8HnNFEN6fU2UBSEIK","yirtnlj8q24yutcf3ss1xqy","eq0wc6t7wl2wv221yb68ro4","7x2fnv4j6gxts08qk0jguny","ettkt3iClONnxpbGwBVLl","7l4knev6v613tbuoskvmbdg","hvh5bud6yp7dc89tuh95tr9","4fvoqrplw0cweo554usbjos","f8qsfql0a9v8thpeo82udfa","1swsbrhqi9jk41v9eodyi5q","SQqYupi6EFddTerBA8RRD","hjNeNc1F2JUh0lTWanH4h","qf0l4wbrc9jgooyzexmbq5v","o7xruzrah5wzqetottecss7","z1zo2mp6ddji5p317i4x9xw","v06c2tjelh341x4resa50fh","0yqesk4rcffwgyuab5x8rfa","sy2vkbtyu671chkvgn1yt8j","ufixpmxoydiccoh59kphrib","alswadkx4wb05y1z9iwfzfv","1daut9dpw70xd0zh5a7j5p4"],"parent":null,"data":{},"body":"\nHi there 👋. I'm a Front-end developer.\n\n---\n\n- 현실은 인간의 연산으로 완전히 파악할 수 없는 복잡계. 주어진 상황과 능력으로 할 수 있는 최선의 적응은 단순함과 꾸준함.\n\n  - 파산을 면하는 선에서 여러가지를 해보고 자신에게 맞는 걸 위주로 꾸준히. 그를 위해 단순, 편안, 쾌적함이 필요.\n\n- 🥱 -\u003e 🤔💡🌱 - [On The Death of Daydreaming](https://www.afterbabel.com/p/on-the-death-of-daydreaming)\n  - boredom -\u003e easy fun -\u003e art -\u003e profit?\n\n\u003e I've often described my motivation for building software to others using imagery: I like to go find a secluded beach, build a large, magnificent sand castle, and then walk away. Will anyone notice? Probably not. Will the waves eventually destroy it? Yep. Did I still get immense satisfaction? Absolutely. - [aliasxneo](https://news.ycombinator.com/item?id=41497113)\n\n\u003e We love to see the process, not just the result. The imperfections in your work can be beautiful if they show your struggle for perfection, not a lack of care. - [ralphammer](https://ralphammer.com/is-perfection-boring/)\n\n\u003e Simplicity, even if it sacrifices some ideal functionality has better survival characteristics than the-right-thing. - [The Rise of Worse is Better](https://www.dreamsongs.com/RiseOfWorseIsBetter.html)\n\n\u003e [Roberto Blake was talking about making 100 crappy videos](https://www.youtube.com/watch?v=OnUBaQ1Sp_E) to get better over time. Putting in the reps and improving a little bit each time.\n\u003e\n\u003e Putting in the work without expecting any external reward at first (eg views, followers, likes, etc) will pay off in the long run. - [100 Scrappy Things](https://www.florin-pop.com/blog/100-scrappy-things/)\n\n\u003e Make the difficult habitual, the habitual easy, and the easy beautiful. - [Constantin S. Stanislavski](https://www.goodreads.com/quotes/7102271-make-the-difficult-habitual-the-habitual-easy-and-the-easy)\n\n\u003e A good match is a **structured** dance, where players aim to **score** while they are following well-defined **rules**. This **freedom within a structure** is what makes it fun. - [ralphammer](https://ralphammer.com/how-to-get-started/)\n\n- [Pivot Points](https://longform.asmartbear.com/pivot-points/)\n\n  - non-judgmental aspects of personality that can be strengths in some contexts and weaknesses in others\n  - Pivot Points are fixed in the short term\n\n- [Hedged Bets](https://longform.asmartbear.com/predict-the-future/#hedged-bets)\n  - trading slightly less maximum upside for predictable, net-positive outcomes.\n\n\u003e “Motivation often comes after starting, not before. Action produces momentum.”\n\u003e [When you start a new habit, it should take less than two minutes to do.](https://jamesclear.com/how-to-stop-procrastinating)\n\u003e\n\u003e - James Clear\n\n\u003e Focus is more about **not** keeping busy when you need to wait for something.  \n\u003e Eat the boredom for a minute.\n\u003e\n\u003e - [[life-tips#wodenokoto]]\n\n\u003e [4 minutes run hard enough to push heart rate to 90%, 3 minutes recover, repeat 4 times](https://news.ycombinator.com/item?id=34213181)\n\u003e\n\u003e - https://www.ntnu.edu/cerg/advice\n\u003e - [Get running with Couch to 5K](https://www.nhs.uk/live-well/exercise/running-and-aerobic-exercises/get-running-with-couch-to-5k/)\n\n\u003e [recommended routine - bodyweightfitness](https://www.reddit.com/r/bodyweightfitness/wiki/kb/recommended_routine/) - I Don't Have This Much Time!\n\u003e\n\u003e - Don't workout at all (saves anywhere from 20 to 60 minutes, but really, really, really, really, really, really, really, really, really not recommended)\n\n\u003e 도무지 읽히지 않는 책 앞에서 내가 택한 방법은 펼쳐진 페이지 앞에서 멍때리기이다. 다르게 표현하면 이렇다. 펼쳐진 두 페이지 앞에서 오래 머물기.\n\u003e\n\u003e 책을 펼쳐놓는 것으로 충분하다. 읽지 못해도 좋다. 매일 정해진 진도를 나가야 하는 학교 수업이 아니니까. 하지만 읽지 않아도 괜찮다고 해서 펼쳐두지조차 않으면 곤란하다. 가능한 한 자주 책을 펼쳐두도록 하자. 전혀 읽지 않고 멍하니 바라보고 있다가 다시 덮게 되더라도\n\u003e\n\u003e - 막막한 독서. 시로군. P.10~13\n\n\u003e I think it should be everyone's primary focus to sleep well, drink water, get outside, get active, and eat generally decently. I hate to say it, but if you're not eating a good amount of vegetables and fruit, decent protein, sleep, etc, no amount of XYZ will catch up to that detriment. - [CE02](https://news.ycombinator.com/item?id=35056071)\n\n\u003e My real battle is doing good versus doing nothing. - [Deirdre Sullivan](https://www.npr.org/2005/08/08/4785079/always-go-to-the-funeral)\n\n[Kind Engineering](https://kind.engineering/) - How To Engineer Kindness\n\n\u003e Sometimes magic is just someone spending more time on something than anyone else might reasonably expect. - [Teller](https://www.goodreads.com/quotes/6641527-sometimes-magic-is-just-someone-spending-more-time-on-something)\n\n---\n\n## What I read in past\n\n- [[What I read in 2026|read.2026.articles]]\n  - [[2025|read.2025.articles]]\n  - [[2024|read.2024.articles]]\n  - [[2023|read.2023.articles]]\n  - [[2022|read.2022.articles]]\n- 📝 [Gists](https://gist.github.com/Luke-SNAW)\n- 📜 [Journals](https://luke-snaw.github.io/Luke-SNAW__netlify-CMS.github.io/)\n\n---\n\n- [[journal.what-i-struggled-brag-in]]\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":false,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.115.0","enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Luke SNAW","description":"Personal knowledge space"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","siteUrl":"https://luke-snaw.github.io/","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"nlrddzog5fikvb3m0vup488"},"buildId":"wirstT2ztC8OQsbzKjhvw","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>